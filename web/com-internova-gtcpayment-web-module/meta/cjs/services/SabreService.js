"use strict";var __extends=this&&this.__extends||function(){var e=function(r,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])})(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}}(),__awaiter=this&&this.__awaiter||function(e,r,t,n){return new(t||(t=Promise))(function(o,i){function fulfilled(e){try{step(n.next(e))}catch(r){i(r)}}function rejected(e){try{step(n.throw(e))}catch(r){i(r)}}function step(e){e.done?o(e.value):function adopt(e){return e instanceof t?e:new t(function(r){r(e)})}(e.value).then(fulfilled,rejected)}step((n=n.apply(e,r||[])).next())})},__generator=this&&this.__generator||function(e,r){var t,n,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(i){return function(a){return function step(i){if(t)throw new TypeError("Generator is already executing.");for(;c;)try{if(t=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,n=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(o=(o=c.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){c.label=i[1];break}if(6===i[0]&&c.label<o[1]){c.label=o[1],o=i;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(i);break}o[2]&&c.ops.pop(),c.trys.pop();continue}i=r.call(e,c)}catch(a){i=[6,a],n=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.SabreService=void 0;var AbstractService_1=require("sabre-ngv-app/app/services/impl/AbstractService"),ISoapApiService_1=require("sabre-ngv-communication/interfaces/ISoapApiService"),Context_1=require("../Context"),SrwSyncApi_1=require("sabre-ngv-app/app/services/impl/SrwSyncApi"),RestApiService_1=require("sabre-ngv-communication/services/RestApiService"),SabreService=function(e){function SabreService(){return null!==e&&e.apply(this,arguments)||this}return __extends(SabreService,e),SabreService.prototype.callSoapServiceAsync=function(e,r,t,n){var o=this;return new Promise(function(i,c){var a=(0,Context_1.getService)(ISoapApiService_1.ISoapApiService),u={action:r,payload:e,authTokenType:t,timeout:n};console.log("rq_:",u),a.callSws(u).then(function(e){return __awaiter(o,void 0,void 0,function(){return __generator(this,function(r){return console.log("async: response",e),i(e.value),[2]})})}).catch(function(e){console.log("callSoapServiceAsync error: ",e),c(e)})})},SabreService.prototype.callSoapServiceSync=function(e,r){var t=(0,Context_1.getService)(SrwSyncApi_1.SrwSyncApi);try{return t.sws(e,r)}catch(n){}},SabreService.prototype.callRestServiceAsync=function(e,r,t,n,o){return(0,Context_1.getService)(RestApiService_1.RestApiService).send({httpMethod:r,url:e,authTokenType:t,payload:n,headers:o})},SabreService.SERVICE_NAME="com-internova-gtcpayment-web-module-SabreService",SabreService}(AbstractService_1.AbstractService);exports.SabreService=SabreService;
