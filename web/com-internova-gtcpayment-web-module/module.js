System.registerDynamic("com-internova-gtcpayment-web-module/_",[],!1,function(e,t,n){}),System.registerDynamic("com-internova-gtcpayment-web-module/_.js",["com-internova-gtcpayment-web-module/_"],!1,function(e,t){Object.assign(t,e("com-internova-gtcpayment-web-module/_"))}),System.registerDynamic("com-internova-gtcpayment-web-module/common/IUtilitario",[],!1,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),System.registerDynamic("com-internova-gtcpayment-web-module/common/IUtilitario.js",["com-internova-gtcpayment-web-module/common/IUtilitario"],!1,function(e,t){Object.assign(t,e("com-internova-gtcpayment-web-module/common/IUtilitario"))}),System.registerDynamic("com-internova-gtcpayment-web-module/common/Utilitario",["sabre-ngv-app/app/services/impl/AbstractService","com-internova-gtcpayment-web-module/services/ExternalService","com-internova-gtcpayment-web-module/common/XmlPayLoads","com-internova-gtcpayment-web-module/Context"],!1,function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.Utilitario=void 0;var a=e("sabre-ngv-app/app/services/impl/AbstractService"),i=e("../services/ExternalService"),s=e("./XmlPayLoads"),c=e("../Context"),l=function(e){function Utilitario(){return null!==e&&e.apply(this,arguments)||this}return o(Utilitario,e),Utilitario.prototype.GetPayLoad=function(e){return new Promise(function(t,n){var r=s.XmlPayLoads.items[e];r&&r.length?t(r):n("")})},Utilitario.prototype.GetXPathResult=function(e,t,n,r){var o=(new DOMParser).parseFromString(e,"text/xml");return o.evaluate(t,o,n,r,null)},Utilitario.prototype.IsMatch=function(e,t){return new RegExp(t).test(e)},Utilitario.prototype.GetValue=function(e,t,n){for(var r,o="";null!==(r=t.exec(e));)r.index===t.lastIndex&&t.lastIndex++,r.forEach(function(e,t){t===n&&(o=e)});return o},Utilitario.prototype.GetValues=function(e,t,n){for(var r,o=[];null!==(r=t.exec(e));)r.index===t.lastIndex&&t.lastIndex++,r.forEach(function(e,t){t===n&&o.push(e)});return o},Utilitario.prototype.RemoveNameSpace=function(e){return e=e.replace(/xmlns=\"(.*?)\"/g,"")},Utilitario.prototype.GetPayLoadInfo=function(e){return new Promise(function(t,n){(0,c.getService)(i.ExternalService).sendRequest("GET",e).then(function(e){t(e)}).catch(function(e){console.error("err.statusText:",e.statusText),n(e)})})},Utilitario.prototype.StringToXml=function(e){return(new DOMParser).parseFromString(e,"text/xml")},Utilitario.prototype.DocumentToString=function(e){return(new XMLSerializer).serializeToString(e)},Utilitario.SERVICE_NAME="com-internova-gtcpayment-web-module-Utilitario",Utilitario}(a.AbstractService);t.Utilitario=l}),System.registerDynamic("com-internova-gtcpayment-web-module/common/Utilitario.js",["com-internova-gtcpayment-web-module/common/Utilitario"],!1,function(e,t){Object.assign(t,e("com-internova-gtcpayment-web-module/common/Utilitario"))}),System.registerDynamic("com-internova-gtcpayment-web-module/common/XmlPayLoads",[],!1,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XmlPayLoads=void 0;var r=function(){function XmlPayLoads(){}return XmlPayLoads.items={AddAccountingLineLLSRQ:'<AddAccountingLineRQ TimeStamp="2015-04-09T14:30:00-06:00" Version="2.0.0">\n  <AirAccountingLines>\n    <InteractiveElectronicTicket>\n      <FOP_One Type="CK"/>\n      <ItinTotalFare>\n        <BaseFare Amount="0.00"/>\n        <Commission Amount="0.00"/>\n        <Taxes>\n          <Tax Amount="0.00"/>\n        </Taxes>\n      </ItinTotalFare>\n      <PersonName NameNumber="1.1">\n        <GivenName></GivenName>\n        <Surname></Surname>\n      </PersonName>\n      <Ticketing eTicketNumber="28282828280" NumDocs="1" Tariff="D"/>\n      <Type Info="ONE"/>\n      <VendorPrefs>\n        <Airline Code="DL"/>\n      </VendorPrefs>\n    </InteractiveElectronicTicket>\n  </AirAccountingLines>\n</AddAccountingLineRQ>',UpdateReservationRQCar:'<UpdateReservationRQ xmlns="http://webservices.sabre.com/pnrbuilder/v1_19"\nxmlns:ns2="http://services.sabre.com/res/or/v1_14" Version="1.19.0">\n<ReservationUpdateList>\n  <ReservationUpdateItem>\n    <ProductUpdate op="C">\n      <Product>\n        <ns2:ProductDetails endDateTime="" startDateTime="" startPoint="" statusCode="GK" vendorCode="">\n          <ns2:ProductName type="CAR"/>\n          <ns2:Vehicle>\n            <ns2:ConfirmationNumber></ns2:ConfirmationNumber>\n            <ns2:VehicleRentalCore>\n              <ns2:DropOffLocationDetails locationCode=""/>\n              <ns2:LocationDetails locationCode=""/>\n            </ns2:VehicleRentalCore>\n            <ns2:VehicleVendorAvail>\n              <ns2:VehicleResCore>\n                <ns2:PricedEquipment equipmentType="" quantity="1"/>\n                <ns2:RentalRate>\n                  <ns2:Billing reference=""/>\n                  <ns2:Client>\n                    <ns2:ID></ns2:ID>\n                  </ns2:Client>\n                  <ns2:ServiceInformation>\n                      <ns2:Text></ns2:Text>\n                  </ns2:ServiceInformation>\n                </ns2:RentalRate>\n                <ns2:Charge dropOffCharge="" typeOfGuarantee="" />\n              </ns2:VehicleResCore>\n            </ns2:VehicleVendorAvail>\n            <ns2:PricingElements>\n            </ns2:PricingElements>\n          </ns2:Vehicle>\n        </ns2:ProductDetails>\n      </Product>\n    </ProductUpdate>\n  </ReservationUpdateItem>\n</ReservationUpdateList>\n</UpdateReservationRQ>',UpdateReservationRQrmk:'<UpdateReservationRQ xmlns="http://webservices.sabre.com/pnrbuilder/v1_19" xmlns:or="http://services.sabre.com/res/or/v1_12" Version="1.19.0" EchoToken="RK/ENV/PXGSSDMLT-60703">\n<RequestType>Stateful</RequestType>\n  <ReservationUpdateList>\n      <ReservationUpdateItem>\n      </ReservationUpdateItem>\n  </ReservationUpdateList>\n</UpdateReservationRQ>',UpdateReservationRQHotel:'<UpdateReservationRQ xmlns="http://webservices.sabre.com/pnrbuilder/v1_19"\nxmlns:ns2="http://services.sabre.com/res/or/v1_14" Version="1.19.0">\n  <ReservationUpdateList>\n    <ReservationUpdateItem>\n      <ProductUpdate op="C">\n        <Product>\n          <ns2:ProductDetails>\n            <ns2:ProductName type="HHT"/>\n            <ns2:Hotel>\n              <ns2:Reservation>\n                <ns2:LineStatus>GK</ns2:LineStatus>\n                <ns2:SpecialPrefs>\n                </ns2:SpecialPrefs>\n                <ns2:RoomType>\n                  <ns2:RoomTypeCode></ns2:RoomTypeCode>\n                  <ns2:NumberOfUnits></ns2:NumberOfUnits>\n                </ns2:RoomType>\n                <ns2:RoomRates>\n                  <ns2:AmountBeforeTax></ns2:AmountBeforeTax>\n                  <ns2:CurrencyCode></ns2:CurrencyCode>\n                </ns2:RoomRates>\n                <ns2:TimeSpanStart></ns2:TimeSpanStart>\n                <ns2:TimeSpanEnd></ns2:TimeSpanEnd>\n                <ns2:Guarantee>\n                </ns2:Guarantee>\n                <ns2:ChainCode></ns2:ChainCode>\n                <ns2:HotelCityCode></ns2:HotelCityCode>\n                <ns2:HotelName></ns2:HotelName>\n              </ns2:Reservation>\n              <ns2:AdditionalInformation>\n                <ns2:ConfirmationNumber></ns2:ConfirmationNumber>\n                <ns2:Address>\n                </ns2:Address>\n                <ns2:ContactNumbers>\n                  <ns2:PhoneNumber></ns2:PhoneNumber>\n                </ns2:ContactNumbers>\n              </ns2:AdditionalInformation>\n            </ns2:Hotel>\n          </ns2:ProductDetails>\n        </Product>\n      </ProductUpdate>\n    </ReservationUpdateItem>\n  </ReservationUpdateList>\n</UpdateReservationRQ>',AddRemarkLLSRQ:'\n<AddRemarkRQ xmlns="http://webservices.sabre.com/sabreXML/2011/10" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ReturnHostCommand="true" Version="2.1.1">\n<RemarkInfo>\n</RemarkInfo>\n</AddRemarkRQ>',ContextChangeLLSRQ:'        \n<ContextChangeRQ Version="2.0.3"\nxmlns="http://webservices.sabre.com/sabreXML/2011/10">\n<ChangeAAA PseudoCityCode="KA0J"/>\n</ContextChangeRQ>',EPS_EXT_ProfileReadRQ:'        \n<Sabre_OTA_ProfileReadRQ xmlns="http://www.sabre.com/eps/schemas"\nxmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.sabre.com/eps/schemas        \n        ..schemasWSDLSabre_OTA_ProfileReadRQ.xsd" Version="6.55">\n<Profile>\n  <TPA_Identity UniqueID="229281197" ClientCode="TN" DomainID="KA0J" ClientContextCode="MYS">\n  </TPA_Identity>\n</Profile>\n</Sabre_OTA_ProfileReadRQ>',eTicketCouponLLSRQ:'\n<eTicketCouponRQ xmlns="http://webservices.sabre.com/sabreXML/2011/10" Version="2.0.0" ReturnHostCommand="true">\n<Ticketing eTicketNumber="2204898351580"/>\n</eTicketCouponRQ>',GetReservationRQ_WithSession:'\n<SOAP-ENV:Envelope xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/"\nxmlns:eb="http://www.ebxml.org/namespaces/messageHeader"\nxmlns:xlink="http://www.w3.org/1999/xlink"\nxmlns:xsd="http://www.w3.org/1999/XMLSchema">\n<SOAP-ENV:Header>\n  <eb:MessageHeader SOAP-ENV:mustUnderstand="1" eb:version="1.0">\n    <eb:From>\n      <eb:PartyId type="urn:x12.org:IO5:01">999999</eb:PartyId>\n    </eb:From>\n    <eb:To>\n      <eb:PartyId type="urn:x12.org:IO5:01">123123</eb:PartyId>\n    </eb:To>\n    <eb:CPAId>U511</eb:CPAId>\n    <eb:ConversationId>webservices.support@sabre.com</eb:ConversationId>\n    <eb:Service eb:type="OTA">Air</eb:Service>\n    <eb:Action>GetReservationRQ</eb:Action>\n    <eb:MessageData>\n      <eb:MessageId>1000</eb:MessageId>\n      <eb:Timestamp>2016-12-30T05:25:32z</eb:Timestamp>\n    </eb:MessageData>\n  </eb:MessageHeader>\n  <wsse:Security xmlns:wsse="http://schemas.xmlsoap.org/ws/2002/12/secext"\n    xmlns:wsu="http://schemas.xmlsoap.org/ws/2002/12/utility">\n    <wsse:BinarySecurityToken></wsse:BinarySecurityToken>\n  </wsse:Security>\n</SOAP-ENV:Header>\n<SOAP-ENV:Body>\n  <GetReservationRQ Version="1.19.0"\n    xmlns="http://webservices.sabre.com/pnrbuilder/v1_19">\n    <Locator></Locator>\n    <RequestType>Stateful</RequestType>\n    <ReturnOptions PriceQuoteServiceVersion="3.2.0">\n      <SubjectAreas>\n        <SubjectArea>FULL</SubjectArea>\n        <SubjectArea>PRICE_QUOTE</SubjectArea>\n      </SubjectAreas>\n    </ReturnOptions>\n  </GetReservationRQ>\n</SOAP-ENV:Body>\n</SOAP-ENV:Envelope>',GetReservationRQ:'\n<GetReservationRQ Version="1.19.0"\nxmlns="http://webservices.sabre.com/pnrbuilder/v1_19">\n<Locator>OSUICI</Locator>\n<RequestType>Stateful</RequestType>\n<ReturnOptions>\n  <ViewName>VaDefaultWithPq</ViewName>\n  <ResponseFormat>STL</ResponseFormat>\n</ReturnOptions>\n</GetReservationRQ>',IgnoreTransactionLLSRQ_WithSession:'\n<SOAP-ENV:Envelope xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/"\nxmlns:eb="http://www.ebxml.org/namespaces/messageHeader"\nxmlns:xlink="http://www.w3.org/1999/xlink"\nxmlns:xsd="http://www.w3.org/1999/XMLSchema">\n<SOAP-ENV:Header>\n  <eb:MessageHeader SOAP-ENV:mustUnderstand="1" eb:version="1.0">\n    <eb:From>\n      <eb:PartyId type="urn:x12.org:IO5:01">999999</eb:PartyId>\n    </eb:From>\n    <eb:To>\n      <eb:PartyId type="urn:x12.org:IO5:01">123123</eb:PartyId>\n    </eb:To>\n    <eb:CPAId>KA0J</eb:CPAId>\n    <eb:ConversationId>webservices.support@sabre.com</eb:ConversationId>\n    <eb:Service eb:type="OTA">IgnoreTransactionLLSRQ</eb:Service>\n    <eb:Action>IgnoreTransactionLLSRQ</eb:Action>\n    <eb:MessageData>\n      <eb:MessageId>1000</eb:MessageId>\n      <eb:Timestamp>2016-12-30T05:25:32z</eb:Timestamp>\n    </eb:MessageData>\n  </eb:MessageHeader>\n  <wsse:Security xmlns:wsse="http://schemas.xmlsoap.org/ws/2002/12/secext"\n    xmlns:wsu="http://schemas.xmlsoap.org/ws/2002/12/utility">\n    <wsse:BinarySecurityToken></wsse:BinarySecurityToken>\n  </wsse:Security>\n</SOAP-ENV:Header>\n<SOAP-ENV:Body>\n  <IgnoreTransactionRQ ReturnHostCommand="true" Version="2.0.0"\n    xmlns="http://webservices.sabre.com/sabreXML/2011/10"/>\n</SOAP-ENV:Body>\n</SOAP-ENV:Envelope>',PassengerDetailsRQ_WithSession:'\n<SOAP-ENV:Envelope xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/"\nxmlns:eb="http://www.ebxml.org/namespaces/messageHeader"\nxmlns:xlink="http://www.w3.org/1999/xlink"\nxmlns:xsd="http://www.w3.org/1999/XMLSchema">\n<SOAP-ENV:Header>\n  <eb:MessageHeader SOAP-ENV:mustUnderstand="1" eb:version="1.0">\n    <eb:From>\n      <eb:PartyId type="urn:x12.org:IO5:01">999999</eb:PartyId>\n    </eb:From>\n    <eb:To>\n      <eb:PartyId type="urn:x12.org:IO5:01">123123</eb:PartyId>\n    </eb:To>\n    <eb:CPAId>KA0J</eb:CPAId>\n    <eb:ConversationId>webservices.support@sabre.com</eb:ConversationId>\n    <eb:Service eb:type="OTA">PassengerDetailsRQ</eb:Service>\n    <eb:Action>PassengerDetailsRQ</eb:Action>\n    <eb:MessageData>\n      <eb:MessageId>1000</eb:MessageId>\n      <eb:Timestamp>2016-12-30T05:25:32z</eb:Timestamp>\n    </eb:MessageData>\n  </eb:MessageHeader>\n  <wsse:Security xmlns:wsse="http://schemas.xmlsoap.org/ws/2002/12/secext"\n    xmlns:wsu="http://schemas.xmlsoap.org/ws/2002/12/utility">\n    <wsse:BinarySecurityToken></wsse:BinarySecurityToken>\n  </wsse:Security>\n</SOAP-ENV:Header>\n<SOAP-ENV:Body>\n  <PassengerDetailsRQ xmlns="http://services.sabre.com/sp/pd/v3_4" version="3.4.0" ignoreOnError="false" haltOnError="false">\n    <MiscSegmentSellRQ>\n      <MiscSegment DepartureDateTime="12-21" InsertAfter="0" NumberInParty="1" Status="GK" Type="OTH">\n        <OriginLocation LocationCode="FSG"/>\n        <Text>TEST</Text>\n        <VendorPrefs>\n          <Airline Code="XX"/>\n        </VendorPrefs>\n      </MiscSegment>\n    </MiscSegmentSellRQ>\n    <PostProcessing haltOnInvalidMCT="false" ignoreAfter="true" unmaskCreditCard="false">\n      <RedisplayReservation waitInterval="100" returnExtendedPriceQuote="false"/>\n      <EndTransactionRQ shouldCheckRefId="true">\n        <EndTransaction Ind="true"/>\n        <Source ReceivedFrom="SWS VISTAJET"/>\n      </EndTransactionRQ>\n      <QueuePlaceRQ NumResponses="5">\n        <QueueInfo>\n          <QueueIdentifier Number="400" PrefatoryInstructionCode="10" PseudoCityCode="KA0J"/>\n          <UniqueID ID="UDFJGZ"/>\n        </QueueInfo>\n      </QueuePlaceRQ>\n    </PostProcessing>\n    <ProfileRQ>\n      <UniqueID id="CRHTL"/>\n    </ProfileRQ>\n    <SpecialReqDetails>\n      <AddRemarkRQ>\n        <RemarkInfo>\n          <Remark Code="H" Type="Alpha-Coded">\n            <Text></Text>\n          </Remark>\n        </RemarkInfo>\n      </AddRemarkRQ>\n    </SpecialReqDetails>\n  </PassengerDetailsRQ>\n</SOAP-ENV:Body>\n</SOAP-ENV:Envelope>',PassengerDetailsRQ:'\n<PassengerDetailsRQ xmlns="http://services.sabre.com/sp/pd/v3_4" version="3.4.0" ignoreOnError="false" haltOnError="false">\n<MiscSegmentSellRQ>\n  <MiscSegment DepartureDateTime="12-21" InsertAfter="0" NumberInParty="1" Status="GK" Type="OTH">\n    <OriginLocation LocationCode="FSG"/>\n    <Text>TEST</Text>\n    <VendorPrefs>\n      <Airline Code="XX"/>\n    </VendorPrefs>\n  </MiscSegment>\n</MiscSegmentSellRQ>\n<PostProcessing haltOnInvalidMCT="false" ignoreAfter="true" unmaskCreditCard="false">\n  <RedisplayReservation waitInterval="100" returnExtendedPriceQuote="false"/>\n  <EndTransactionRQ shouldCheckRefId="true">\n    <EndTransaction Ind="true"/>\n    <Source ReceivedFrom="SWS VISTAJET"/>\n  </EndTransactionRQ>\n  <QueuePlaceRQ NumResponses="5">\n    <QueueInfo>\n      <QueueIdentifier Number="400" PrefatoryInstructionCode="10" PseudoCityCode="KA0J"/>\n      <UniqueID ID="UDFJGZ"/>\n    </QueueInfo>\n  </QueuePlaceRQ>\n</PostProcessing>\n<ProfileRQ>\n  <UniqueID id="CRHTL"/>\n</ProfileRQ>\n<SpecialReqDetails>\n  <AddRemarkRQ>\n    <RemarkInfo>\n      <Remark Code="H" SegmentNumber="1" Type="General">\n        <Text>TEST REMARK 2</Text>\n      </Remark>\n    </RemarkInfo>\n  </AddRemarkRQ>\n</SpecialReqDetails>\n</PassengerDetailsRQ>',QueuePlaceRQ:'<QueuePlaceRQ xmlns="http://webservices.sabre.com/sabreXML/2011/10"\nxmlns:xs="http://www.w3.org/2001/XMLSchema"\nxmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Version="2.0.4">\n<QueueInfo>\n<QueueIdentifier Number="" PrefatoryInstructionCode="11" PseudoCityCode=""/>\n</QueueInfo>\n</QueuePlaceRQ>',Sabre_OTA_ProfileReadRQ:'\n<Sabre_OTA_ProfileReadRQ xmlns="http://www.sabre.com/eps/schemas"\nxmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.sabre.com/eps/schemas\n..schemasWSDLSabre_OTA_ProfileReadRQ.xsd" Version="6.55">\n<Profile>\n<TPA_Identity UniqueID="*" ClientCode="" DomainID="" ProfileTypeCode="" ClientContextCode="" />\n</Profile>\n</Sabre_OTA_ProfileReadRQ>',Sabre_OTA_ProfileSearchRQ:'\n<Sabre_OTA_ProfileSearchRQ Version="6.26"\nxmlns="http://www.sabre.com/eps/schemas"\nxmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.sabre.com/eps/schemas ..schemaswsdlSabre_OTA_ProfileSearchRQ.xsd">\n<ProfileSearchCriteria ProfileNameOnly="Y">\n<TPA_Identity ClientCode="" ClientContextCode="" DomainID="" ProfileName="" ProfileTypeCode=""/>\n</ProfileSearchCriteria>\n</Sabre_OTA_ProfileSearchRQ>',Sabre_OTA_ProfileToPNRRQ_WithSession:'\n<SOAP-ENV:Envelope xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/"\nxmlns:eb="http://www.ebxml.org/namespaces/messageHeader"\nxmlns:xlink="http://www.w3.org/1999/xlink"\nxmlns:xsd="http://www.w3.org/1999/XMLSchema">\n<SOAP-ENV:Header>\n<eb:MessageHeader SOAP-ENV:mustUnderstand="1" eb:version="1.0">\n  <eb:From>\n    <eb:PartyId type="urn:x12.org:IO5:01">999999</eb:PartyId>\n  </eb:From>\n  <eb:To>\n    <eb:PartyId type="urn:x12.org:IO5:01">123123</eb:PartyId>\n  </eb:To>\n  <eb:CPAId>KA0J</eb:CPAId>\n  <eb:ConversationId>webservices.support@sabre.com</eb:ConversationId>\n  <eb:Service eb:type="OTA">EPS</eb:Service>\n  <eb:Action>EPS_EXT_ProfileToPNRRQ</eb:Action>\n  <eb:MessageData>\n    <eb:MessageId>1000</eb:MessageId>\n    <eb:Timestamp>2016-12-30T05:25:32z</eb:Timestamp>\n  </eb:MessageData>\n</eb:MessageHeader>\n<wsse:Security xmlns:wsse="http://schemas.xmlsoap.org/ws/2002/12/secext"\n  xmlns:wsu="http://schemas.xmlsoap.org/ws/2002/12/utility">\n  <wsse:BinarySecurityToken></wsse:BinarySecurityToken>\n</wsse:Security>\n</SOAP-ENV:Header>\n<SOAP-ENV:Body>\n<Sabre_OTA_ProfileToPNRRQ Target="Production" TimeStamp="2013-04-30T08:24:42.967Z" Version="6.55" xsi:schemaLocation="http://www.sabre.com/eps/schemas schemasSabre_OTA_ProfileCreateRQ.xsd"\n  xmlns="http://www.sabre.com/eps/schemas"\n  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\n  <FilterPath>\n    <Profile ClientCode="" ClientContextCode="" DomainID="" ProfileTypeCode="" UniqueID="" ProfileName="" PNRMoveOrderSeqNo="1">\n      <Filter FilterID="" DomainID="" ClientCode="" ClientContextCode="" FilterName=""/>\n    </Profile>\n  </FilterPath>\n</Sabre_OTA_ProfileToPNRRQ>\n</SOAP-ENV:Body>\n</SOAP-ENV:Envelope>',Sabre_OTA_ProfileToPNRRQ:'\n<Sabre_OTA_ProfileToPNRRQ Target="Production" TimeStamp="2013-04-30T08:24:42.967Z" Version="6.55" xsi:schemaLocation="http://www.sabre.com/eps/schemas schemasSabre_OTA_ProfileCreateRQ.xsd"\nxmlns="http://www.sabre.com/eps/schemas"\nxmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\n<FilterPath>\n<Profile ClientCode="" ClientContextCode="" DomainID="" ProfileTypeCode="" UniqueID="" ProfileName="" PNRMoveOrderSeqNo="1">\n  <Filter FilterID="" DomainID="" ClientCode="" ClientContextCode="" FilterName=""/>\n</Profile>\n</FilterPath>\n</Sabre_OTA_ProfileToPNRRQ>',SabreCommandLLSRQ_WithSession:'<SOAP-ENV:Envelope xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/"\nxmlns:eb="http://www.ebxml.org/namespaces/messageHeader"\nxmlns:xlink="http://www.w3.org/1999/xlink"\nxmlns:xsd="http://www.w3.org/1999/XMLSchema">\n<SOAP-ENV:Header>\n<eb:MessageHeader SOAP-ENV:mustUnderstand="1" eb:version="1.0">\n<eb:From>\n  <eb:PartyId type="urn:x12.org:IO5:01">999999</eb:PartyId>\n</eb:From>\n<eb:To>\n  <eb:PartyId type="urn:x12.org:IO5:01">123123</eb:PartyId>\n</eb:To>\n<eb:CPAId>KA0J</eb:CPAId>\n<eb:ConversationId>webservices.support@sabre.com</eb:ConversationId>\n<eb:Service eb:type="OTA">SabreCommandLLSRQ</eb:Service>\n<eb:Action>SabreCommandLLSRQ</eb:Action>\n<eb:MessageData>\n  <eb:MessageId>1000</eb:MessageId>\n  <eb:Timestamp>2016-12-30T05:25:32z</eb:Timestamp>\n</eb:MessageData>\n</eb:MessageHeader>\n<wsse:Security xmlns:wsse="http://schemas.xmlsoap.org/ws/2002/12/secext"\nxmlns:wsu="http://schemas.xmlsoap.org/ws/2002/12/utility">\n<wsse:BinarySecurityToken></wsse:BinarySecurityToken>\n</wsse:Security>\n</SOAP-ENV:Header>\n<SOAP-ENV:Body>\n<SabreCommandLLSRQ xmlns="http://webservices.sabre.com/sabreXML/2003/07"\nxmlns:xs="http://www.w3.org/2001/XMLSchema"\nxmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" TimeStamp="2014-03-04T14:00:00" Version="1.8.1">\n<Request Output="SCREEN" CDATA="true">\n  <HostCommand></HostCommand>\n</Request>\n</SabreCommandLLSRQ>\n</SOAP-ENV:Body>\n</SOAP-ENV:Envelope>',SabreCommandLLSRQ:'\n<SabreCommandLLSRQ xmlns="http://webservices.sabre.com/sabreXML/2003/07"\nxmlns:xs="http://www.w3.org/2001/XMLSchema"\nxmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" TimeStamp="2014-03-04T14:00:00" Version="1.8.1">\n<Request Output="SCREEN" CDATA="true">\n<HostCommand></HostCommand>\n</Request>\n</SabreCommandLLSRQ>',SessionCreateRQ:'\n<SOAP-ENV:Envelope xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/">\n<SOAP-ENV:Header>\n<MessageHeader xmlns="http://www.ebxml.org/namespaces/messageHeader">\n<From>\n  <PartyId>Agency</PartyId>\n</From>\n<To>\n  <PartyId>Sabre_API</PartyId>\n</To>\n<ConversationId>2021.01.DevStudio</ConversationId>\n<Action>SessionCreateRQ</Action>\n</MessageHeader>\n<Security xmlns="http://schemas.xmlsoap.org/ws/2002/12/secext">\n<UsernameToken>\n  <Username></Username>\n  <Password></Password>\n  <Organization></Organization>\n  <Domain>DEFAULT</Domain>\n</UsernameToken>\n</Security>\n</SOAP-ENV:Header>\n<SOAP-ENV:Body>\n<SessionCreateRQ returnContextID="true" Version="1.0.0"\nxmlns="http://www.opentravel.org/OTA/2002/11"/>\n</SOAP-ENV:Body>\n</SOAP-ENV:Envelope>'},XmlPayLoads}();t.XmlPayLoads=r}),System.registerDynamic("com-internova-gtcpayment-web-module/common/XmlPayLoads.js",["com-internova-gtcpayment-web-module/common/XmlPayLoads"],!1,function(e,t){Object.assign(t,e("com-internova-gtcpayment-web-module/common/XmlPayLoads"))}),System.registerDynamic("com-internova-gtcpayment-web-module/Context",["sabre-ngv-core/modules/ModuleContext","sabre-ngv-app/app/services/impl/I18nService"],!1,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.t=t.getService=t.registerService=t.cf=t.context=void 0;var r=e("sabre-ngv-core/modules/ModuleContext"),o=e("sabre-ngv-app/app/services/impl/I18nService");t.context=new r.ModuleContext("com-internova-gtcpayment-web-module"),t.cf=t.context.cf.bind(t.context),t.registerService=t.context.registerService.bind(t.context),t.getService=t.context.getService.bind(t.context),t.t=(0,t.getService)(o.I18nService).getScopedTranslator("com-internova-gtcpayment-web-module/translations")}),System.registerDynamic("com-internova-gtcpayment-web-module/Context.js",["com-internova-gtcpayment-web-module/Context"],!1,function(e,t){Object.assign(t,e("com-internova-gtcpayment-web-module/Context"))}),System.registerDynamic("com-internova-gtcpayment-web-module/controllers/ISabreController",[],!1,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),System.registerDynamic("com-internova-gtcpayment-web-module/controllers/ISabreController.js",["com-internova-gtcpayment-web-module/controllers/ISabreController"],!1,function(e,t){Object.assign(t,e("com-internova-gtcpayment-web-module/controllers/ISabreController"))}),System.registerDynamic("com-internova-gtcpayment-web-module/controllers/SabreController",["sabre-ngv-app/app/services/impl/AbstractService","com-internova-gtcpayment-web-module/Context","com-internova-gtcpayment-web-module/services/SabreService","sabre-ngv-commsg/services/ICommandMessageService","com-internova-gtcpayment-web-module/common/Utilitario"],!1,function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.SabreController=void 0;var a=e("sabre-ngv-app/app/services/impl/AbstractService"),i=e("../Context"),s=e("../services/SabreService"),c=e("sabre-ngv-commsg/services/ICommandMessageService"),l=e("../common/Utilitario"),m=function(e){function SabreController(){return null!==e&&e.apply(this,arguments)||this}return o(SabreController,e),SabreController.prototype.buildRequestGetReservation=function(e){var t=this;return new Promise(function(n,r){t.buildGetReservationRQ(e,"GetReservationRQ").then(function(e){(0,i.getService)(s.SabreService).callSoapServiceAsync(e,"GetReservationRQ","SESSION",1e4).then(function(e){console.log("resolver GetReservationRQ",e),n(!0)}).catch(function(e){r(e)})}).catch(function(e){})})},SabreController.prototype.buildRequestAddRemark=function(e){var t=this;return new Promise(function(n,r){console.log("listRemarks on buildRequestAddRemark",e),t.buildAddRemarkRQ(e,"AddRemarkLLSRQ").then(function(e){(0,i.getService)(s.SabreService).callSoapServiceAsync(e,"AddRemarkLLSRQ","SESSION",1e4).then(function(e){console.log("resolver AddRemarkLLSRQ",e),n(!0)}).catch(function(e){r(e)})}).catch(function(e){})})},SabreController.prototype.RemarkUpdate=function(e){var t=this;return new Promise(function(n,r){t.buildRemarkUpdateRQ(e,"UpdateReservationRQrmk").then(function(e){(0,i.getService)(s.SabreService).callSoapServiceAsync(e,"UpdateReservationRQ","SESSION",1e4).then(function(e){console.log("resolver UpdateReservationRQ",e),n(!0)}).catch(function(e){r(e)})}).catch(function(e){})})},SabreController.prototype.SendCommandAsync=function(e){var t=this;return new Promise(function(n,r){t.buildRequestSabreCommand(e,"SabreCommandLLSRQ").then(function(e){(0,i.getService)(s.SabreService).callSoapServiceAsync(e,"SabreCommandLLSRQ","SESSION",1e4).then(function(e){n(!0)}).catch(function(e){r(e)})}).catch(function(e){})})},SabreController.prototype.SendCommandAsyncRs=function(e){var t=this;return new Promise(function(n,r){t.buildRequestSabreCommand(e,"SabreCommandLLSRQ").then(function(e){console.log("resp:",e),(0,i.getService)(s.SabreService).callSoapServiceAsync(e,"SabreCommandLLSRQ","SESSION",1e4).then(function(e){var t=(0,i.getService)(l.Utilitario).StringToXml(e).getElementsByTagName("Response");n(t[0].childNodes[0].nodeValue)}).catch(function(e){r(e)})}).catch(function(e){})})},SabreController.prototype.SendCommandSync=function(e){var t=null,n=this.buildRequestSendCommand(e);if(null!=n&&null!=(t=(0,i.getService)(s.SabreService).callSoapServiceSync(n,"SabreCommandLLSRQ"))){var r=JSON.parse(t);return t="",null!=r.response&&r.response.success&&(t=r.response.payload.responseText),t}return t},SabreController.prototype.SendCommandMessage=function(e,t,n){return(0,i.getService)(c.ICommandMessageService).send({rq:e,showRq:t,showRs:n})},SabreController.prototype.checkNodeValues=function(e,t,n){var r="";if(n.localName==e&&n.hasAttributes)for(var o=n.attributes,a=0;a<o.length;a++)o[a].name==t&&(r=o[a].value);return r},SabreController.prototype.GetFinalValue=function(e,t,n,r){var o=new Array;o.push([t,n]),"*"==r&&o.push(["segtype",e.localName]);for(var a=e.childNodes,i=0;i<a.length;i++){var s=a[i];if(s.localName){var c=s.localName,l=s.textContent;o.push([c,l])}}return o},SabreController.prototype.GetElement=function(e,t,n){n&&(e=(0,i.getService)(l.Utilitario).RemoveNameSpace(e));var r=(new DOMParser).parseFromString(e,"text/xml").childNodes[0];if(r.hasAttributes)for(var o=r.attributes,a=!1,s=0;s<o.length;s++){if("xmlns"==o[s].name.split(":")[0]&&!a){var c=o[s].value;a=!0}}return(0,i.getService)(l.Utilitario).GetXPathResult(e,t,function resolverNS(){return c},0).iterateNext()},SabreController.prototype.AddRemarksAsync=function(e){var t=this;return new Promise(function(n,r){t.buildRequestAddRemark(e)})},SabreController.prototype.buildRequestReservation=function(e){return new Promise(function(t,n){(0,i.getService)(l.Utilitario).GetPayLoad(e).then(function(e){t(e)}).catch(function(e){n(e)})})},SabreController.prototype.buildAddRemarkRQ=function(e,t){return new Promise(function(n,r){var o=null;console.log("listRemarks on buildAddRemarkRQ",e);var a=(0,i.getService)(l.Utilitario);a.GetPayLoad(t).then(function(t){var r=a.StringToXml(t);console.log("StringToXml",r);var i=r.getElementsByTagName("RemarkInfo");if(null!=e&&e.length>0)for(var s=0,c=e;s<c.length;s++){var l=c[s];console.log("rmk",l);var m=i[0].appendChild(r.createElement("Remark"));m.setAttribute("Type",l.Type),l.Code&&m.setAttribute("Code",l.Code),l.SegNum&&m.setAttribute("SegmentNumber",l.SegNum),m.appendChild(r.createElement("Text")).textContent=l.Text}o=(o=a.DocumentToString(r)).replace(/xmlns=""/g,""),n(o)}).catch(function(e){r(e)})})},SabreController.prototype.buildRemarkUpdateRQ=function(e,t){return new Promise(function(n,r){var o=null,a=(0,i.getService)(l.Utilitario);a.GetPayLoad(t).then(function(t){var r=a.StringToXml(t),i=r.getElementsByTagName("ReservationUpdateItem");if(null!=e&&e.length>0)for(var s=0,c=e;s<c.length;s++){var l=c[s],m=i[0].appendChild(r.createElement("RemarkUpdate"));m.setAttribute("id",l.Id),m.setAttribute("type","INVOICE"),m.setAttribute("op","U"),m.appendChild(r.createElement("RemarkText")).textContent=l.Text}o=(o=a.DocumentToString(r)).replace(/xmlns=""/g,""),n(o)}).catch(function(e){r(e)})})},SabreController.prototype.buildRequestSabreCommand=function(e,t){return new Promise(function(n,r){var o=null,a=(0,i.getService)(l.Utilitario);a.GetPayLoad(t).then(function(t){if(null!=e){var i=a.StringToXml(t);i.getElementsByTagName("HostCommand")[0].textContent=e,console.log("resolver despues convertir",i.documentElement.innerHTML),o=a.DocumentToString(i),n(o)}else r()}).catch(function(e){r(e)})})},SabreController.prototype.buildRequestSendCommand=function(e){return'<SabreCommandLLSRQ xmlns="http://webservices.sabre.com/sabreXML/2003/07" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" TimeStamp="2014-03-04T14:00:00" Version="1.8.1"><Request Output="SCREEN" CDATA="false"><HostCommand>'+e+"</HostCommand></Request></SabreCommandLLSRQ>"},SabreController.prototype.buildGetReservationRQ=function(e,t){return new Promise(function(n,r){var o=null,a=(0,i.getService)(l.Utilitario);a.GetPayLoad(t).then(function(t){var r=a.StringToXml(t);r.getElementsByTagName("Locator")[0].textContent=e,o=(o=a.DocumentToString(r)).replace(/xmlns=""/g,""),console.log("returnValue",o),n(o)}).catch(function(e){r(e)})})},SabreController.prototype.InputValidator=function(e){document.getElementById(e).value?(document.getElementById(e+"Div").classList.remove("has-error"),document.getElementById(e+"Error").innerText=""):(document.getElementById(e+"Div").classList.add("has-error"),document.getElementById(e+"Error").innerText="Field cannot be empty or blank")},SabreController.SERVICE_NAME="com-internova-gtcpayment-web-module-SabreController",SabreController}(a.AbstractService);t.SabreController=m}),System.registerDynamic("com-internova-gtcpayment-web-module/controllers/SabreController.js",["com-internova-gtcpayment-web-module/controllers/SabreController"],!1,function(e,t){Object.assign(t,e("com-internova-gtcpayment-web-module/controllers/SabreController"))}),System.registerDynamic("com-internova-gtcpayment-web-module/index",["com-internova-gtcpayment-web-module/Main","com-internova-gtcpayment-web-module/Context"],!1,function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0});var a=e("./Main"),i=e("./Context"),s=function(e){function Module_com_internova_gtcpayment_web_module(t){var n=e.call(this,t)||this;return i.context.setModule(n),n}return o(Module_com_internova_gtcpayment_web_module,e),Module_com_internova_gtcpayment_web_module}(a.Main);t.default=s}),System.registerDynamic("com-internova-gtcpayment-web-module/index.js",["com-internova-gtcpayment-web-module/index"],!1,function(e,t){Object.assign(t,e("com-internova-gtcpayment-web-module/index"))}),System.registerDynamic("com-internova-gtcpayment-web-module/Main",["sabre-ngv-core/modules/Module","sabre-ngv-xp/configs/RedAppSidePanelConfig","sabre-ngv-xp/services/ExtensionPointService","com-internova-gtcpayment-web-module/Context","sabre-ngv-redAppSidePanel/models/RedAppSidePanelButton","sabre-ngv-reservation/services/IReservationService","sabre-ngv-core/services/LayerService","com-internova-gtcpayment-web-module/model/RestModel","com-internova-gtcpayment-web-module/views/Gtc_Payment","com-internova-gtcpayment-web-module/controllers/SabreController","com-internova-gtcpayment-web-module/common/Utilitario","com-internova-gtcpayment-web-module/services/ExternalService","com-internova-gtcpayment-web-module/services/SabreService"],!1,function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function fulfilled(e){try{step(r.next(e))}catch(t){a(t)}}function rejected(e){try{step(r.throw(e))}catch(t){a(t)}}function step(e){e.done?o(e.value):function adopt(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function verb(a){return function(s){return function step(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(s){a=[6,s],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Main=void 0;var s=e("sabre-ngv-core/modules/Module"),c=e("sabre-ngv-xp/configs/RedAppSidePanelConfig"),l=e("sabre-ngv-xp/services/ExtensionPointService"),m=e("./Context"),u=e("sabre-ngv-redAppSidePanel/models/RedAppSidePanelButton"),d=e("sabre-ngv-reservation/services/IReservationService"),p=e("sabre-ngv-core/services/LayerService"),v=e("./model/RestModel"),b=e("./views/Gtc_Payment"),y=e("./controllers/SabreController"),f=e("./common/Utilitario"),g=e("./services/ExternalService"),S=e("./services/SabreService"),h=function(e){function Main(){return null!==e&&e.apply(this,arguments)||this}return o(Main,e),Main.prototype.init=function(){var t=this;e.prototype.init.call(this),(0,m.registerService)(y.SabreController),(0,m.registerService)(f.Utilitario),(0,m.registerService)(g.ExternalService),(0,m.registerService)(S.SabreService);var n=(0,m.getService)(l.ExtensionPointService),r=new c.RedAppSidePanelConfig([new u.RedAppSidePanelButton("GTC UK Payment Process","btn btn-secondary side-panel-button redapp-web-rest redapp-web-rest-internal",function(){return t.openModalWithRest()})]);n.addConfig("redAppSidePanel",r)},Main.prototype.openModalWithRest=function(){return a(this,void 0,void 0,function(){var e,t;return i(this,function(n){switch(n.label){case 0:return[4,(0,m.getService)(d.IReservationService).getReservation()];case 1:return e=n.sent(),t={title:"GTC UK Payment Process",actions:[{className:"app.common.views.Button",caption:"Cancel",actionName:"cancel",type:"secondary"},{className:"app.common.views.Button",caption:"Continue",actionName:"next",type:"success"}]},(0,m.getService)(p.LayerService).showInModal(new b.Gtc_Payment({model:new v.RestModel},e),t,{display:"areaView"}),[2]}})})},Main}(s.Module);t.Main=h}),System.registerDynamic("com-internova-gtcpayment-web-module/Main.js",["com-internova-gtcpayment-web-module/Main"],!1,function(e,t){Object.assign(t,e("com-internova-gtcpayment-web-module/Main"))}),System.registerDynamic("com-internova-gtcpayment-web-module/model/AddRemarks",["sabre-ngv-app/app/AbstractModel","com-internova-gtcpayment-web-module/Context","sabre-ngv-communication/services/RestApiService"],!1,function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.RestModel=void 0;var a=e("sabre-ngv-app/app/AbstractModel"),i=e("../Context"),s=e("sabre-ngv-communication/services/RestApiService"),c=function(e){function RestModel(){return null!==e&&e.apply(this,arguments)||this}return o(RestModel,e),RestModel.prototype.sendRestRequest=function(e,t,n,r,o){return(0,i.getService)(s.RestApiService).send({httpMethod:t,url:e,authTokenType:n,payload:r,headers:o})},RestModel}(a.AbstractModel);t.RestModel=c}),System.registerDynamic("com-internova-gtcpayment-web-module/model/AddRemarks.js",["com-internova-gtcpayment-web-module/model/AddRemarks"],!1,function(e,t){Object.assign(t,e("com-internova-gtcpayment-web-module/model/AddRemarks"))}),System.registerDynamic("com-internova-gtcpayment-web-module/model/ccData",[],!1,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ccData=void 0;var r=function(){return function ccData(){}}();t.ccData=r}),System.registerDynamic("com-internova-gtcpayment-web-module/model/ccData.js",["com-internova-gtcpayment-web-module/model/ccData"],!1,function(e,t){Object.assign(t,e("com-internova-gtcpayment-web-module/model/ccData"))}),System.registerDynamic("com-internova-gtcpayment-web-module/model/pqFare",[],!1,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pqFare=void 0;var r=function(){return function pqFare(){}}();t.pqFare=r}),System.registerDynamic("com-internova-gtcpayment-web-module/model/pqFare.js",["com-internova-gtcpayment-web-module/model/pqFare"],!1,function(e,t){Object.assign(t,e("com-internova-gtcpayment-web-module/model/pqFare"))}),System.registerDynamic("com-internova-gtcpayment-web-module/model/remark",[],!1,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.remark=void 0;var r=function(){return function remark(){}}();t.remark=r}),System.registerDynamic("com-internova-gtcpayment-web-module/model/remark.js",["com-internova-gtcpayment-web-module/model/remark"],!1,function(e,t){Object.assign(t,e("com-internova-gtcpayment-web-module/model/remark"))}),System.registerDynamic("com-internova-gtcpayment-web-module/model/RestModel",["sabre-ngv-app/app/AbstractModel","com-internova-gtcpayment-web-module/Context","sabre-ngv-communication/services/RestApiService"],!1,function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.RestModel=void 0;var a=e("sabre-ngv-app/app/AbstractModel"),i=e("../Context"),s=e("sabre-ngv-communication/services/RestApiService"),c=function(e){function RestModel(){return null!==e&&e.apply(this,arguments)||this}return o(RestModel,e),RestModel.prototype.sendRestRequest=function(e,t,n,r,o){return(0,i.getService)(s.RestApiService).send({httpMethod:t,url:e,authTokenType:n,payload:r,headers:o})},RestModel}(a.AbstractModel);t.RestModel=c}),System.registerDynamic("com-internova-gtcpayment-web-module/model/RestModel.js",["com-internova-gtcpayment-web-module/model/RestModel"],!1,function(e,t){Object.assign(t,e("com-internova-gtcpayment-web-module/model/RestModel"))}),System.registerDynamic("com-internova-gtcpayment-web-module/services/ExternalService",["sabre-ngv-app/app/services/impl/AbstractService"],!1,function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.ExternalService=void 0;var a=function(e){function ExternalService(){return null!==e&&e.apply(this,arguments)||this}return o(ExternalService,e),ExternalService.prototype.sendRequest=function(e,t){return new Promise(function(n,r){var o=new XMLHttpRequest;o.open(e,t),o.onload=function(){this.status>=200&&this.status<300?n(o.response):r({status:this.status,statusText:o.statusText})},o.onerror=function(){r({status:this.status,statusText:o.statusText})},o.send()})},ExternalService.SERVICE_NAME="com-internova-gtcpayment-web-module-ExternalService",ExternalService}(e("sabre-ngv-app/app/services/impl/AbstractService").AbstractService);t.ExternalService=a}),System.registerDynamic("com-internova-gtcpayment-web-module/services/ExternalService.js",["com-internova-gtcpayment-web-module/services/ExternalService"],!1,function(e,t){Object.assign(t,e("com-internova-gtcpayment-web-module/services/ExternalService"))}),System.registerDynamic("com-internova-gtcpayment-web-module/services/IExternalService",[],!1,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),System.registerDynamic("com-internova-gtcpayment-web-module/services/IExternalService.js",["com-internova-gtcpayment-web-module/services/IExternalService"],!1,function(e,t){Object.assign(t,e("com-internova-gtcpayment-web-module/services/IExternalService"))}),System.registerDynamic("com-internova-gtcpayment-web-module/services/ISabreService",[],!1,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),System.registerDynamic("com-internova-gtcpayment-web-module/services/ISabreService.js",["com-internova-gtcpayment-web-module/services/ISabreService"],!1,function(e,t){Object.assign(t,e("com-internova-gtcpayment-web-module/services/ISabreService"))}),System.registerDynamic("com-internova-gtcpayment-web-module/services/SabreService",["sabre-ngv-app/app/services/impl/AbstractService","sabre-ngv-communication/interfaces/ISoapApiService","com-internova-gtcpayment-web-module/Context","sabre-ngv-app/app/services/impl/SrwSyncApi","sabre-ngv-communication/services/RestApiService"],!1,function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function fulfilled(e){try{step(r.next(e))}catch(t){a(t)}}function rejected(e){try{step(r.throw(e))}catch(t){a(t)}}function step(e){e.done?o(e.value):function adopt(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function verb(a){return function(s){return function step(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(s){a=[6,s],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.SabreService=void 0;var s=e("sabre-ngv-app/app/services/impl/AbstractService"),c=e("sabre-ngv-communication/interfaces/ISoapApiService"),l=e("../Context"),m=e("sabre-ngv-app/app/services/impl/SrwSyncApi"),u=e("sabre-ngv-communication/services/RestApiService"),d=function(e){function SabreService(){return null!==e&&e.apply(this,arguments)||this}return o(SabreService,e),SabreService.prototype.callSoapServiceAsync=function(e,t,n,r){var o=this;return new Promise(function(s,m){var u=(0,l.getService)(c.ISoapApiService),d={action:t,payload:e,authTokenType:n,timeout:r};console.log("rq_:",d),u.callSws(d).then(function(e){return a(o,void 0,void 0,function(){return i(this,function(t){return console.log("async: response",e),s(e.value),[2]})})}).catch(function(e){console.log("callSoapServiceAsync error: ",e),m(e)})})},SabreService.prototype.callSoapServiceSync=function(e,t){var n=(0,l.getService)(m.SrwSyncApi);try{return n.sws(e,t)}catch(r){}},SabreService.prototype.callRestServiceAsync=function(e,t,n,r,o){return(0,l.getService)(u.RestApiService).send({httpMethod:t,url:e,authTokenType:n,payload:r,headers:o})},SabreService.SERVICE_NAME="com-internova-gtcpayment-web-module-SabreService",SabreService}(s.AbstractService);t.SabreService=d}),System.registerDynamic("com-internova-gtcpayment-web-module/services/SabreService.js",["com-internova-gtcpayment-web-module/services/SabreService"],!1,function(e,t){Object.assign(t,e("com-internova-gtcpayment-web-module/services/SabreService"))}),System.registerDynamic("com-internova-gtcpayment-web-module/views/CheckTotal",["sabre-ngv-app/app/AbstractView","sabre-ngv-core/services/LayerService","sabre-ngv-core/decorators/classes/view/Template","sabre-ngv-app/app/services/impl/IAreaService","com-internova-gtcpayment-web-module/controllers/SabreController","sabre-ngv-communication/interfaces/ISoapApiService","com-internova-gtcpayment-web-module/Context","xml2js","com-internova-gtcpayment-web-module/model/remark"],!1,function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function fulfilled(e){try{step(r.next(e))}catch(t){a(t)}}function rejected(e){try{step(r.throw(e))}catch(t){a(t)}}function step(e){e.done?o(e.value):function adopt(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function verb(a){return function(s){return function step(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(s){a=[6,s],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.CheckTotal=void 0;var l=e("sabre-ngv-app/app/AbstractView"),m=e("sabre-ngv-core/services/LayerService"),u=e("sabre-ngv-core/decorators/classes/view/Template"),d=e("sabre-ngv-app/app/services/impl/IAreaService"),p=e("../controllers/SabreController"),v=e("sabre-ngv-communication/interfaces/ISoapApiService"),b=e("../Context"),y=e("xml2js"),f=e("../model/remark"),g=function(e){function CheckTotal(t,n){var r=e.call(this,t)||this;return r.rmks=[],r.createRmks=[],r.processData(n),console.log("rmks",r.rmks),console.log("createRmks",r.createRmks),r.getModel().set("total",n.total),r.render(),r}return o(CheckTotal,e),CheckTotal.prototype.initialize=function(t){e.prototype.initialize.call(this,t)},CheckTotal.prototype.processData=function(e){this.rmks=e.UpdateRmk;var t=e.option;this.rmks.filter(function(e){return"CM"==e.Code})[0].Text="CM-"+e.ccCode+e.card4+"/"+e.expMonth+e.expYear+"/*",this.rmks.filter(function(e){return"PAY"==e.Code})[0].Text="PAYMENT/123456/"+e.refId+"/"+e.total;this.generateRmk("PAYMENT/"+t+"123456/"+e.refId+"/"+e.total+"/"+e.ccCode+e.card4);var n="";e.markUpFee&&(n="M"+e.markUpFee),e.fee&&(n=n+"/S"+e.fee),e.pqAmt&&(n=n+"/T"+e.pqAmt),e.additional&&(n=n+"/A"+e.additional),e.total&&(n=n+"/TT"+e.total),this.generateRmk(n)},CheckTotal.prototype.selfNextAction=function(){return s(this,void 0,void 0,function(){var e,t,n,r,o,a,i=this;return c(this,function(l){return e=(0,b.getService)(d.IAreaService),t=(0,b.getService)(p.SabreController),console.log("getreservationpromise",t),t.RemarkUpdate(this.rmks).then(function(n){console.log("Rmks to update",i.rmks),t.SendCommandMessage("*.",!0,!0).then(function(n){console.log("remarks been displayed"),t.buildRequestAddRemark(i.createRmks).then(function(n){e.showBanner("Success","Remarks were added"),t.SendCommandMessage("*P5H",!0,!0).then(function(e){console.log("remarks been displayed")})})}),e.showBanner("Success","Remarks were updated")}),(0,b.getService)(m.LayerService).clearLayer(),n=this.$(".action-field").find(".action").val(),r=this.$(".authTokenType-field").find(".authTokenType").val(),o=this.$(".timeout-field").find(".timeout").val(),a=this.$(".payload-field").find(".payload").val(),this.$(".response").val(""),(0,b.getService)(v.ISoapApiService).callSws({action:n,payload:a,authTokenType:r,timeout:o}).then(function(e){return s(i,void 0,void 0,function(){var t,n;return c(this,function(r){switch(r.label){case 0:return e.errorCode?(n=e,[3,3]):[3,1];case 1:return[4,this.parseXml2Js(e.value)];case 2:n=r.sent(),r.label=3;case 3:return t=n,this.$(".response").val(JSON.stringify(t,null,2)),[2]}})})}).catch(function(e){i.$(".response").val(e)}),e.showBanner("Success","Remarks were added!: "+this.adflexRef),(0,b.getService)(m.LayerService).clearLayer(),[2]})})},CheckTotal.prototype.parseXml2Js=function(e){return s(this,void 0,void 0,function(){return c(this,function(t){return[2,new Promise(function(t,n){y.parseString(e,function(e,r){e?n(e):t(r)})})]})})},CheckTotal.prototype.generateRmk=function(e){var t=new f.remark;t.Type="Historical",t.Text=e,this.createRmks.push(t)},CheckTotal=a([(0,u.Template)("com-internova-gtcpayment-web-module:CheckTotal"),i("design:paramtypes",[Object,Object])],CheckTotal)}(l.AbstractView);t.CheckTotal=g}),System.registerDynamic("com-internova-gtcpayment-web-module/views/CheckTotal.js",["com-internova-gtcpayment-web-module/views/CheckTotal"],!1,function(e,t){Object.assign(t,e("com-internova-gtcpayment-web-module/views/CheckTotal"))}),System.registerDynamic("com-internova-gtcpayment-web-module/views/Gtc_Payment",["sabre-ngv-app/app/AbstractView","sabre-ngv-core/services/LayerService","sabre-ngv-core/decorators/classes/view/Template","com-internova-gtcpayment-web-module/model/pqFare","com-internova-gtcpayment-web-module/model/ccData","sabre-ngv-app/app/services/impl/IAreaService","com-internova-gtcpayment-web-module/model/RestModel","com-internova-gtcpayment-web-module/Context","com-internova-gtcpayment-web-module/views/CheckTotal","com-internova-gtcpayment-web-module/model/remark","com-internova-gtcpayment-web-module/controllers/SabreController"],!1,function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),a=this&&this.__decorate||function(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function fulfilled(e){try{step(r.next(e))}catch(t){a(t)}}function rejected(e){try{step(r.throw(e))}catch(t){a(t)}}function step(e){e.done?o(e.value):function adopt(e){return e instanceof n?e:new n(function(t){t(e)})}(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function verb(a){return function(s){return function step(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(s){a=[6,s],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Gtc_Payment=void 0;var l=e("sabre-ngv-app/app/AbstractView"),m=e("sabre-ngv-core/services/LayerService"),u=e("sabre-ngv-core/decorators/classes/view/Template"),d=e("../model/pqFare"),p=e("../model/ccData"),v=e("sabre-ngv-app/app/services/impl/IAreaService"),b=e("../model/RestModel"),y=e("../Context"),f=e("./CheckTotal"),g=e("../model/remark"),S=e("../controllers/SabreController"),h=function(e){function Gtc_Payment(t,n){var r=e.call(this,t)||this;return r.status=[],r.vendors=[{code:"AX"},{code:"VI"},{code:"CA"}],r.totalPax=0,r.updateRmks=[],r.pqFareList=[],r.creditCardList=[],r.getReservation(n),r}return o(Gtc_Payment,e),Gtc_Payment.prototype.initialize=function(t){e.prototype.addDomEvents.call(this,{"change #selectPq":"loadAmount","change #creditCards":"loadExpiration","change #markUpFee":"updateTotal","change #amt":"updateTotal","change #additional":"updateTotal","change #tktFee":"updateTotal"}),e.prototype.initialize.call(this,t)},Gtc_Payment.prototype.getReservation=function(e){var t,n,r,o,a=this;(0,y.getService)(S.SabreController);if(e){var i=e.Data,s=null===(t=null==e?void 0:e.Data)||void 0===t?void 0:t.RecordLocators[0].Id,c=i.Passengers.Passenger.length;this.totalPax=c;var l,u,b,f=new Date,h=f.getFullYear().toString(),w=f.getMonth()+1,R=f.getDate(),x=R<10?"0"+R.toString():R.toString(),P=w<10?"0"+w.toString():w.toString(),C=s+h[2]+h[3]+P+x,_="",T=0,A=0,I=i.Passengers.Passenger[0].GivenName+" "+i.Passengers.Passenger[0].Surname;if(null===(n=i.PriceQuotes)||void 0===n?void 0:n.PriceQuote)(b=i.PriceQuotes.PriceQuote).length&&b.forEach(function(e){if("GBP"==e.Taxes.TotalTax.Currency){var t=new d.pqFare,n=e.Id.toString();t.item=n[n.length-1],t.total=e.Total.Amount.Amount,t.taxes=e.Taxes.TotalTax.Amount,a.pqFareList.push(t)}});if(null===(r=i.FormOfPayments)||void 0===r?void 0:r.FormOfPayment)(b=i.FormOfPayments.FormOfPayment).length&&b.forEach(function(e){var t=new p.ccData;if(t.code=e.CreditCard.CreditCardCode,t.cardMasked=t.code+e.CreditCard.CreditCardNumber,t.cardMasked){for(var n="",r=t.cardMasked.length-4;r<t.cardMasked.length;r++)n+=t.cardMasked[r].toString();t.last4=n}t.year=e.CreditCard.ExpirationYear[2]+e.CreditCard.ExpirationYear[3],t.month=e.CreditCard.ExpirationMonth,a.creditCardList.push(t)});if(null===(o=i.Remarks)||void 0===o?void 0:o.Remark){var O=i.Remarks.Remark;O.length&&O.forEach(function(e){if("Invoice"==e.Type){var t=e.Text.split("MKUP/");if(t[1]){var n=t[1].split("/");l=n[1],T+=parseFloat(l)}var r,o=e.Text.split("TKTFEE/");if(o[1]?u=o[1]:(o=e.Text.split("FEE/"))[1]&&(_=o[1]),e.Text.split("CM-")[1])(r=new g.remark).Type="Itinerary",r.Id=e.Source.Id.toString(),r.Text=e.Text,r.Code="CM",a.updateRmks.push(r);if(e.Text.split("PAYMENT/")[1])(r=new g.remark).Type="Itinerary",r.Id=e.Source.Id.toString(),r.Text=e.Text,r.Code="PAY",a.updateRmks.push(r)}})}u&&(A=c*parseFloat(u)),_&&(A=parseFloat(_));var E=T+A;this.getModel().set("markUpFee",T.toFixed(2)),this.getModel().set("tktFee",A.toFixed(2)),this.getModel().set("selectPq",this.pqFareList),this.getModel().set("creditCards",this.creditCardList),this.getModel().set("name",I),this.getModel().set("refId",C),this.getModel().set("total",E.toFixed(2)+" GBP"),this.getModel().set("vendors",this.vendors),this.render()}else{(0,y.getService)(v.IAreaService).showBanner("Error","There is no active PNR..."),(0,y.getService)(m.LayerService).clearLayer()}},Gtc_Payment.prototype.loadAmount=function(e){var t=this,n=this.$("#selectPq").children("option:selected").val();e.target&&(this.pqFareList.forEach(function(e){e.item==n&&(document.getElementById("amt").value=e.total.toString(),t.updateTotal())}),$("#selectPq").val(n))},Gtc_Payment.prototype.loadExpiration=function(e){var t=this.$("#creditCards").children("option:selected").val();e.target&&(this.creditCardList.forEach(function(e){if(e.cardMasked==t){document.getElementById("cardInUse").value=t;var n=e.month+"/"+e.year;document.getElementById("expiration").value=n}}),$("#creditCards").val(t));var n=document.getElementById("cardInUse");"addCC"==t?(document.getElementById("cardInUse").value="",document.getElementById("expiration").value="",document.getElementById("vendor").removeAttribute("disabled"),n.removeAttribute("disabled")):n.setAttribute("disabled","")},Gtc_Payment.prototype.updateTotal=function(e){var t=0,n=0,r=0,o=0;document.getElementById("markUpFee").value&&(t=parseFloat(document.getElementById("markUpFee").value),document.getElementById("markUpFee").value=t.toFixed(2)),document.getElementById("amt").value&&(n=parseFloat(document.getElementById("amt").value),document.getElementById("amt").value=n.toFixed(2)),document.getElementById("additional").value&&(r=parseFloat(document.getElementById("additional").value),document.getElementById("additional").value=r.toFixed(2)),document.getElementById("tktFee").value&&(o=parseFloat(document.getElementById("tktFee").value),document.getElementById("tktFee").value=o.toFixed(2));var a=t+n+r+o;document.getElementById("total").value=a.toFixed(2)+" GBP"},Gtc_Payment.prototype.selfNextAction=function(){return s(this,void 0,void 0,function(){return c(this,function(e){return this.InputValidator()&&this.execute(),[2]})})},Gtc_Payment.prototype.execute=function(){var e,t=document.getElementById("markUpFee").value,n=document.getElementById("name").value,r=document.getElementById("tktFee").value,o=document.getElementById("amt").value,a=document.getElementById("additional").value,i=document.getElementById("total").value,s=this.$("#creditCards").children("option:selected").val(),c=this.$("#test").children("option:selected").val(),l="";if("addCC"==s){e=this.$("#vendor").children("option:selected").val();for(var u=(s=document.getElementById("cardInUse").value).length-4;u<s.length;u++)l+=s[u].toString()}else{var d=this.creditCardList.filter(function(e){return e.cardMasked==s});l=d[0].last4,e=d[0].code}var p=document.getElementById("refId").value,v=document.getElementById("expiration").value,g=v.split("/")[0],S=v.split("/")[1],h={markUpFee:t,fee:r,name:n,pqAmt:o,additional:a,total:i,fullCard:s,expMonth:g,expYear:S,card4:l,option:c,ccCode:e,refId:p,UpdateRmk:this.updateRmks};console.log("pack",h);(0,y.getService)(m.LayerService).showInModal(new f.CheckTotal({model:new b.RestModel},h),{title:"Confirmation",actions:[{className:"app.common.views.Button",caption:"Cancel",actionName:"cancel",type:"secondary"},{className:"app.common.views.Button",caption:"Back",actionName:"back",type:"secondary"},{className:"app.common.views.Button",caption:"Add Remarks",actionName:"next",type:"success"}]},{display:"areaView"})},Gtc_Payment.prototype.InputValidator=function(){var e=!0,t=document.getElementById("total").value;if(parseFloat(t.split("GBP")[0])>0){this.fieldOk("total");for(var n=document.querySelectorAll("[required]"),r=0;r<n.length;r++){var o=n[r].id,a=document.getElementById(o).value;if("creditCards"==o&&"ccNoSelected"==a){this.errorOnField(o,"Field cannot be empty or blank"),e=!1;break}if("creditCards"==o&&"addCC"==a){if(1==this.status.creditCards&&this.fieldOk("creditCards"),"noVendor"==document.getElementById("vendor").value){this.status.vendor=!0,this.errorOnField("vendor","Select one"),e=!1;break}this.fieldOk("vendor");var i=document.getElementById("cardInUse").value;if(16==i.length&&1==this.status.cardInUse)this.fieldOk("cardInUse");else{if(i.length>16){this.errorOnField("cardInUse","Maximum 16 numbers"),e=!1;break}if(i.length<=15){this.status.cardInUse=!0,this.errorOnField("cardInUse","Minimum 16 numbers"),e=!1;break}}}else if("name"==o){var s=document.getElementById("name").value;if(!s){this.errorOnField("name","Name is mandatory"),e=!1;break}s&&1==this.status.name&&this.fieldOk("creditCards")}else if("name"==o){var c=document.getElementById("name").value;if(!c){this.errorOnField("name","Name is mandatory"),e=!1;break}c&&1==this.status.name&&this.fieldOk("creditCards")}else if("expiration"==o){if(!document.getElementById("expiration").value){this.errorOnField("expiration","Expiration is mandatory"),e=!1;break}var l=new Date,m=l.getFullYear().toString(),u=l.getMonth()+1,d=parseFloat(m[2]+m[3]),p=document.getElementById("expiration").value,v=parseFloat(p.split("/")[0]),b=parseFloat(p.split("/")[1]);if(isNaN(v)||isNaN(b)||v>12||v<1||b<d||b==d&&v<u){this.errorOnField("expiration","MM/YY like: 05/27"),e=!1;break}this.fieldOk("expiration")}}}else this.errorOnField("total","Must be greater than 0"),e=!1;return e},Gtc_Payment.prototype.errorOnField=function(e,t){document.getElementById(e+"Error").innerText=t,document.getElementById(e+"Div").classList.add("has-error"),document.getElementById(e).focus(),this.status[e]=!0},Gtc_Payment.prototype.fieldOk=function(e){1==this.status[e]&&(document.getElementById(e+"Div").classList.remove("has-error"),document.getElementById(e+"Error").innerText="",this.status[e]=!1)},Gtc_Payment=a([(0,u.Template)("com-internova-gtcpayment-web-module:Gtc_Payment"),i("design:paramtypes",[Object,Object])],Gtc_Payment)}(l.AbstractView);t.Gtc_Payment=h}),System.registerDynamic("com-internova-gtcpayment-web-module/views/Gtc_Payment.js",["com-internova-gtcpayment-web-module/views/Gtc_Payment"],!1,function(e,t){Object.assign(t,e("com-internova-gtcpayment-web-module/views/Gtc_Payment"))}),System.registerDynamic("com-internova-gtcpayment-web-module",["com-internova-gtcpayment-web-module/index"],!1,function(e,t){Object.assign(t,e("com-internova-gtcpayment-web-module/index"))});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9jb2RlL2NvbW1vbi9JVXRpbGl0YXJpby50cyIsInNyYy9jb2RlL2NvbW1vbi9VdGlsaXRhcmlvLnRzIiwic3JjL2NvZGUvY29tbW9uL1htbFBheUxvYWRzLnRzIiwic3JjL2NvZGUvQ29udGV4dC50cyIsInNyYy9jb2RlL2NvbnRyb2xsZXJzL0lTYWJyZUNvbnRyb2xsZXIudHMiLCJzcmMvY29kZS9jb250cm9sbGVycy9TYWJyZUNvbnRyb2xsZXIudHMiLCJzcmMvY29kZS9pbmRleC50cyIsInNyYy9jb2RlL01haW4udHMiLCJDOi9Vc2Vycy9kY2Fyc2luL2VjbGlwc2Utd29ya3NwYWNlL0dUQ19VS1BheW1lbnQvd2ViLXNyYy9jb20taW50ZXJub3ZhLWd0Y3BheW1lbnQtd2ViLW1vZHVsZS9idWlsZC9wcm9kL21ldGEvY2pzL21vZGVsL0FkZFJlbWFya3MuanMiLCJzcmMvY29kZS9tb2RlbC9jY0RhdGEudHMiLCJzcmMvY29kZS9tb2RlbC9wcUZhcmUudHMiLCJzcmMvY29kZS9tb2RlbC9yZW1hcmsudHMiLCJzcmMvY29kZS9tb2RlbC9SZXN0TW9kZWwudHMiLCJzcmMvY29kZS9zZXJ2aWNlcy9FeHRlcm5hbFNlcnZpY2UudHMiLCJzcmMvY29kZS9zZXJ2aWNlcy9JRXh0ZXJuYWxTZXJ2aWNlLnRzIiwic3JjL2NvZGUvc2VydmljZXMvSVNhYnJlU2VydmljZS50cyIsInNyYy9jb2RlL3NlcnZpY2VzL1NhYnJlU2VydmljZS50cyIsInNyYy9jb2RlL3ZpZXdzL0NoZWNrVG90YWwudHMiLCJzcmMvY29kZS92aWV3cy9HdGNfUGF5bWVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoieVhBQUEsYUFDQSxPQUFBLGVBQUEsRUFBQSxhQUFBLENBQUEsT0FBQSxtbUNDQUEsSUFBQSxFQUFBLEVBQUEsbURBQ0EsRUFBQSxFQUFBLCtCQUNBLEVBQUEsRUFBQSxpQkFDQSxFQUFBLEVBQUEsY0FFQSxFQUFBLFNBQUEsR0FBQSxTQUFBLDREQTBGQSxPQTFG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QUEsZ0JBQUEsQ0FBQSxVQUFBLGNBQUEsT0FBQSxTQUFBLEVBQUEsR0FBQSxFQUFBLFVBQUEsSUFBQSxTQUFBLEVBQUEsR0FBQSxJQUFBLElBQUEsS0FBQSxFQUFBLE9BQUEsVUFBQSxlQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxFQUFBLE1BQUEsRUFBQSxJQUFBLFNBQUEsRUFBQSxHQUFBLEdBQUEsbUJBQUEsR0FBQSxPQUFBLEVBQUEsTUFBQSxJQUFBLFVBQUEsdUJBQUEsT0FBQSxHQUFBLGlDQUFBLFNBQUEsS0FBQSxLQUFBLFlBQUEsRUFBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLFVBQUEsT0FBQSxFQUFBLE9BQUEsT0FBQSxJQUFBLEdBQUEsVUFBQSxFQUFBLFVBQUEsSUFBQSxNQUFBLE9BQUEsZUFBQSxFQUFBLGFBQUEsQ0FBQSxPQUFBLElBQUEsRUFBQSxlQUFBLEVBQUEsSUFBQSxFQUFBLEVBQUEsbUNBQUEsRUFBQSxFQUFBLGNBQUEsRUFBQSxFQUFBLG1EQUFBLEVBQUEsU0FBQSxHQUFBLFNBQUEsWUFBQSxPQUFBLE9BQUEsR0FBQSxFQUFBLE1BQUEsS0FBQSxZQUFBLEtBQUEsT0FBQSxFQUFBLFVBQUEsR0FBQSxVQUFBLFVBQUEsZ0JBQUEsU0FBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEdBQUEsT0FBQSxFQUFBLEVBQUEsWUFBQSxFQUFBLGdCQUFBLEtBQUEsQ0FBQSxXQUFBLEVBQUEsSUFBQSxFQUFBLGNBQUEsRUFBQSxRQUFBLEVBQUEsUUFBQSxLQUFBLFVBQUEsQ0FBQSxFQUFBLGVBQUEsRUFBQSxVQUFBLDBaQ0FBLElBQUEsRUFBQSxXQU9BLE9BUEEsU0FBQSxXQUFBLEdBQWEsRUFBQSxPQUFBLDhZQ0FiLElBQUEsRUFBQSxXQU1BLE9BTkEsU0FBQSxXQUFBLEdBQWEsRUFBQSxPQUFBLDhZQ0FiLElBQUEsRUFBQSxXQU1BLE9BTkEsU0FBQSxXQUFBLEdBQWEsRUFBQSxPQUFBLHMvQkNBYixJQUFBLEVBQUEsRUFBQSxtQ0FFQSxFQUFBLEVBQUEsY0FFQSxFQUFBLEVBQUEsbURB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Im1vZHVsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBpbnRlcmZhY2UgSVV0aWxpdGFyaW8ge1xyXG4gICAgR2V0VmFsdWUoUGxhaW5UZXh0IDogc3RyaW5nLCByZWdleCA6IFJlZ0V4cCwgcG9zOiBudW1iZXIpIDogc3RyaW5nO1xyXG4gICAgR2V0VmFsdWVzKFBsYWluVGV4dCA6IHN0cmluZywgcmVnZXggOiBSZWdFeHAsIHBvczogbnVtYmVyKTogQXJyYXk8c3RyaW5nPjtcclxuICAgIElzTWF0Y2goUGxhaW5UZXh0IDogc3RyaW5nLCBQYXR0ZXJuIDogc3RyaW5nKSA6IGJvb2xlYW47XHJcbiAgICBHZXRYUGF0aFJlc3VsdChyZXNwb25zZTpzdHJpbmcsIGV4cHJlc3Npb246c3RyaW5nLCB4cGF0aE5zUmVzb2x2ZXI6YW55LCB0eXBlOm51bWJlcik6IFhQYXRoUmVzdWx0O1xyXG4gICAgUmVtb3ZlTmFtZVNwYWNlKHJlcXVlc3Q6c3RyaW5nKSA6IHN0cmluZztcclxuICAgIEdldFBheUxvYWQoYWN0aW9uIDogc3RyaW5nKSA6IFByb21pc2U8c3RyaW5nPjtcclxuICAgIFN0cmluZ1RvWG1sKHN0clhNTCA6IHN0cmluZyk6IERvY3VtZW50O1xyXG4gICAgRG9jdW1lbnRUb1N0cmluZyhkb2N1bWVudDpEb2N1bWVudCk6IHN0cmluZztcclxufSIsImltcG9ydCB7IElVdGlsaXRhcmlvIH0gZnJvbSBcIi4vSVV0aWxpdGFyaW9cIjtcclxuaW1wb3J0IHsgQWJzdHJhY3RTZXJ2aWNlIH0gZnJvbSBcInNhYnJlLW5ndi1hcHAvYXBwL3NlcnZpY2VzL2ltcGwvQWJzdHJhY3RTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IEV4dGVybmFsU2VydmljZSB9IGZyb20gXCIuLi9zZXJ2aWNlcy9FeHRlcm5hbFNlcnZpY2VcIjtcclxuaW1wb3J0IHsgWG1sUGF5TG9hZHMgfSBmcm9tIFwiLi9YbWxQYXlMb2Fkc1wiO1xyXG5pbXBvcnQgeyBnZXRTZXJ2aWNlLCBjZiwgY29udGV4dCB9IGZyb20gXCIuLi9Db250ZXh0XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVXRpbGl0YXJpbyBleHRlbmRzIEFic3RyYWN0U2VydmljZSBpbXBsZW1lbnRzIElVdGlsaXRhcmlvIHtcclxuICAgIHN0YXRpYyBTRVJWSUNFX05BTUU6IHN0cmluZyA9IFwiY29tLWludGVybm92YS1ndGNwYXltZW50LXdlYi1tb2R1bGUtVXRpbGl0YXJpb1wiO1xyXG5cclxuICAgIEdldFBheUxvYWQoYWN0aW9uOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxzdHJpbmc+KChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcGw6IHN0cmluZyA9IFhtbFBheUxvYWRzLml0ZW1zW2FjdGlvbl07XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiUGF5bG9hZCBcIithY3Rpb24sXCI6XCIscGwpOyAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAocGwgJiYgcGwubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHBsKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJlamVjdChcIlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgR2V0WFBhdGhSZXN1bHQocmVzcG9uc2U6IHN0cmluZywgZXhwcmVzc2lvbjogc3RyaW5nLCB4cGF0aE5zUmVzb2x2ZXI6IGFueSwgdHlwZTogbnVtYmVyKTogWFBhdGhSZXN1bHQge1xyXG4gICAgICAgIHZhciBkb2MgPSBuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKHJlc3BvbnNlLCAndGV4dC94bWwnKTtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gZG9jLmV2YWx1YXRlKGV4cHJlc3Npb24sIGRvYywgeHBhdGhOc1Jlc29sdmVyLCB0eXBlLCBudWxsKTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIElzTWF0Y2goUGxhaW5UZXh0OiBzdHJpbmcsIFBhdHRlcm46IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGxldCByZyA9IG5ldyBSZWdFeHAoUGF0dGVybik7XHJcbiAgICAgICAgcmV0dXJuIHJnLnRlc3QoUGxhaW5UZXh0KTtcclxuICAgIH1cclxuXHJcbiAgICBHZXRWYWx1ZShQbGFpblRleHQ6IHN0cmluZywgcmVnZXg6IFJlZ0V4cCwgcG9zOiBudW1iZXIpOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCByZXR1cm5WYWx1ZTogc3RyaW5nID0gXCJcIjtcclxuICAgICAgICBsZXQgbTtcclxuXHJcbiAgICAgICAgd2hpbGUgKChtID0gcmVnZXguZXhlYyhQbGFpblRleHQpKSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpZiAobS5pbmRleCA9PT0gcmVnZXgubGFzdEluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICByZWdleC5sYXN0SW5kZXgrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBtLmZvckVhY2goKG1hdGNoLCBncm91cEluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZ3JvdXBJbmRleCA9PT0gcG9zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSBtYXRjaDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmV0dXJuVmFsdWVcclxuICAgIH1cclxuXHJcbiAgICBHZXRWYWx1ZXMoUGxhaW5UZXh0OiBzdHJpbmcsIHJlZ2V4OiBSZWdFeHAsIHBvczogbnVtYmVyKTogQXJyYXk8c3RyaW5nPiB7XHJcbiAgICAgICAgbGV0IHZhbHVlcyA9IFtdO1xyXG4gICAgICAgIGxldCBtO1xyXG5cclxuICAgICAgICB3aGlsZSAoKG0gPSByZWdleC5leGVjKFBsYWluVGV4dCkpICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGlmIChtLmluZGV4ID09PSByZWdleC5sYXN0SW5kZXgpIHtcclxuICAgICAgICAgICAgICAgIHJlZ2V4Lmxhc3RJbmRleCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG0uZm9yRWFjaCgobWF0Y2gsIGdyb3VwSW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChncm91cEluZGV4ID09PSBwb3MpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZXMucHVzaChtYXRjaCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdmFsdWVzO1xyXG4gICAgfVxyXG5cclxuICAgIFJlbW92ZU5hbWVTcGFjZShyZXF1ZXN0OiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIHJlcXVlc3QgPSByZXF1ZXN0LnJlcGxhY2UoL3htbG5zPVxcXCIoLio/KVxcXCIvZywgJycpO1xyXG4gICAgICAgIHJldHVybiByZXF1ZXN0O1xyXG4gICAgfVxyXG5cclxuICAgIEdldFBheUxvYWRJbmZvKGFjdGlvbjogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8c3RyaW5nPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGdldFNlcnZpY2UoRXh0ZXJuYWxTZXJ2aWNlKS5zZW5kUmVxdWVzdCgnR0VUJywgYWN0aW9uKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXNwKTtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3ApO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignZXJyLnN0YXR1c1RleHQ6JywgZXJyLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBTdHJpbmdUb1htbChzdHJYTUw6IHN0cmluZyk6IERvY3VtZW50IHtcclxuICAgICAgICB2YXIgZG9jID0gbmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyhzdHJYTUwsIFwidGV4dC94bWxcIik7XHJcbiAgICAgICAgcmV0dXJuIGRvYztcclxuICAgIH1cclxuXHJcbiAgICBEb2N1bWVudFRvU3RyaW5nKGRvY3VtZW50OiBEb2N1bWVudCk6IHN0cmluZyB7XHJcbiAgICAgICAgdmFyIHJldHVyblZhbHVlID0gbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyhkb2N1bWVudClcclxuICAgICAgICByZXR1cm4gcmV0dXJuVmFsdWU7XHJcbiAgICB9XHJcblxyXG59IiwiZXhwb3J0IGNsYXNzIFhtbFBheUxvYWRzIHtcclxuICBwdWJsaWMgc3RhdGljIGl0ZW1zID0ge1xyXG4gICAgXCJBZGRBY2NvdW50aW5nTGluZUxMU1JRXCI6IGA8QWRkQWNjb3VudGluZ0xpbmVSUSBUaW1lU3RhbXA9XCIyMDE1LTA0LTA5VDE0OjMwOjAwLTA2OjAwXCIgVmVyc2lvbj1cIjIuMC4wXCI+XHJcbiAgPEFpckFjY291bnRpbmdMaW5lcz5cclxuICAgIDxJbnRlcmFjdGl2ZUVsZWN0cm9uaWNUaWNrZXQ+XHJcbiAgICAgIDxGT1BfT25lIFR5cGU9XCJDS1wiLz5cclxuICAgICAgPEl0aW5Ub3RhbEZhcmU+XHJcbiAgICAgICAgPEJhc2VGYXJlIEFtb3VudD1cIjAuMDBcIi8+XHJcbiAgICAgICAgPENvbW1pc3Npb24gQW1vdW50PVwiMC4wMFwiLz5cclxuICAgICAgICA8VGF4ZXM+XHJcbiAgICAgICAgICA8VGF4IEFtb3VudD1cIjAuMDBcIi8+XHJcbiAgICAgICAgPC9UYXhlcz5cclxuICAgICAgPC9JdGluVG90YWxGYXJlPlxyXG4gICAgICA8UGVyc29uTmFtZSBOYW1lTnVtYmVyPVwiMS4xXCI+XHJcbiAgICAgICAgPEdpdmVuTmFtZT48L0dpdmVuTmFtZT5cclxuICAgICAgICA8U3VybmFtZT48L1N1cm5hbWU+XHJcbiAgICAgIDwvUGVyc29uTmFtZT5cclxuICAgICAgPFRpY2tldGluZyBlVGlja2V0TnVtYmVyPVwiMjgyODI4MjgyODBcIiBOdW1Eb2NzPVwiMVwiIFRhcmlmZj1cIkRcIi8+XHJcbiAgICAgIDxUeXBlIEluZm89XCJPTkVcIi8+XHJcbiAgICAgIDxWZW5kb3JQcmVmcz5cclxuICAgICAgICA8QWlybGluZSBDb2RlPVwiRExcIi8+XHJcbiAgICAgIDwvVmVuZG9yUHJlZnM+XHJcbiAgICA8L0ludGVyYWN0aXZlRWxlY3Ryb25pY1RpY2tldD5cclxuICA8L0FpckFjY291bnRpbmdMaW5lcz5cclxuPC9BZGRBY2NvdW50aW5nTGluZVJRPmAsXHJcblxyXG4gICAgXCJVcGRhdGVSZXNlcnZhdGlvblJRQ2FyXCI6IGA8VXBkYXRlUmVzZXJ2YXRpb25SUSB4bWxucz1cImh0dHA6Ly93ZWJzZXJ2aWNlcy5zYWJyZS5jb20vcG5yYnVpbGRlci92MV8xOVwiXHJcbnhtbG5zOm5zMj1cImh0dHA6Ly9zZXJ2aWNlcy5zYWJyZS5jb20vcmVzL29yL3YxXzE0XCIgVmVyc2lvbj1cIjEuMTkuMFwiPlxyXG48UmVzZXJ2YXRpb25VcGRhdGVMaXN0PlxyXG4gIDxSZXNlcnZhdGlvblVwZGF0ZUl0ZW0+XHJcbiAgICA8UHJvZHVjdFVwZGF0ZSBvcD1cIkNcIj5cclxuICAgICAgPFByb2R1Y3Q+XHJcbiAgICAgICAgPG5zMjpQcm9kdWN0RGV0YWlscyBlbmREYXRlVGltZT1cIlwiIHN0YXJ0RGF0ZVRpbWU9XCJcIiBzdGFydFBvaW50PVwiXCIgc3RhdHVzQ29kZT1cIkdLXCIgdmVuZG9yQ29kZT1cIlwiPlxyXG4gICAgICAgICAgPG5zMjpQcm9kdWN0TmFtZSB0eXBlPVwiQ0FSXCIvPlxyXG4gICAgICAgICAgPG5zMjpWZWhpY2xlPlxyXG4gICAgICAgICAgICA8bnMyOkNvbmZpcm1hdGlvbk51bWJlcj48L25zMjpDb25maXJtYXRpb25OdW1iZXI+XHJcbiAgICAgICAgICAgIDxuczI6VmVoaWNsZVJlbnRhbENvcmU+XHJcbiAgICAgICAgICAgICAgPG5zMjpEcm9wT2ZmTG9jYXRpb25EZXRhaWxzIGxvY2F0aW9uQ29kZT1cIlwiLz5cclxuICAgICAgICAgICAgICA8bnMyOkxvY2F0aW9uRGV0YWlscyBsb2NhdGlvbkNvZGU9XCJcIi8+XHJcbiAgICAgICAgICAgIDwvbnMyOlZlaGljbGVSZW50YWxDb3JlPlxyXG4gICAgICAgICAgICA8bnMyOlZlaGljbGVWZW5kb3JBdmFpbD5cclxuICAgICAgICAgICAgICA8bnMyOlZlaGljbGVSZXNDb3JlPlxyXG4gICAgICAgICAgICAgICAgPG5zMjpQcmljZWRFcXVpcG1lbnQgZXF1aXBtZW50VHlwZT1cIlwiIHF1YW50aXR5PVwiMVwiLz5cclxuICAgICAgICAgICAgICAgIDxuczI6UmVudGFsUmF0ZT5cclxuICAgICAgICAgICAgICAgICAgPG5zMjpCaWxsaW5nIHJlZmVyZW5jZT1cIlwiLz5cclxuICAgICAgICAgICAgICAgICAgPG5zMjpDbGllbnQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPG5zMjpJRD48L25zMjpJRD5cclxuICAgICAgICAgICAgICAgICAgPC9uczI6Q2xpZW50PlxyXG4gICAgICAgICAgICAgICAgICA8bnMyOlNlcnZpY2VJbmZvcm1hdGlvbj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxuczI6VGV4dD48L25zMjpUZXh0PlxyXG4gICAgICAgICAgICAgICAgICA8L25zMjpTZXJ2aWNlSW5mb3JtYXRpb24+XHJcbiAgICAgICAgICAgICAgICA8L25zMjpSZW50YWxSYXRlPlxyXG4gICAgICAgICAgICAgICAgPG5zMjpDaGFyZ2UgZHJvcE9mZkNoYXJnZT1cIlwiIHR5cGVPZkd1YXJhbnRlZT1cIlwiIC8+XHJcbiAgICAgICAgICAgICAgPC9uczI6VmVoaWNsZVJlc0NvcmU+XHJcbiAgICAgICAgICAgIDwvbnMyOlZlaGljbGVWZW5kb3JBdmFpbD5cclxuICAgICAgICAgICAgPG5zMjpQcmljaW5nRWxlbWVudHM+XHJcbiAgICAgICAgICAgIDwvbnMyOlByaWNpbmdFbGVtZW50cz5cclxuICAgICAgICAgIDwvbnMyOlZlaGljbGU+XHJcbiAgICAgICAgPC9uczI6UHJvZHVjdERldGFpbHM+XHJcbiAgICAgIDwvUHJvZHVjdD5cclxuICAgIDwvUHJvZHVjdFVwZGF0ZT5cclxuICA8L1Jlc2VydmF0aW9uVXBkYXRlSXRlbT5cclxuPC9SZXNlcnZhdGlvblVwZGF0ZUxpc3Q+XHJcbjwvVXBkYXRlUmVzZXJ2YXRpb25SUT5gLFxyXG5cclxuXCJVcGRhdGVSZXNlcnZhdGlvblJRcm1rXCI6IGA8VXBkYXRlUmVzZXJ2YXRpb25SUSB4bWxucz1cImh0dHA6Ly93ZWJzZXJ2aWNlcy5zYWJyZS5jb20vcG5yYnVpbGRlci92MV8xOVwiIHhtbG5zOm9yPVwiaHR0cDovL3NlcnZpY2VzLnNhYnJlLmNvbS9yZXMvb3IvdjFfMTJcIiBWZXJzaW9uPVwiMS4xOS4wXCIgRWNob1Rva2VuPVwiUksvRU5WL1BYR1NTRE1MVC02MDcwM1wiPlxyXG48UmVxdWVzdFR5cGU+U3RhdGVmdWw8L1JlcXVlc3RUeXBlPlxyXG4gIDxSZXNlcnZhdGlvblVwZGF0ZUxpc3Q+XHJcbiAgICAgIDxSZXNlcnZhdGlvblVwZGF0ZUl0ZW0+XHJcbiAgICAgIDwvUmVzZXJ2YXRpb25VcGRhdGVJdGVtPlxyXG4gIDwvUmVzZXJ2YXRpb25VcGRhdGVMaXN0PlxyXG48L1VwZGF0ZVJlc2VydmF0aW9uUlE+YCxcclxuXHJcbiAgICBcIlVwZGF0ZVJlc2VydmF0aW9uUlFIb3RlbFwiOiBgPFVwZGF0ZVJlc2VydmF0aW9uUlEgeG1sbnM9XCJodHRwOi8vd2Vic2VydmljZXMuc2FicmUuY29tL3BucmJ1aWxkZXIvdjFfMTlcIlxyXG54bWxuczpuczI9XCJodHRwOi8vc2VydmljZXMuc2FicmUuY29tL3Jlcy9vci92MV8xNFwiIFZlcnNpb249XCIxLjE5LjBcIj5cclxuICA8UmVzZXJ2YXRpb25VcGRhdGVMaXN0PlxyXG4gICAgPFJlc2VydmF0aW9uVXBkYXRlSXRlbT5cclxuICAgICAgPFByb2R1Y3RVcGRhdGUgb3A9XCJDXCI+XHJcbiAgICAgICAgPFByb2R1Y3Q+XHJcbiAgICAgICAgICA8bnMyOlByb2R1Y3REZXRhaWxzPlxyXG4gICAgICAgICAgICA8bnMyOlByb2R1Y3ROYW1lIHR5cGU9XCJISFRcIi8+XHJcbiAgICAgICAgICAgIDxuczI6SG90ZWw+XHJcbiAgICAgICAgICAgICAgPG5zMjpSZXNlcnZhdGlvbj5cclxuICAgICAgICAgICAgICAgIDxuczI6TGluZVN0YXR1cz5HSzwvbnMyOkxpbmVTdGF0dXM+XHJcbiAgICAgICAgICAgICAgICA8bnMyOlNwZWNpYWxQcmVmcz5cclxuICAgICAgICAgICAgICAgIDwvbnMyOlNwZWNpYWxQcmVmcz5cclxuICAgICAgICAgICAgICAgIDxuczI6Um9vbVR5cGU+XHJcbiAgICAgICAgICAgICAgICAgIDxuczI6Um9vbVR5cGVDb2RlPjwvbnMyOlJvb21UeXBlQ29kZT5cclxuICAgICAgICAgICAgICAgICAgPG5zMjpOdW1iZXJPZlVuaXRzPjwvbnMyOk51bWJlck9mVW5pdHM+XHJcbiAgICAgICAgICAgICAgICA8L25zMjpSb29tVHlwZT5cclxuICAgICAgICAgICAgICAgIDxuczI6Um9vbVJhdGVzPlxyXG4gICAgICAgICAgICAgICAgICA8bnMyOkFtb3VudEJlZm9yZVRheD48L25zMjpBbW91bnRCZWZvcmVUYXg+XHJcbiAgICAgICAgICAgICAgICAgIDxuczI6Q3VycmVuY3lDb2RlPjwvbnMyOkN1cnJlbmN5Q29kZT5cclxuICAgICAgICAgICAgICAgIDwvbnMyOlJvb21SYXRlcz5cclxuICAgICAgICAgICAgICAgIDxuczI6VGltZVNwYW5TdGFydD48L25zMjpUaW1lU3BhblN0YXJ0PlxyXG4gICAgICAgICAgICAgICAgPG5zMjpUaW1lU3BhbkVuZD48L25zMjpUaW1lU3BhbkVuZD5cclxuICAgICAgICAgICAgICAgIDxuczI6R3VhcmFudGVlPlxyXG4gICAgICAgICAgICAgICAgPC9uczI6R3VhcmFudGVlPlxyXG4gICAgICAgICAgICAgICAgPG5zMjpDaGFpbkNvZGU+PC9uczI6Q2hhaW5Db2RlPlxyXG4gICAgICAgICAgICAgICAgPG5zMjpIb3RlbENpdHlDb2RlPjwvbnMyOkhvdGVsQ2l0eUNvZGU+XHJcbiAgICAgICAgICAgICAgICA8bnMyOkhvdGVsTmFtZT48L25zMjpIb3RlbE5hbWU+XHJcbiAgICAgICAgICAgICAgPC9uczI6UmVzZXJ2YXRpb24+XHJcbiAgICAgICAgICAgICAgPG5zMjpBZGRpdGlvbmFsSW5mb3JtYXRpb24+XHJcbiAgICAgICAgICAgICAgICA8bnMyOkNvbmZpcm1hdGlvbk51bWJlcj48L25zMjpDb25maXJtYXRpb25OdW1iZXI+XHJcbiAgICAgICAgICAgICAgICA8bnMyOkFkZHJlc3M+XHJcbiAgICAgICAgICAgICAgICA8L25zMjpBZGRyZXNzPlxyXG4gICAgICAgICAgICAgICAgPG5zMjpDb250YWN0TnVtYmVycz5cclxuICAgICAgICAgICAgICAgICAgPG5zMjpQaG9uZU51bWJlcj48L25zMjpQaG9uZU51bWJlcj5cclxuICAgICAgICAgICAgICAgIDwvbnMyOkNvbnRhY3ROdW1iZXJzPlxyXG4gICAgICAgICAgICAgIDwvbnMyOkFkZGl0aW9uYWxJbmZvcm1hdGlvbj5cclxuICAgICAgICAgICAgPC9uczI6SG90ZWw+XHJcbiAgICAgICAgICA8L25zMjpQcm9kdWN0RGV0YWlscz5cclxuICAgICAgICA8L1Byb2R1Y3Q+XHJcbiAgICAgIDwvUHJvZHVjdFVwZGF0ZT5cclxuICAgIDwvUmVzZXJ2YXRpb25VcGRhdGVJdGVtPlxyXG4gIDwvUmVzZXJ2YXRpb25VcGRhdGVMaXN0PlxyXG48L1VwZGF0ZVJlc2VydmF0aW9uUlE+YCxcclxuXHJcbiAgICBcIkFkZFJlbWFya0xMU1JRXCI6IGBcclxuPEFkZFJlbWFya1JRIHhtbG5zPVwiaHR0cDovL3dlYnNlcnZpY2VzLnNhYnJlLmNvbS9zYWJyZVhNTC8yMDExLzEwXCIgeG1sbnM6eHM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYVwiIHhtbG5zOnhzaT1cImh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlXCIgUmV0dXJuSG9zdENvbW1hbmQ9XCJ0cnVlXCIgVmVyc2lvbj1cIjIuMS4xXCI+XHJcbjxSZW1hcmtJbmZvPlxyXG48L1JlbWFya0luZm8+XHJcbjwvQWRkUmVtYXJrUlE+YCxcclxuXHJcbiAgICBcIkNvbnRleHRDaGFuZ2VMTFNSUVwiOiBgICAgICAgICBcclxuPENvbnRleHRDaGFuZ2VSUSBWZXJzaW9uPVwiMi4wLjNcIlxyXG54bWxucz1cImh0dHA6Ly93ZWJzZXJ2aWNlcy5zYWJyZS5jb20vc2FicmVYTUwvMjAxMS8xMFwiPlxyXG48Q2hhbmdlQUFBIFBzZXVkb0NpdHlDb2RlPVwiS0EwSlwiLz5cclxuPC9Db250ZXh0Q2hhbmdlUlE+YCxcclxuXHJcbiAgICBcIkVQU19FWFRfUHJvZmlsZVJlYWRSUVwiOiBgICAgICAgICBcclxuPFNhYnJlX09UQV9Qcm9maWxlUmVhZFJRIHhtbG5zPVwiaHR0cDovL3d3dy5zYWJyZS5jb20vZXBzL3NjaGVtYXNcIlxyXG54bWxuczp4c2k9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYS1pbnN0YW5jZVwiIHhzaTpzY2hlbWFMb2NhdGlvbj1cImh0dHA6Ly93d3cuc2FicmUuY29tL2Vwcy9zY2hlbWFzICAgICAgICBcclxuICAgICAgICAuLlxcc2NoZW1hc1dTRExcXFNhYnJlX09UQV9Qcm9maWxlUmVhZFJRLnhzZFwiIFZlcnNpb249XCI2LjU1XCI+XHJcbjxQcm9maWxlPlxyXG4gIDxUUEFfSWRlbnRpdHkgVW5pcXVlSUQ9XCIyMjkyODExOTdcIiBDbGllbnRDb2RlPVwiVE5cIiBEb21haW5JRD1cIktBMEpcIiBDbGllbnRDb250ZXh0Q29kZT1cIk1ZU1wiPlxyXG4gIDwvVFBBX0lkZW50aXR5PlxyXG48L1Byb2ZpbGU+XHJcbjwvU2FicmVfT1RBX1Byb2ZpbGVSZWFkUlE+YCxcclxuXHJcbiAgICBcImVUaWNrZXRDb3Vwb25MTFNSUVwiOiBgXHJcbjxlVGlja2V0Q291cG9uUlEgeG1sbnM9XCJodHRwOi8vd2Vic2VydmljZXMuc2FicmUuY29tL3NhYnJlWE1MLzIwMTEvMTBcIiBWZXJzaW9uPVwiMi4wLjBcIiBSZXR1cm5Ib3N0Q29tbWFuZD1cInRydWVcIj5cclxuPFRpY2tldGluZyBlVGlja2V0TnVtYmVyPVwiMjIwNDg5ODM1MTU4MFwiLz5cclxuPC9lVGlja2V0Q291cG9uUlE+YCxcclxuXHJcbiAgICBcIkdldFJlc2VydmF0aW9uUlFfV2l0aFNlc3Npb25cIjogYFxyXG48U09BUC1FTlY6RW52ZWxvcGUgeG1sbnM6U09BUC1FTlY9XCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy9zb2FwL2VudmVsb3BlL1wiXHJcbnhtbG5zOmViPVwiaHR0cDovL3d3dy5lYnhtbC5vcmcvbmFtZXNwYWNlcy9tZXNzYWdlSGVhZGVyXCJcclxueG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCJcclxueG1sbnM6eHNkPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS9YTUxTY2hlbWFcIj5cclxuPFNPQVAtRU5WOkhlYWRlcj5cclxuICA8ZWI6TWVzc2FnZUhlYWRlciBTT0FQLUVOVjptdXN0VW5kZXJzdGFuZD1cIjFcIiBlYjp2ZXJzaW9uPVwiMS4wXCI+XHJcbiAgICA8ZWI6RnJvbT5cclxuICAgICAgPGViOlBhcnR5SWQgdHlwZT1cInVybjp4MTIub3JnOklPNTowMVwiPjk5OTk5OTwvZWI6UGFydHlJZD5cclxuICAgIDwvZWI6RnJvbT5cclxuICAgIDxlYjpUbz5cclxuICAgICAgPGViOlBhcnR5SWQgdHlwZT1cInVybjp4MTIub3JnOklPNTowMVwiPjEyMzEyMzwvZWI6UGFydHlJZD5cclxuICAgIDwvZWI6VG8+XHJcbiAgICA8ZWI6Q1BBSWQ+VTUxMTwvZWI6Q1BBSWQ+XHJcbiAgICA8ZWI6Q29udmVyc2F0aW9uSWQ+d2Vic2VydmljZXMuc3VwcG9ydEBzYWJyZS5jb208L2ViOkNvbnZlcnNhdGlvbklkPlxyXG4gICAgPGViOlNlcnZpY2UgZWI6dHlwZT1cIk9UQVwiPkFpcjwvZWI6U2VydmljZT5cclxuICAgIDxlYjpBY3Rpb24+R2V0UmVzZXJ2YXRpb25SUTwvZWI6QWN0aW9uPlxyXG4gICAgPGViOk1lc3NhZ2VEYXRhPlxyXG4gICAgICA8ZWI6TWVzc2FnZUlkPjEwMDA8L2ViOk1lc3NhZ2VJZD5cclxuICAgICAgPGViOlRpbWVzdGFtcD4yMDE2LTEyLTMwVDA1OjI1OjMyejwvZWI6VGltZXN0YW1wPlxyXG4gICAgPC9lYjpNZXNzYWdlRGF0YT5cclxuICA8L2ViOk1lc3NhZ2VIZWFkZXI+XHJcbiAgPHdzc2U6U2VjdXJpdHkgeG1sbnM6d3NzZT1cImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDIvMTIvc2VjZXh0XCJcclxuICAgIHhtbG5zOndzdT1cImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDIvMTIvdXRpbGl0eVwiPlxyXG4gICAgPHdzc2U6QmluYXJ5U2VjdXJpdHlUb2tlbj48L3dzc2U6QmluYXJ5U2VjdXJpdHlUb2tlbj5cclxuICA8L3dzc2U6U2VjdXJpdHk+XHJcbjwvU09BUC1FTlY6SGVhZGVyPlxyXG48U09BUC1FTlY6Qm9keT5cclxuICA8R2V0UmVzZXJ2YXRpb25SUSBWZXJzaW9uPVwiMS4xOS4wXCJcclxuICAgIHhtbG5zPVwiaHR0cDovL3dlYnNlcnZpY2VzLnNhYnJlLmNvbS9wbnJidWlsZGVyL3YxXzE5XCI+XHJcbiAgICA8TG9jYXRvcj48L0xvY2F0b3I+XHJcbiAgICA8UmVxdWVzdFR5cGU+U3RhdGVmdWw8L1JlcXVlc3RUeXBlPlxyXG4gICAgPFJldHVybk9wdGlvbnMgUHJpY2VRdW90ZVNlcnZpY2VWZXJzaW9uPVwiMy4yLjBcIj5cclxuICAgICAgPFN1YmplY3RBcmVhcz5cclxuICAgICAgICA8U3ViamVjdEFyZWE+RlVMTDwvU3ViamVjdEFyZWE+XHJcbiAgICAgICAgPFN1YmplY3RBcmVhPlBSSUNFX1FVT1RFPC9TdWJqZWN0QXJlYT5cclxuICAgICAgPC9TdWJqZWN0QXJlYXM+XHJcbiAgICA8L1JldHVybk9wdGlvbnM+XHJcbiAgPC9HZXRSZXNlcnZhdGlvblJRPlxyXG48L1NPQVAtRU5WOkJvZHk+XHJcbjwvU09BUC1FTlY6RW52ZWxvcGU+YCxcclxuXHJcbiAgICBcIkdldFJlc2VydmF0aW9uUlFcIjogYFxyXG48R2V0UmVzZXJ2YXRpb25SUSBWZXJzaW9uPVwiMS4xOS4wXCJcclxueG1sbnM9XCJodHRwOi8vd2Vic2VydmljZXMuc2FicmUuY29tL3BucmJ1aWxkZXIvdjFfMTlcIj5cclxuPExvY2F0b3I+T1NVSUNJPC9Mb2NhdG9yPlxyXG48UmVxdWVzdFR5cGU+U3RhdGVmdWw8L1JlcXVlc3RUeXBlPlxyXG48UmV0dXJuT3B0aW9ucz5cclxuICA8Vmlld05hbWU+VmFEZWZhdWx0V2l0aFBxPC9WaWV3TmFtZT5cclxuICA8UmVzcG9uc2VGb3JtYXQ+U1RMPC9SZXNwb25zZUZvcm1hdD5cclxuPC9SZXR1cm5PcHRpb25zPlxyXG48L0dldFJlc2VydmF0aW9uUlE+YCxcclxuXHJcbiAgICBcIklnbm9yZVRyYW5zYWN0aW9uTExTUlFfV2l0aFNlc3Npb25cIjogYFxyXG48U09BUC1FTlY6RW52ZWxvcGUgeG1sbnM6U09BUC1FTlY9XCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy9zb2FwL2VudmVsb3BlL1wiXHJcbnhtbG5zOmViPVwiaHR0cDovL3d3dy5lYnhtbC5vcmcvbmFtZXNwYWNlcy9tZXNzYWdlSGVhZGVyXCJcclxueG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCJcclxueG1sbnM6eHNkPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS9YTUxTY2hlbWFcIj5cclxuPFNPQVAtRU5WOkhlYWRlcj5cclxuICA8ZWI6TWVzc2FnZUhlYWRlciBTT0FQLUVOVjptdXN0VW5kZXJzdGFuZD1cIjFcIiBlYjp2ZXJzaW9uPVwiMS4wXCI+XHJcbiAgICA8ZWI6RnJvbT5cclxuICAgICAgPGViOlBhcnR5SWQgdHlwZT1cInVybjp4MTIub3JnOklPNTowMVwiPjk5OTk5OTwvZWI6UGFydHlJZD5cclxuICAgIDwvZWI6RnJvbT5cclxuICAgIDxlYjpUbz5cclxuICAgICAgPGViOlBhcnR5SWQgdHlwZT1cInVybjp4MTIub3JnOklPNTowMVwiPjEyMzEyMzwvZWI6UGFydHlJZD5cclxuICAgIDwvZWI6VG8+XHJcbiAgICA8ZWI6Q1BBSWQ+S0EwSjwvZWI6Q1BBSWQ+XHJcbiAgICA8ZWI6Q29udmVyc2F0aW9uSWQ+d2Vic2VydmljZXMuc3VwcG9ydEBzYWJyZS5jb208L2ViOkNvbnZlcnNhdGlvbklkPlxyXG4gICAgPGViOlNlcnZpY2UgZWI6dHlwZT1cIk9UQVwiPklnbm9yZVRyYW5zYWN0aW9uTExTUlE8L2ViOlNlcnZpY2U+XHJcbiAgICA8ZWI6QWN0aW9uPklnbm9yZVRyYW5zYWN0aW9uTExTUlE8L2ViOkFjdGlvbj5cclxuICAgIDxlYjpNZXNzYWdlRGF0YT5cclxuICAgICAgPGViOk1lc3NhZ2VJZD4xMDAwPC9lYjpNZXNzYWdlSWQ+XHJcbiAgICAgIDxlYjpUaW1lc3RhbXA+MjAxNi0xMi0zMFQwNToyNTozMno8L2ViOlRpbWVzdGFtcD5cclxuICAgIDwvZWI6TWVzc2FnZURhdGE+XHJcbiAgPC9lYjpNZXNzYWdlSGVhZGVyPlxyXG4gIDx3c3NlOlNlY3VyaXR5IHhtbG5zOndzc2U9XCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDAyLzEyL3NlY2V4dFwiXHJcbiAgICB4bWxuczp3c3U9XCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDAyLzEyL3V0aWxpdHlcIj5cclxuICAgIDx3c3NlOkJpbmFyeVNlY3VyaXR5VG9rZW4+PC93c3NlOkJpbmFyeVNlY3VyaXR5VG9rZW4+XHJcbiAgPC93c3NlOlNlY3VyaXR5PlxyXG48L1NPQVAtRU5WOkhlYWRlcj5cclxuPFNPQVAtRU5WOkJvZHk+XHJcbiAgPElnbm9yZVRyYW5zYWN0aW9uUlEgUmV0dXJuSG9zdENvbW1hbmQ9XCJ0cnVlXCIgVmVyc2lvbj1cIjIuMC4wXCJcclxuICAgIHhtbG5zPVwiaHR0cDovL3dlYnNlcnZpY2VzLnNhYnJlLmNvbS9zYWJyZVhNTC8yMDExLzEwXCIvPlxyXG48L1NPQVAtRU5WOkJvZHk+XHJcbjwvU09BUC1FTlY6RW52ZWxvcGU+YCxcclxuXHJcbiAgICBcIlBhc3NlbmdlckRldGFpbHNSUV9XaXRoU2Vzc2lvblwiOiBgXHJcbjxTT0FQLUVOVjpFbnZlbG9wZSB4bWxuczpTT0FQLUVOVj1cImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3NvYXAvZW52ZWxvcGUvXCJcclxueG1sbnM6ZWI9XCJodHRwOi8vd3d3LmVieG1sLm9yZy9uYW1lc3BhY2VzL21lc3NhZ2VIZWFkZXJcIlxyXG54bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIlxyXG54bWxuczp4c2Q9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L1hNTFNjaGVtYVwiPlxyXG48U09BUC1FTlY6SGVhZGVyPlxyXG4gIDxlYjpNZXNzYWdlSGVhZGVyIFNPQVAtRU5WOm11c3RVbmRlcnN0YW5kPVwiMVwiIGViOnZlcnNpb249XCIxLjBcIj5cclxuICAgIDxlYjpGcm9tPlxyXG4gICAgICA8ZWI6UGFydHlJZCB0eXBlPVwidXJuOngxMi5vcmc6SU81OjAxXCI+OTk5OTk5PC9lYjpQYXJ0eUlkPlxyXG4gICAgPC9lYjpGcm9tPlxyXG4gICAgPGViOlRvPlxyXG4gICAgICA8ZWI6UGFydHlJZCB0eXBlPVwidXJuOngxMi5vcmc6SU81OjAxXCI+MTIzMTIzPC9lYjpQYXJ0eUlkPlxyXG4gICAgPC9lYjpUbz5cclxuICAgIDxlYjpDUEFJZD5LQTBKPC9lYjpDUEFJZD5cclxuICAgIDxlYjpDb252ZXJzYXRpb25JZD53ZWJzZXJ2aWNlcy5zdXBwb3J0QHNhYnJlLmNvbTwvZWI6Q29udmVyc2F0aW9uSWQ+XHJcbiAgICA8ZWI6U2VydmljZSBlYjp0eXBlPVwiT1RBXCI+UGFzc2VuZ2VyRGV0YWlsc1JRPC9lYjpTZXJ2aWNlPlxyXG4gICAgPGViOkFjdGlvbj5QYXNzZW5nZXJEZXRhaWxzUlE8L2ViOkFjdGlvbj5cclxuICAgIDxlYjpNZXNzYWdlRGF0YT5cclxuICAgICAgPGViOk1lc3NhZ2VJZD4xMDAwPC9lYjpNZXNzYWdlSWQ+XHJcbiAgICAgIDxlYjpUaW1lc3RhbXA+MjAxNi0xMi0zMFQwNToyNTozMno8L2ViOlRpbWVzdGFtcD5cclxuICAgIDwvZWI6TWVzc2FnZURhdGE+XHJcbiAgPC9lYjpNZXNzYWdlSGVhZGVyPlxyXG4gIDx3c3NlOlNlY3VyaXR5IHhtbG5zOndzc2U9XCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDAyLzEyL3NlY2V4dFwiXHJcbiAgICB4bWxuczp3c3U9XCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDAyLzEyL3V0aWxpdHlcIj5cclxuICAgIDx3c3NlOkJpbmFyeVNlY3VyaXR5VG9rZW4+PC93c3NlOkJpbmFyeVNlY3VyaXR5VG9rZW4+XHJcbiAgPC93c3NlOlNlY3VyaXR5PlxyXG48L1NPQVAtRU5WOkhlYWRlcj5cclxuPFNPQVAtRU5WOkJvZHk+XHJcbiAgPFBhc3NlbmdlckRldGFpbHNSUSB4bWxucz1cImh0dHA6Ly9zZXJ2aWNlcy5zYWJyZS5jb20vc3AvcGQvdjNfNFwiIHZlcnNpb249XCIzLjQuMFwiIGlnbm9yZU9uRXJyb3I9XCJmYWxzZVwiIGhhbHRPbkVycm9yPVwiZmFsc2VcIj5cclxuICAgIDxNaXNjU2VnbWVudFNlbGxSUT5cclxuICAgICAgPE1pc2NTZWdtZW50IERlcGFydHVyZURhdGVUaW1lPVwiMTItMjFcIiBJbnNlcnRBZnRlcj1cIjBcIiBOdW1iZXJJblBhcnR5PVwiMVwiIFN0YXR1cz1cIkdLXCIgVHlwZT1cIk9USFwiPlxyXG4gICAgICAgIDxPcmlnaW5Mb2NhdGlvbiBMb2NhdGlvbkNvZGU9XCJGU0dcIi8+XHJcbiAgICAgICAgPFRleHQ+VEVTVDwvVGV4dD5cclxuICAgICAgICA8VmVuZG9yUHJlZnM+XHJcbiAgICAgICAgICA8QWlybGluZSBDb2RlPVwiWFhcIi8+XHJcbiAgICAgICAgPC9WZW5kb3JQcmVmcz5cclxuICAgICAgPC9NaXNjU2VnbWVudD5cclxuICAgIDwvTWlzY1NlZ21lbnRTZWxsUlE+XHJcbiAgICA8UG9zdFByb2Nlc3NpbmcgaGFsdE9uSW52YWxpZE1DVD1cImZhbHNlXCIgaWdub3JlQWZ0ZXI9XCJ0cnVlXCIgdW5tYXNrQ3JlZGl0Q2FyZD1cImZhbHNlXCI+XHJcbiAgICAgIDxSZWRpc3BsYXlSZXNlcnZhdGlvbiB3YWl0SW50ZXJ2YWw9XCIxMDBcIiByZXR1cm5FeHRlbmRlZFByaWNlUXVvdGU9XCJmYWxzZVwiLz5cclxuICAgICAgPEVuZFRyYW5zYWN0aW9uUlEgc2hvdWxkQ2hlY2tSZWZJZD1cInRydWVcIj5cclxuICAgICAgICA8RW5kVHJhbnNhY3Rpb24gSW5kPVwidHJ1ZVwiLz5cclxuICAgICAgICA8U291cmNlIFJlY2VpdmVkRnJvbT1cIlNXUyBWSVNUQUpFVFwiLz5cclxuICAgICAgPC9FbmRUcmFuc2FjdGlvblJRPlxyXG4gICAgICA8UXVldWVQbGFjZVJRIE51bVJlc3BvbnNlcz1cIjVcIj5cclxuICAgICAgICA8UXVldWVJbmZvPlxyXG4gICAgICAgICAgPFF1ZXVlSWRlbnRpZmllciBOdW1iZXI9XCI0MDBcIiBQcmVmYXRvcnlJbnN0cnVjdGlvbkNvZGU9XCIxMFwiIFBzZXVkb0NpdHlDb2RlPVwiS0EwSlwiLz5cclxuICAgICAgICAgIDxVbmlxdWVJRCBJRD1cIlVERkpHWlwiLz5cclxuICAgICAgICA8L1F1ZXVlSW5mbz5cclxuICAgICAgPC9RdWV1ZVBsYWNlUlE+XHJcbiAgICA8L1Bvc3RQcm9jZXNzaW5nPlxyXG4gICAgPFByb2ZpbGVSUT5cclxuICAgICAgPFVuaXF1ZUlEIGlkPVwiQ1JIVExcIi8+XHJcbiAgICA8L1Byb2ZpbGVSUT5cclxuICAgIDxTcGVjaWFsUmVxRGV0YWlscz5cclxuICAgICAgPEFkZFJlbWFya1JRPlxyXG4gICAgICAgIDxSZW1hcmtJbmZvPlxyXG4gICAgICAgICAgPFJlbWFyayBDb2RlPVwiSFwiIFR5cGU9XCJBbHBoYS1Db2RlZFwiPlxyXG4gICAgICAgICAgICA8VGV4dD48L1RleHQ+XHJcbiAgICAgICAgICA8L1JlbWFyaz5cclxuICAgICAgICA8L1JlbWFya0luZm8+XHJcbiAgICAgIDwvQWRkUmVtYXJrUlE+XHJcbiAgICA8L1NwZWNpYWxSZXFEZXRhaWxzPlxyXG4gIDwvUGFzc2VuZ2VyRGV0YWlsc1JRPlxyXG48L1NPQVAtRU5WOkJvZHk+XHJcbjwvU09BUC1FTlY6RW52ZWxvcGU+YCxcclxuXHJcbiAgICBcIlBhc3NlbmdlckRldGFpbHNSUVwiOiBgXHJcbjxQYXNzZW5nZXJEZXRhaWxzUlEgeG1sbnM9XCJodHRwOi8vc2VydmljZXMuc2FicmUuY29tL3NwL3BkL3YzXzRcIiB2ZXJzaW9uPVwiMy40LjBcIiBpZ25vcmVPbkVycm9yPVwiZmFsc2VcIiBoYWx0T25FcnJvcj1cImZhbHNlXCI+XHJcbjxNaXNjU2VnbWVudFNlbGxSUT5cclxuICA8TWlzY1NlZ21lbnQgRGVwYXJ0dXJlRGF0ZVRpbWU9XCIxMi0yMVwiIEluc2VydEFmdGVyPVwiMFwiIE51bWJlckluUGFydHk9XCIxXCIgU3RhdHVzPVwiR0tcIiBUeXBlPVwiT1RIXCI+XHJcbiAgICA8T3JpZ2luTG9jYXRpb24gTG9jYXRpb25Db2RlPVwiRlNHXCIvPlxyXG4gICAgPFRleHQ+VEVTVDwvVGV4dD5cclxuICAgIDxWZW5kb3JQcmVmcz5cclxuICAgICAgPEFpcmxpbmUgQ29kZT1cIlhYXCIvPlxyXG4gICAgPC9WZW5kb3JQcmVmcz5cclxuICA8L01pc2NTZWdtZW50PlxyXG48L01pc2NTZWdtZW50U2VsbFJRPlxyXG48UG9zdFByb2Nlc3NpbmcgaGFsdE9uSW52YWxpZE1DVD1cImZhbHNlXCIgaWdub3JlQWZ0ZXI9XCJ0cnVlXCIgdW5tYXNrQ3JlZGl0Q2FyZD1cImZhbHNlXCI+XHJcbiAgPFJlZGlzcGxheVJlc2VydmF0aW9uIHdhaXRJbnRlcnZhbD1cIjEwMFwiIHJldHVybkV4dGVuZGVkUHJpY2VRdW90ZT1cImZhbHNlXCIvPlxyXG4gIDxFbmRUcmFuc2FjdGlvblJRIHNob3VsZENoZWNrUmVmSWQ9XCJ0cnVlXCI+XHJcbiAgICA8RW5kVHJhbnNhY3Rpb24gSW5kPVwidHJ1ZVwiLz5cclxuICAgIDxTb3VyY2UgUmVjZWl2ZWRGcm9tPVwiU1dTIFZJU1RBSkVUXCIvPlxyXG4gIDwvRW5kVHJhbnNhY3Rpb25SUT5cclxuICA8UXVldWVQbGFjZVJRIE51bVJlc3BvbnNlcz1cIjVcIj5cclxuICAgIDxRdWV1ZUluZm8+XHJcbiAgICAgIDxRdWV1ZUlkZW50aWZpZXIgTnVtYmVyPVwiNDAwXCIgUHJlZmF0b3J5SW5zdHJ1Y3Rpb25Db2RlPVwiMTBcIiBQc2V1ZG9DaXR5Q29kZT1cIktBMEpcIi8+XHJcbiAgICAgIDxVbmlxdWVJRCBJRD1cIlVERkpHWlwiLz5cclxuICAgIDwvUXVldWVJbmZvPlxyXG4gIDwvUXVldWVQbGFjZVJRPlxyXG48L1Bvc3RQcm9jZXNzaW5nPlxyXG48UHJvZmlsZVJRPlxyXG4gIDxVbmlxdWVJRCBpZD1cIkNSSFRMXCIvPlxyXG48L1Byb2ZpbGVSUT5cclxuPFNwZWNpYWxSZXFEZXRhaWxzPlxyXG4gIDxBZGRSZW1hcmtSUT5cclxuICAgIDxSZW1hcmtJbmZvPlxyXG4gICAgICA8UmVtYXJrIENvZGU9XCJIXCIgU2VnbWVudE51bWJlcj1cIjFcIiBUeXBlPVwiR2VuZXJhbFwiPlxyXG4gICAgICAgIDxUZXh0PlRFU1QgUkVNQVJLIDI8L1RleHQ+XHJcbiAgICAgIDwvUmVtYXJrPlxyXG4gICAgPC9SZW1hcmtJbmZvPlxyXG4gIDwvQWRkUmVtYXJrUlE+XHJcbjwvU3BlY2lhbFJlcURldGFpbHM+XHJcbjwvUGFzc2VuZ2VyRGV0YWlsc1JRPmAsXHJcblxyXG4gICAgXCJRdWV1ZVBsYWNlUlFcIjogYDxRdWV1ZVBsYWNlUlEgeG1sbnM9XCJodHRwOi8vd2Vic2VydmljZXMuc2FicmUuY29tL3NhYnJlWE1MLzIwMTEvMTBcIlxyXG54bWxuczp4cz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hXCJcclxueG1sbnM6eHNpPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2VcIiBWZXJzaW9uPVwiMi4wLjRcIj5cclxuPFF1ZXVlSW5mbz5cclxuPFF1ZXVlSWRlbnRpZmllciBOdW1iZXI9XCJcIiBQcmVmYXRvcnlJbnN0cnVjdGlvbkNvZGU9XCIxMVwiIFBzZXVkb0NpdHlDb2RlPVwiXCIvPlxyXG48L1F1ZXVlSW5mbz5cclxuPC9RdWV1ZVBsYWNlUlE+YCxcclxuXHJcbiAgICBcIlNhYnJlX09UQV9Qcm9maWxlUmVhZFJRXCI6IGBcclxuPFNhYnJlX09UQV9Qcm9maWxlUmVhZFJRIHhtbG5zPVwiaHR0cDovL3d3dy5zYWJyZS5jb20vZXBzL3NjaGVtYXNcIlxyXG54bWxuczp4c2k9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYS1pbnN0YW5jZVwiIHhzaTpzY2hlbWFMb2NhdGlvbj1cImh0dHA6Ly93d3cuc2FicmUuY29tL2Vwcy9zY2hlbWFzXHJcbi4uXFxzY2hlbWFzV1NETFxcU2FicmVfT1RBX1Byb2ZpbGVSZWFkUlEueHNkXCIgVmVyc2lvbj1cIjYuNTVcIj5cclxuPFByb2ZpbGU+XHJcbjxUUEFfSWRlbnRpdHkgVW5pcXVlSUQ9XCIqXCIgQ2xpZW50Q29kZT1cIlwiIERvbWFpbklEPVwiXCIgUHJvZmlsZVR5cGVDb2RlPVwiXCIgQ2xpZW50Q29udGV4dENvZGU9XCJcIiAvPlxyXG48L1Byb2ZpbGU+XHJcbjwvU2FicmVfT1RBX1Byb2ZpbGVSZWFkUlE+YCxcclxuXHJcbiAgICBcIlNhYnJlX09UQV9Qcm9maWxlU2VhcmNoUlFcIjogYFxyXG48U2FicmVfT1RBX1Byb2ZpbGVTZWFyY2hSUSBWZXJzaW9uPVwiNi4yNlwiXHJcbnhtbG5zPVwiaHR0cDovL3d3dy5zYWJyZS5jb20vZXBzL3NjaGVtYXNcIlxyXG54bWxuczp4c2k9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYS1pbnN0YW5jZVwiIHhzaTpzY2hlbWFMb2NhdGlvbj1cImh0dHA6Ly93d3cuc2FicmUuY29tL2Vwcy9zY2hlbWFzIC4uXFxzY2hlbWFzd3NkbFxcU2FicmVfT1RBX1Byb2ZpbGVTZWFyY2hSUS54c2RcIj5cclxuPFByb2ZpbGVTZWFyY2hDcml0ZXJpYSBQcm9maWxlTmFtZU9ubHk9XCJZXCI+XHJcbjxUUEFfSWRlbnRpdHkgQ2xpZW50Q29kZT1cIlwiIENsaWVudENvbnRleHRDb2RlPVwiXCIgRG9tYWluSUQ9XCJcIiBQcm9maWxlTmFtZT1cIlwiIFByb2ZpbGVUeXBlQ29kZT1cIlwiLz5cclxuPC9Qcm9maWxlU2VhcmNoQ3JpdGVyaWE+XHJcbjwvU2FicmVfT1RBX1Byb2ZpbGVTZWFyY2hSUT5gLFxyXG5cclxuICAgIFwiU2FicmVfT1RBX1Byb2ZpbGVUb1BOUlJRX1dpdGhTZXNzaW9uXCI6IGBcclxuPFNPQVAtRU5WOkVudmVsb3BlIHhtbG5zOlNPQVAtRU5WPVwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvc29hcC9lbnZlbG9wZS9cIlxyXG54bWxuczplYj1cImh0dHA6Ly93d3cuZWJ4bWwub3JnL25hbWVzcGFjZXMvbWVzc2FnZUhlYWRlclwiXHJcbnhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiXHJcbnhtbG5zOnhzZD1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkvWE1MU2NoZW1hXCI+XHJcbjxTT0FQLUVOVjpIZWFkZXI+XHJcbjxlYjpNZXNzYWdlSGVhZGVyIFNPQVAtRU5WOm11c3RVbmRlcnN0YW5kPVwiMVwiIGViOnZlcnNpb249XCIxLjBcIj5cclxuICA8ZWI6RnJvbT5cclxuICAgIDxlYjpQYXJ0eUlkIHR5cGU9XCJ1cm46eDEyLm9yZzpJTzU6MDFcIj45OTk5OTk8L2ViOlBhcnR5SWQ+XHJcbiAgPC9lYjpGcm9tPlxyXG4gIDxlYjpUbz5cclxuICAgIDxlYjpQYXJ0eUlkIHR5cGU9XCJ1cm46eDEyLm9yZzpJTzU6MDFcIj4xMjMxMjM8L2ViOlBhcnR5SWQ+XHJcbiAgPC9lYjpUbz5cclxuICA8ZWI6Q1BBSWQ+S0EwSjwvZWI6Q1BBSWQ+XHJcbiAgPGViOkNvbnZlcnNhdGlvbklkPndlYnNlcnZpY2VzLnN1cHBvcnRAc2FicmUuY29tPC9lYjpDb252ZXJzYXRpb25JZD5cclxuICA8ZWI6U2VydmljZSBlYjp0eXBlPVwiT1RBXCI+RVBTPC9lYjpTZXJ2aWNlPlxyXG4gIDxlYjpBY3Rpb24+RVBTX0VYVF9Qcm9maWxlVG9QTlJSUTwvZWI6QWN0aW9uPlxyXG4gIDxlYjpNZXNzYWdlRGF0YT5cclxuICAgIDxlYjpNZXNzYWdlSWQ+MTAwMDwvZWI6TWVzc2FnZUlkPlxyXG4gICAgPGViOlRpbWVzdGFtcD4yMDE2LTEyLTMwVDA1OjI1OjMyejwvZWI6VGltZXN0YW1wPlxyXG4gIDwvZWI6TWVzc2FnZURhdGE+XHJcbjwvZWI6TWVzc2FnZUhlYWRlcj5cclxuPHdzc2U6U2VjdXJpdHkgeG1sbnM6d3NzZT1cImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDIvMTIvc2VjZXh0XCJcclxuICB4bWxuczp3c3U9XCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDAyLzEyL3V0aWxpdHlcIj5cclxuICA8d3NzZTpCaW5hcnlTZWN1cml0eVRva2VuPjwvd3NzZTpCaW5hcnlTZWN1cml0eVRva2VuPlxyXG48L3dzc2U6U2VjdXJpdHk+XHJcbjwvU09BUC1FTlY6SGVhZGVyPlxyXG48U09BUC1FTlY6Qm9keT5cclxuPFNhYnJlX09UQV9Qcm9maWxlVG9QTlJSUSBUYXJnZXQ9XCJQcm9kdWN0aW9uXCIgVGltZVN0YW1wPVwiMjAxMy0wNC0zMFQwODoyNDo0Mi45NjdaXCIgVmVyc2lvbj1cIjYuNTVcIiB4c2k6c2NoZW1hTG9jYXRpb249XCJodHRwOi8vd3d3LnNhYnJlLmNvbS9lcHMvc2NoZW1hcyBcXHNjaGVtYXNcXFNhYnJlX09UQV9Qcm9maWxlQ3JlYXRlUlEueHNkXCJcclxuICB4bWxucz1cImh0dHA6Ly93d3cuc2FicmUuY29tL2Vwcy9zY2hlbWFzXCJcclxuICB4bWxuczp4c2k9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYS1pbnN0YW5jZVwiPlxyXG4gIDxGaWx0ZXJQYXRoPlxyXG4gICAgPFByb2ZpbGUgQ2xpZW50Q29kZT1cIlwiIENsaWVudENvbnRleHRDb2RlPVwiXCIgRG9tYWluSUQ9XCJcIiBQcm9maWxlVHlwZUNvZGU9XCJcIiBVbmlxdWVJRD1cIlwiIFByb2ZpbGVOYW1lPVwiXCIgUE5STW92ZU9yZGVyU2VxTm89XCIxXCI+XHJcbiAgICAgIDxGaWx0ZXIgRmlsdGVySUQ9XCJcIiBEb21haW5JRD1cIlwiIENsaWVudENvZGU9XCJcIiBDbGllbnRDb250ZXh0Q29kZT1cIlwiIEZpbHRlck5hbWU9XCJcIi8+XHJcbiAgICA8L1Byb2ZpbGU+XHJcbiAgPC9GaWx0ZXJQYXRoPlxyXG48L1NhYnJlX09UQV9Qcm9maWxlVG9QTlJSUT5cclxuPC9TT0FQLUVOVjpCb2R5PlxyXG48L1NPQVAtRU5WOkVudmVsb3BlPmAsXHJcblxyXG4gICAgXCJTYWJyZV9PVEFfUHJvZmlsZVRvUE5SUlFcIjogYFxyXG48U2FicmVfT1RBX1Byb2ZpbGVUb1BOUlJRIFRhcmdldD1cIlByb2R1Y3Rpb25cIiBUaW1lU3RhbXA9XCIyMDEzLTA0LTMwVDA4OjI0OjQyLjk2N1pcIiBWZXJzaW9uPVwiNi41NVwiIHhzaTpzY2hlbWFMb2NhdGlvbj1cImh0dHA6Ly93d3cuc2FicmUuY29tL2Vwcy9zY2hlbWFzIFxcc2NoZW1hc1xcU2FicmVfT1RBX1Byb2ZpbGVDcmVhdGVSUS54c2RcIlxyXG54bWxucz1cImh0dHA6Ly93d3cuc2FicmUuY29tL2Vwcy9zY2hlbWFzXCJcclxueG1sbnM6eHNpPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2VcIj5cclxuPEZpbHRlclBhdGg+XHJcbjxQcm9maWxlIENsaWVudENvZGU9XCJcIiBDbGllbnRDb250ZXh0Q29kZT1cIlwiIERvbWFpbklEPVwiXCIgUHJvZmlsZVR5cGVDb2RlPVwiXCIgVW5pcXVlSUQ9XCJcIiBQcm9maWxlTmFtZT1cIlwiIFBOUk1vdmVPcmRlclNlcU5vPVwiMVwiPlxyXG4gIDxGaWx0ZXIgRmlsdGVySUQ9XCJcIiBEb21haW5JRD1cIlwiIENsaWVudENvZGU9XCJcIiBDbGllbnRDb250ZXh0Q29kZT1cIlwiIEZpbHRlck5hbWU9XCJcIi8+XHJcbjwvUHJvZmlsZT5cclxuPC9GaWx0ZXJQYXRoPlxyXG48L1NhYnJlX09UQV9Qcm9maWxlVG9QTlJSUT5gLFxyXG5cclxuICAgIFwiU2FicmVDb21tYW5kTExTUlFfV2l0aFNlc3Npb25cIjogYDxTT0FQLUVOVjpFbnZlbG9wZSB4bWxuczpTT0FQLUVOVj1cImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3NvYXAvZW52ZWxvcGUvXCJcclxueG1sbnM6ZWI9XCJodHRwOi8vd3d3LmVieG1sLm9yZy9uYW1lc3BhY2VzL21lc3NhZ2VIZWFkZXJcIlxyXG54bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIlxyXG54bWxuczp4c2Q9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L1hNTFNjaGVtYVwiPlxyXG48U09BUC1FTlY6SGVhZGVyPlxyXG48ZWI6TWVzc2FnZUhlYWRlciBTT0FQLUVOVjptdXN0VW5kZXJzdGFuZD1cIjFcIiBlYjp2ZXJzaW9uPVwiMS4wXCI+XHJcbjxlYjpGcm9tPlxyXG4gIDxlYjpQYXJ0eUlkIHR5cGU9XCJ1cm46eDEyLm9yZzpJTzU6MDFcIj45OTk5OTk8L2ViOlBhcnR5SWQ+XHJcbjwvZWI6RnJvbT5cclxuPGViOlRvPlxyXG4gIDxlYjpQYXJ0eUlkIHR5cGU9XCJ1cm46eDEyLm9yZzpJTzU6MDFcIj4xMjMxMjM8L2ViOlBhcnR5SWQ+XHJcbjwvZWI6VG8+XHJcbjxlYjpDUEFJZD5LQTBKPC9lYjpDUEFJZD5cclxuPGViOkNvbnZlcnNhdGlvbklkPndlYnNlcnZpY2VzLnN1cHBvcnRAc2FicmUuY29tPC9lYjpDb252ZXJzYXRpb25JZD5cclxuPGViOlNlcnZpY2UgZWI6dHlwZT1cIk9UQVwiPlNhYnJlQ29tbWFuZExMU1JRPC9lYjpTZXJ2aWNlPlxyXG48ZWI6QWN0aW9uPlNhYnJlQ29tbWFuZExMU1JRPC9lYjpBY3Rpb24+XHJcbjxlYjpNZXNzYWdlRGF0YT5cclxuICA8ZWI6TWVzc2FnZUlkPjEwMDA8L2ViOk1lc3NhZ2VJZD5cclxuICA8ZWI6VGltZXN0YW1wPjIwMTYtMTItMzBUMDU6MjU6MzJ6PC9lYjpUaW1lc3RhbXA+XHJcbjwvZWI6TWVzc2FnZURhdGE+XHJcbjwvZWI6TWVzc2FnZUhlYWRlcj5cclxuPHdzc2U6U2VjdXJpdHkgeG1sbnM6d3NzZT1cImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDIvMTIvc2VjZXh0XCJcclxueG1sbnM6d3N1PVwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwMi8xMi91dGlsaXR5XCI+XHJcbjx3c3NlOkJpbmFyeVNlY3VyaXR5VG9rZW4+PC93c3NlOkJpbmFyeVNlY3VyaXR5VG9rZW4+XHJcbjwvd3NzZTpTZWN1cml0eT5cclxuPC9TT0FQLUVOVjpIZWFkZXI+XHJcbjxTT0FQLUVOVjpCb2R5PlxyXG48U2FicmVDb21tYW5kTExTUlEgeG1sbnM9XCJodHRwOi8vd2Vic2VydmljZXMuc2FicmUuY29tL3NhYnJlWE1MLzIwMDMvMDdcIlxyXG54bWxuczp4cz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hXCJcclxueG1sbnM6eHNpPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2VcIiBUaW1lU3RhbXA9XCIyMDE0LTAzLTA0VDE0OjAwOjAwXCIgVmVyc2lvbj1cIjEuOC4xXCI+XHJcbjxSZXF1ZXN0IE91dHB1dD1cIlNDUkVFTlwiIENEQVRBPVwidHJ1ZVwiPlxyXG4gIDxIb3N0Q29tbWFuZD48L0hvc3RDb21tYW5kPlxyXG48L1JlcXVlc3Q+XHJcbjwvU2FicmVDb21tYW5kTExTUlE+XHJcbjwvU09BUC1FTlY6Qm9keT5cclxuPC9TT0FQLUVOVjpFbnZlbG9wZT5gLFxyXG5cclxuICAgIFwiU2FicmVDb21tYW5kTExTUlFcIjogYFxyXG48U2FicmVDb21tYW5kTExTUlEgeG1sbnM9XCJodHRwOi8vd2Vic2VydmljZXMuc2FicmUuY29tL3NhYnJlWE1MLzIwMDMvMDdcIlxyXG54bWxuczp4cz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hXCJcclxueG1sbnM6eHNpPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2VcIiBUaW1lU3RhbXA9XCIyMDE0LTAzLTA0VDE0OjAwOjAwXCIgVmVyc2lvbj1cIjEuOC4xXCI+XHJcbjxSZXF1ZXN0IE91dHB1dD1cIlNDUkVFTlwiIENEQVRBPVwidHJ1ZVwiPlxyXG48SG9zdENvbW1hbmQ+PC9Ib3N0Q29tbWFuZD5cclxuPC9SZXF1ZXN0PlxyXG48L1NhYnJlQ29tbWFuZExMU1JRPmAsXHJcblxyXG4gICAgXCJTZXNzaW9uQ3JlYXRlUlFcIjogYFxyXG48U09BUC1FTlY6RW52ZWxvcGUgeG1sbnM6U09BUC1FTlY9XCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy9zb2FwL2VudmVsb3BlL1wiPlxyXG48U09BUC1FTlY6SGVhZGVyPlxyXG48TWVzc2FnZUhlYWRlciB4bWxucz1cImh0dHA6Ly93d3cuZWJ4bWwub3JnL25hbWVzcGFjZXMvbWVzc2FnZUhlYWRlclwiPlxyXG48RnJvbT5cclxuICA8UGFydHlJZD5BZ2VuY3k8L1BhcnR5SWQ+XHJcbjwvRnJvbT5cclxuPFRvPlxyXG4gIDxQYXJ0eUlkPlNhYnJlX0FQSTwvUGFydHlJZD5cclxuPC9Ubz5cclxuPENvbnZlcnNhdGlvbklkPjIwMjEuMDEuRGV2U3R1ZGlvPC9Db252ZXJzYXRpb25JZD5cclxuPEFjdGlvbj5TZXNzaW9uQ3JlYXRlUlE8L0FjdGlvbj5cclxuPC9NZXNzYWdlSGVhZGVyPlxyXG48U2VjdXJpdHkgeG1sbnM9XCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDAyLzEyL3NlY2V4dFwiPlxyXG48VXNlcm5hbWVUb2tlbj5cclxuICA8VXNlcm5hbWU+PC9Vc2VybmFtZT5cclxuICA8UGFzc3dvcmQ+PC9QYXNzd29yZD5cclxuICA8T3JnYW5pemF0aW9uPjwvT3JnYW5pemF0aW9uPlxyXG4gIDxEb21haW4+REVGQVVMVDwvRG9tYWluPlxyXG48L1VzZXJuYW1lVG9rZW4+XHJcbjwvU2VjdXJpdHk+XHJcbjwvU09BUC1FTlY6SGVhZGVyPlxyXG48U09BUC1FTlY6Qm9keT5cclxuPFNlc3Npb25DcmVhdGVSUSByZXR1cm5Db250ZXh0SUQ9XCJ0cnVlXCIgVmVyc2lvbj1cIjEuMC4wXCJcclxueG1sbnM9XCJodHRwOi8vd3d3Lm9wZW50cmF2ZWwub3JnL09UQS8yMDAyLzExXCIvPlxyXG48L1NPQVAtRU5WOkJvZHk+XHJcbjwvU09BUC1FTlY6RW52ZWxvcGU+YFxyXG4gIH1cclxufSIsIlxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiBBdXRvLWdlbmVyYXRlZCBmaWxlLiAgICAgICAgICAgICAgKi9cbi8qIERvIG5vdCBtb2RpZnkgaXQuICAgICAgICAgICAgICAgICAqL1xuLyogWW91IG1heSByZW1vdmUgaXQuICAgICAgICAgICAgICAgICovXG4vKiBZb3UgbWF5IGNvbW1pdCBpdC4gICAgICAgICAgICAgICAgKi9cbi8qIFlvdSBtYXkgcHVzaCBpdC4gICAgICAgICAgICAgICAgICAqL1xuLyogUmVtb3ZlIGl0IGlmIG1vZHVsZSBuYW1lIGNoYW5nZWQuICovXG4vKiBlc2xpbnQ6ZGlzYWJsZSAgICAgICAgICAgICAgICAgICAgKi9cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5pbXBvcnQge0lNb2R1bGVDb250ZXh0fSBmcm9tIFwic2FicmUtbmd2LWNvcmUvbW9kdWxlcy9JTW9kdWxlQ29udGV4dFwiO1xuaW1wb3J0IHtNb2R1bGVDb250ZXh0fSBmcm9tIFwic2FicmUtbmd2LWNvcmUvbW9kdWxlcy9Nb2R1bGVDb250ZXh0XCI7XG5pbXBvcnQge0kxOG5TZXJ2aWNlLCBTY29wZWRUcmFuc2xhdG9yfSBmcm9tIFwic2FicmUtbmd2LWFwcC9hcHAvc2VydmljZXMvaW1wbC9JMThuU2VydmljZVwiO1xuXG4vKiogQGludGVybmFsICoqL1xuZXhwb3J0IGNvbnN0IGNvbnRleHQ6IElNb2R1bGVDb250ZXh0ID0gbmV3IE1vZHVsZUNvbnRleHQoXCJjb20taW50ZXJub3ZhLWd0Y3BheW1lbnQtd2ViLW1vZHVsZVwiKTtcbi8qKiBAaW50ZXJuYWwgKiovXG5leHBvcnQgY29uc3QgY2Y6IElNb2R1bGVDb250ZXh0WydjZiddID0gY29udGV4dC5jZi5iaW5kKGNvbnRleHQpO1xuLyoqIEBpbnRlcm5hbCAqKi9cbmV4cG9ydCBjb25zdCByZWdpc3RlclNlcnZpY2U6IElNb2R1bGVDb250ZXh0WydyZWdpc3RlclNlcnZpY2UnXSA9IGNvbnRleHQucmVnaXN0ZXJTZXJ2aWNlLmJpbmQoY29udGV4dCk7XG4vKiogQGludGVybmFsICoqL1xuZXhwb3J0IGNvbnN0IGdldFNlcnZpY2U6IElNb2R1bGVDb250ZXh0WydnZXRTZXJ2aWNlJ10gPSBjb250ZXh0LmdldFNlcnZpY2UuYmluZChjb250ZXh0KTtcbi8qKiBAaW50ZXJuYWwgKiovXG5leHBvcnQgY29uc3QgdDogU2NvcGVkVHJhbnNsYXRvciA9IGdldFNlcnZpY2UoSTE4blNlcnZpY2UpLmdldFNjb3BlZFRyYW5zbGF0b3IoJ2NvbS1pbnRlcm5vdmEtZ3RjcGF5bWVudC13ZWItbW9kdWxlL3RyYW5zbGF0aW9ucycpO1xuIiwiaW1wb3J0IHsgQ29tbWFuZE1lc3NhZ2VCYXNpY1JzLENvbW1hbmRNZXNzYWdlUnEgfSBmcm9tIFwic2FicmUtbmd2LXBvcy1jZG0vY29tbXNnXCI7XHJcbmltcG9ydCB7IHJlbWFyayB9IGZyb20gXCIuLi9tb2RlbC9yZW1hcmtcIjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSVNhYnJlQ29udHJvbGxlciB7XHJcbiAgICBSZW1hcmtVcGRhdGUobGlzdFJlbWFya3M6IEFycmF5PHJlbWFyaz4pOiBQcm9taXNlPGJvb2xlYW4+O1xyXG4gICAgU2VuZENvbW1hbmRBc3luYyhmb3JtYXQgOiBzdHJpbmcpIDogUHJvbWlzZTxib29sZWFuPjtcclxuICAgIFNlbmRDb21tYW5kQXN5bmNScyhmb3JtYXQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiA7XHJcbiAgICBidWlsZFJlcXVlc3RHZXRSZXNlcnZhdGlvbihwbnI6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj47XHJcbiAgICBidWlsZFJlcXVlc3RBZGRSZW1hcmsobGlzdFJlbWFya3M6IEFycmF5PHJlbWFyaz4pOiBQcm9taXNlPGJvb2xlYW4+O1xyXG4gICAgU2VuZENvbW1hbmRNZXNzYWdlKHBheWxvYWQ6IHN0cmluZywgc2hvd1JxOmJvb2xlYW4sIHNob3dSczpib29sZWFuKTogUHJvbWlzZTxDb21tYW5kTWVzc2FnZUJhc2ljUnM+O1xyXG4gICAgQWRkUmVtYXJrc0FzeW5jKHJlbWFya3M6QXJyYXk8cmVtYXJrPik6IFByb21pc2U8Ym9vbGVhbj47XHJcbiAgICBTZW5kQ29tbWFuZFN5bmMoZm9ybWF0IDogc3RyaW5nKSA6IHN0cmluZztcclxuICAgIElucHV0VmFsaWRhdG9yKGlkOiBzdHJpbmcpOiB2b2lkOyAgICAgXHJcbn0iLCJpbXBvcnQgeyBJU2FicmVDb250cm9sbGVyIH0gZnJvbSBcIi4vSVNhYnJlQ29udHJvbGxlclwiO1xyXG5pbXBvcnQgeyBBYnN0cmFjdFNlcnZpY2UgfSBmcm9tIFwic2FicmUtbmd2LWFwcC9hcHAvc2VydmljZXMvaW1wbC9BYnN0cmFjdFNlcnZpY2VcIjtcclxuaW1wb3J0IHsgZ2V0U2VydmljZSwgY2YsIGNvbnRleHQgfSBmcm9tIFwiLi4vQ29udGV4dFwiO1xyXG5pbXBvcnQgeyBTYWJyZVNlcnZpY2UgfSBmcm9tIFwiLi4vc2VydmljZXMvU2FicmVTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IElSZXNlcnZhdGlvblNlcnZpY2UgfSBmcm9tIFwic2FicmUtbmd2LXJlc2VydmF0aW9uL3NlcnZpY2VzL0lSZXNlcnZhdGlvblNlcnZpY2VcIjtcclxuaW1wb3J0IHsgQ29tbWFuZE1lc3NhZ2VSZXNlcnZhdGlvblJzIH0gZnJvbSBcInNhYnJlLW5ndi1wb3MtY2RtL3Jlc2VydmF0aW9uXCI7XHJcbmltcG9ydCB7IFBuclB1YmxpY1NlcnZpY2UgfSBmcm9tIFwic2FicmUtbmd2LWFwcC9hcHAvc2VydmljZXMvaW1wbC9QbnJQdWJsaWNTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IEFnZW50UHJvZmlsZVNlcnZpY2UgfSBmcm9tIFwic2FicmUtbmd2LWFwcC9hcHAvc2VydmljZXMvaW1wbC9BZ2VudFByb2ZpbGVTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IENvbW1hbmRNZXNzYWdlQmFzaWNScywgQ29tbWFuZE1lc3NhZ2VScSB9IGZyb20gXCJzYWJyZS1uZ3YtcG9zLWNkbS9jb21tc2dcIjtcclxuaW1wb3J0IHsgSUNvbW1hbmRNZXNzYWdlU2VydmljZSB9IGZyb20gXCJzYWJyZS1uZ3YtY29tbXNnL3NlcnZpY2VzL0lDb21tYW5kTWVzc2FnZVNlcnZpY2VcIjtcclxuaW1wb3J0IHsgVXRpbGl0YXJpbyB9IGZyb20gXCIuLi9jb21tb24vVXRpbGl0YXJpb1wiO1xyXG5pbXBvcnQgeyByZW1hcmsgfSBmcm9tIFwiLi4vbW9kZWwvcmVtYXJrXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU2FicmVDb250cm9sbGVyIGV4dGVuZHMgQWJzdHJhY3RTZXJ2aWNlIGltcGxlbWVudHMgSVNhYnJlQ29udHJvbGxlciB7XHJcbiAgICBzdGF0aWMgU0VSVklDRV9OQU1FOiBzdHJpbmcgPSBcImNvbS1pbnRlcm5vdmEtZ3RjcGF5bWVudC13ZWItbW9kdWxlLVNhYnJlQ29udHJvbGxlclwiO1xyXG5cclxuICAgIGJ1aWxkUmVxdWVzdEdldFJlc2VydmF0aW9uKHBucjogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPGJvb2xlYW4+KChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgbGV0IHJlcXVlc3QgPSB0aGlzLmJ1aWxkR2V0UmVzZXJ2YXRpb25SUShwbnIsIFwiR2V0UmVzZXJ2YXRpb25SUVwiKTtcclxuICAgICAgICAgICAgcmVxdWVzdFxyXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0U2VydmljZShTYWJyZVNlcnZpY2UpLmNhbGxTb2FwU2VydmljZUFzeW5jKHJlc3AsIFwiR2V0UmVzZXJ2YXRpb25SUVwiLCAnU0VTU0lPTicsIDEwMDAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzb2x2ZXIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmVzb2x2ZXIgR2V0UmVzZXJ2YXRpb25SUVwiLCByZXNvbHZlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgYnVpbGRSZXF1ZXN0QWRkUmVtYXJrKGxpc3RSZW1hcmtzOiBBcnJheTxyZW1hcms+KTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPGJvb2xlYW4+KChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJsaXN0UmVtYXJrcyBvbiBidWlsZFJlcXVlc3RBZGRSZW1hcmtcIiwgbGlzdFJlbWFya3MpO1xyXG5cclxuICAgICAgICAgICAgbGV0IHJlcXVlc3RSbWsgPSB0aGlzLmJ1aWxkQWRkUmVtYXJrUlEobGlzdFJlbWFya3MsIFwiQWRkUmVtYXJrTExTUlFcIik7XHJcbiAgICAgICAgICAgIHJlcXVlc3RSbWtcclxuICAgICAgICAgICAgICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGdldFNlcnZpY2UoU2FicmVTZXJ2aWNlKS5jYWxsU29hcFNlcnZpY2VBc3luYyhyZXNwLCBcIkFkZFJlbWFya0xMU1JRXCIsICdTRVNTSU9OJywgMTAwMDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXNvbHZlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJyZXNvbHZlciBBZGRSZW1hcmtMTFNSUVwiLCByZXNvbHZlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgUmVtYXJrVXBkYXRlKGxpc3RSZW1hcmtzOiBBcnJheTxyZW1hcms+KTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPGJvb2xlYW4+KChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgbGV0IHJlcXVlc3RSbWsgPSB0aGlzLmJ1aWxkUmVtYXJrVXBkYXRlUlEobGlzdFJlbWFya3MsIFwiVXBkYXRlUmVzZXJ2YXRpb25SUXJta1wiKTtcclxuICAgICAgICAgICAgcmVxdWVzdFJta1xyXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0U2VydmljZShTYWJyZVNlcnZpY2UpLmNhbGxTb2FwU2VydmljZUFzeW5jKHJlc3AsIFwiVXBkYXRlUmVzZXJ2YXRpb25SUVwiLCAnU0VTU0lPTicsIDEwMDAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzb2x2ZXIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmVzb2x2ZXIgVXBkYXRlUmVzZXJ2YXRpb25SUVwiLCByZXNvbHZlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgU2VuZENvbW1hbmRBc3luYyhmb3JtYXQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxib29sZWFuPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiQXN5bmMgZW50cnk6XCIsIGZvcm1hdCk7XHJcbiAgICAgICAgICAgIGxldCByZXF1ZXN0U2FicmVDb21tYW5kID0gdGhpcy5idWlsZFJlcXVlc3RTYWJyZUNvbW1hbmQoZm9ybWF0LCBcIlNhYnJlQ29tbWFuZExMU1JRXCIpO1xyXG4gICAgICAgICAgICByZXF1ZXN0U2FicmVDb21tYW5kXHJcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBnZXRTZXJ2aWNlKFNhYnJlU2VydmljZSkuY2FsbFNvYXBTZXJ2aWNlQXN5bmMocmVzcCwgXCJTYWJyZUNvbW1hbmRMTFNSUVwiLCAnU0VTU0lPTicsIDEwMDAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzb2x2ZXIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlc29sdmVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgU2VuZENvbW1hbmRBc3luY1JzKGZvcm1hdDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8c3RyaW5nPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiQXN5bmMgZW50cnk6XCIsIGZvcm1hdCk7XHJcbiAgICAgICAgICAgIGxldCByZXF1ZXN0U2FicmVDb21tYW5kID0gdGhpcy5idWlsZFJlcXVlc3RTYWJyZUNvbW1hbmQoZm9ybWF0LCBcIlNhYnJlQ29tbWFuZExMU1JRXCIpO1xyXG4gICAgICAgICAgICByZXF1ZXN0U2FicmVDb21tYW5kXHJcbiAgICAgICAgICAgICAgICAudGhlbihyZXNwID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInJlc3A6XCIsIHJlc3ApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBnZXRTZXJ2aWNlKFNhYnJlU2VydmljZSkuY2FsbFNvYXBTZXJ2aWNlQXN5bmMocmVzcCwgXCJTYWJyZUNvbW1hbmRMTFNSUVwiLCAnU0VTU0lPTicsIDEwMDAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzb2x2ZXIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwicmVzb2x2ZXI6XCIsIHJlc29sdmVyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdXRpbGl0YXJpb18gPSBnZXRTZXJ2aWNlKFV0aWxpdGFyaW8pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJ1dGlsaXRhcmlvXzpcIiwgdXRpbGl0YXJpb18pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkb2N1bWVudCA9IHV0aWxpdGFyaW9fLlN0cmluZ1RvWG1sKHJlc29sdmVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiZG9jdW1lbnQgaW4geG1sOlwiLCBkb2N1bWVudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbW1hbmRScyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiUmVzcG9uc2VcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGNvbW1hbmRSc1swXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgU2VuZENvbW1hbmRTeW5jKGZvcm1hdDogc3RyaW5nKTogc3RyaW5nIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9zaSBubyBlc3TDoSAzNjAgbm8gbG8gZGV0ZWN0YSAgICBcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnZW50cnknLCBmb3JtYXQpXHJcbiAgICAgICAgbGV0IHJlc3BvbnNlTWVzc2FnZTogc3RyaW5nID0gbnVsbDtcclxuICAgICAgICBsZXQgcmVxdWVzdFNhYnJlQ29tbWFuZFN0cmluZyA9IHRoaXMuYnVpbGRSZXF1ZXN0U2VuZENvbW1hbmQoZm9ybWF0KTsgICAgICAgICAgICAgICAgICAgLy9sbGFtYW1vcyBhbCBtZXRvZG8gY29uIGVsIHRoaXMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdycScsIHJlcXVlc3RTYWJyZUNvbW1hbmRTdHJpbmcpXHJcbiAgICAgICAgaWYgKHJlcXVlc3RTYWJyZUNvbW1hbmRTdHJpbmcgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXNwb25zZU1lc3NhZ2UgPSBnZXRTZXJ2aWNlKFNhYnJlU2VydmljZSkuY2FsbFNvYXBTZXJ2aWNlU3luYyhyZXF1ZXN0U2FicmVDb21tYW5kU3RyaW5nLCBcIlNhYnJlQ29tbWFuZExMU1JRXCIpXHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdycycsIHJlc3BvbnNlTWVzc2FnZSlcclxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlTWVzc2FnZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcnNwQ29tbWFuZCA9IEpTT04ucGFyc2UocmVzcG9uc2VNZXNzYWdlKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcGFyc2VhbW9zIGxhIHJlc3B1ZXN0YSBlbiB1bmEgdmFyaWFibGUgZGUgdGlwbyBKU09OICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICByZXNwb25zZU1lc3NhZ2UgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJzcENvbW1hbmQucmVzcG9uc2UgIT0gbnVsbCAmJiByc3BDb21tYW5kLnJlc3BvbnNlLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZU1lc3NhZ2UgPSByc3BDb21tYW5kLnJlc3BvbnNlLnBheWxvYWQucmVzcG9uc2VUZXh0OyAgICAgICAgICAgICAgICAgLy9kZXZ1ZWx2ZSBlbCBTYWJyZUNvbW1hbmRSU1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwicmVzcG9uc2VNZXNzYWdlOlwiLHJlc3BvbnNlTWVzc2FnZSk7ICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZU1lc3NhZ2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlTWVzc2FnZTtcclxuICAgIH1cclxuXHJcbiAgICBTZW5kQ29tbWFuZE1lc3NhZ2UocGF5bG9hZDogc3RyaW5nLCBzaG93UnE6IGJvb2xlYW4sIHNob3dSczogYm9vbGVhbik6IFByb21pc2U8Q29tbWFuZE1lc3NhZ2VCYXNpY1JzPiB7XHJcbiAgICAgICAgbGV0IGlDbWRNc2dTZXJ2aWNlID0gZ2V0U2VydmljZShJQ29tbWFuZE1lc3NhZ2VTZXJ2aWNlKTtcclxuICAgICAgICByZXR1cm4gaUNtZE1zZ1NlcnZpY2Uuc2VuZCh7XHJcbiAgICAgICAgICAgIHJxOiBwYXlsb2FkLFxyXG4gICAgICAgICAgICBzaG93UnE6IHNob3dScSxcclxuICAgICAgICAgICAgc2hvd1JzOiBzaG93UnNcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICpcclxuICpcclxuICogQHByaXZhdGVcclxuICogQHBhcmFtIHtzdHJpbmd9IHJlZk5vZGVcclxuICogQHBhcmFtIHtzdHJpbmd9IHJlZkF0dHJcclxuICogQHBhcmFtIHtFbGVtZW50fSBhY3R1YWxOb2RlXHJcbiAqIEByZXR1cm4geyp9ICB7c3RyaW5nfVxyXG4gKiBAbWVtYmVyb2YgU2FicmVDb250cm9sbGVyXHJcbiAqL1xyXG4gICAgcHJpdmF0ZSBjaGVja05vZGVWYWx1ZXMocmVmTm9kZTogc3RyaW5nLCByZWZBdHRyOiBzdHJpbmcsIGFjdHVhbE5vZGU6IEVsZW1lbnQpOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCBkYXRvID0gXCJcIjtcclxuICAgICAgICBpZiAoYWN0dWFsTm9kZS5sb2NhbE5hbWUgPT0gcmVmTm9kZSAmJiBhY3R1YWxOb2RlLmhhc0F0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgbGV0IGF0dHJpYnV0ZXMgPSBhY3R1YWxOb2RlLmF0dHJpYnV0ZXM7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBhdHRyaWJ1dGVzLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZXNbaW5kZXhdLm5hbWUgPT0gcmVmQXR0cikge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdG8gPSBhdHRyaWJ1dGVzW2luZGV4XS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAvLyAvLyBjb25zb2xlLmxvZyhcInJlZlBvaW50OiBcIiArIGF0dHJpYnV0ZXNbaW5kZXhdLm5hbWUgKyBcIiAgOjogXCIgKyBhdHRyaWJ1dGVzW2luZGV4XS52YWx1ZSk7ICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBkYXRvO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbipcclxuKlxyXG4qIEBwcml2YXRlXHJcbiogQHBhcmFtIHtFbGVtZW50fSBub2RlRmF0aGVyXHJcbiogQHBhcmFtIHtzdHJpbmd9IHJlZkF0dHJcclxuKiBAcGFyYW0ge3N0cmluZ30gcmVmUG9pbnRcclxuKiBAcGFyYW0ge3N0cmluZ30gbm9kZUZhdGhlcjJcclxuKiBAcmV0dXJuIHsqfSAge3N0cmluZ1tdW119XHJcbiogQG1lbWJlcm9mIFNhYnJlQ29udHJvbGxlclxyXG4qL1xyXG4gICAgcHJpdmF0ZSBHZXRGaW5hbFZhbHVlKG5vZGVGYXRoZXI6IEVsZW1lbnQsIHJlZkF0dHI6IHN0cmluZywgcmVmUG9pbnQ6IHN0cmluZywgbm9kZUZhdGhlcjI6IHN0cmluZyk6IHN0cmluZ1tdW10ge1xyXG4gICAgICAgIGxldCBhcnJheUF0dHJzOiBzdHJpbmdbXVtdID0gbmV3IEFycmF5KCk7XHJcbiAgICAgICAgYXJyYXlBdHRycy5wdXNoKFtyZWZBdHRyLCByZWZQb2ludF0pO1xyXG4gICAgICAgIGlmIChub2RlRmF0aGVyMiA9PSBcIipcIikge1xyXG4gICAgICAgICAgICBhcnJheUF0dHJzLnB1c2goW1wic2VndHlwZVwiLCBub2RlRmF0aGVyLmxvY2FsTmFtZV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgY2hpbGROb2RlcyA9IG5vZGVGYXRoZXIuY2hpbGROb2RlcztcclxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNoaWxkTm9kZXMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgbGV0IGVsZW1lbnRfY2hpbGROb2RlcyA9IDxFbGVtZW50PmNoaWxkTm9kZXNbal07XHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50X2NoaWxkTm9kZXMubG9jYWxOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbG9jYWxOYW1lID0gZWxlbWVudF9jaGlsZE5vZGVzLmxvY2FsTmFtZTtcclxuICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IGVsZW1lbnRfY2hpbGROb2Rlcy50ZXh0Q29udGVudDtcclxuICAgICAgICAgICAgICAgIGFycmF5QXR0cnMucHVzaChbbG9jYWxOYW1lLCB2YWx1ZV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIC8vIGNvbnNvbGUubG9nKFwiR2V0RmluYWxWYWx1ZTogXCIpO1xyXG4gICAgICAgIC8vIC8vIGNvbnNvbGUubG9nKGFycmF5QXR0cnMpO1xyXG4gICAgICAgIHJldHVybiBhcnJheUF0dHJzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICpcclxuICAgICogQHByaXZhdGVcclxuICAgICogQHBhcmFtIHtzdHJpbmd9IHBuckxvY2F0b3JWYWx1ZVxyXG4gICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0dGVyblxyXG4gICAgKiBAcGFyYW0ge2Jvb2xlYW59IElzUmVtb3ZlTlNcclxuICAgICogQHJldHVybiB7Kn0gIHtOb2RlfVxyXG4gICAgKiBAbWVtYmVyb2YgU2FicmVDb250cm9sbGVyXHJcbiAgICAqL1xyXG4gICAgcHJpdmF0ZSBHZXRFbGVtZW50KHBuckxvY2F0b3JWYWx1ZTogc3RyaW5nLCBwYXR0ZXJuOiBzdHJpbmcsIElzUmVtb3ZlTlM6IGJvb2xlYW4pOiBOb2RlIHtcclxuICAgICAgICBsZXQgcmV0dXJuRWxlbWVudDogTm9kZSA9IG51bGw7XHJcbiAgICAgICAgaWYgKElzUmVtb3ZlTlMpIHsgcG5yTG9jYXRvclZhbHVlID0gZ2V0U2VydmljZShVdGlsaXRhcmlvKS5SZW1vdmVOYW1lU3BhY2UocG5yTG9jYXRvclZhbHVlKTsgfVxyXG4gICAgICAgIHZhciBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XHJcbiAgICAgICAgdmFyIGRvYzEgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHBuckxvY2F0b3JWYWx1ZSwgXCJ0ZXh0L3htbFwiKTtcclxuICAgICAgICB2YXIgY2hpbGROb2RlcyA9IGRvYzEuY2hpbGROb2RlcztcclxuICAgICAgICBsZXQgZWxlbWVudF9jaGlsZE5vZGVzID0gPEVsZW1lbnQ+Y2hpbGROb2Rlc1swXTsgICAgLy9maXJzdCBsaW5lIG9uIFJTICAgICAgICBcclxuICAgICAgICBpZiAoZWxlbWVudF9jaGlsZE5vZGVzLmhhc0F0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgbGV0IGF0dHJpYnV0ZXMgPSBlbGVtZW50X2NoaWxkTm9kZXMuYXR0cmlidXRlcztcclxuICAgICAgICAgICAgbGV0IGZvdW5kID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBhdHRyaWJ1dGVzLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBhdHRyaWJ1dGVzW2luZGV4XS5uYW1lLnNwbGl0KFwiOlwiKTtcclxuICAgICAgICAgICAgICAgIGlmICh0ZW1wWzBdID09ICd4bWxucycgJiYgIWZvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHhtbG5zID0gYXR0cmlidXRlc1tpbmRleF0udmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwieG1sbnM6IFwiICsgeG1sbnMpO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiByZXNvbHZlck5TKCk6IHN0cmluZyB7IHJldHVybiB4bWxuczsgfVxyXG4gICAgICAgIHZhciByZXN1bHQgPSBnZXRTZXJ2aWNlKFV0aWxpdGFyaW8pLkdldFhQYXRoUmVzdWx0KHBuckxvY2F0b3JWYWx1ZSwgcGF0dGVybiwgcmVzb2x2ZXJOUywgMCk7XHJcbiAgICAgICAgLy8gdmFyIHJlc3VsdCA9IGdldFNlcnZpY2UoVXRpbGl0YXJpbykuR2V0WFBhdGhSZXN1bHQoMywgcG5yTG9jYXRvclZhbHVlLCBwYXR0ZXJuLCByZXNvbHZlck5TLCAwKTtcclxuICAgICAgICByZXR1cm5FbGVtZW50ID0gcmVzdWx0Lml0ZXJhdGVOZXh0KCk7XHJcbiAgICAgICAgcmV0dXJuIHJldHVybkVsZW1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgQWRkUmVtYXJrc0FzeW5jKHJlbWFya3M6IEFycmF5PHJlbWFyaz4pOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8Ym9vbGVhbj4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgcmVxdWVzdFJlbWFyayA9IHRoaXMuYnVpbGRSZXF1ZXN0QWRkUmVtYXJrKHJlbWFya3MpO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcInJlcXVlc3RSZW1hcms6IFwiLCByZXF1ZXN0UmVtYXJrKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHJlcXVlc3RSZW1hcmtcclxuICAgICAgICAgICAgLy8gICAgIC50aGVuKHJlc3AgPT4ge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgIGdldFNlcnZpY2UoU2FicmVTZXJ2aWNlKS5jYWxsU29hcFNlcnZpY2VBc3luYyhyZXNwLCBcIkFkZFJlbWFya0xMU1JRXCIsICdTRVNTSU9OJywgMTAwMDApXHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgIC50aGVuKChyZXNvbHZlcikgPT4ge1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzb2x2ZXIpO1xyXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyAgICAgfSlcclxuICAgICAgICAgICAgLy8gICAgIC5jYXRjaChlcnJvciA9PiB7XHJcbiAgICAgICAgICAgIC8vICAgICAgICAgLy8gY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICAvLyAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBidWlsZFJlcXVlc3RSZXNlcnZhdGlvbihhY3Rpb246IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPHN0cmluZz4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgdXRpbGl0YXJpb19wYXlsb2FkID0gZ2V0U2VydmljZShVdGlsaXRhcmlvKS5HZXRQYXlMb2FkKGFjdGlvbik7XHJcbiAgICAgICAgICAgIHV0aWxpdGFyaW9fcGF5bG9hZC50aGVuKHJzcCA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJzcCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYnVpbGRBZGRSZW1hcmtSUShsaXN0UmVtYXJrczogQXJyYXk8cmVtYXJrPiwgYWN0aW9uOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxzdHJpbmc+KChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgbGV0IHJldHVyblZhbHVlOiBzdHJpbmcgPSBudWxsO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImxpc3RSZW1hcmtzIG9uIGJ1aWxkQWRkUmVtYXJrUlFcIiwgbGlzdFJlbWFya3MpO1xyXG4gICAgICAgICAgICBsZXQgdXRpbGl0YXJpb18gPSBnZXRTZXJ2aWNlKFV0aWxpdGFyaW8pO1xyXG4gICAgICAgICAgICB1dGlsaXRhcmlvXy5HZXRQYXlMb2FkKGFjdGlvbilcclxuICAgICAgICAgICAgICAgIC50aGVuKHJzcCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRvY3VtZW50ID0gdXRpbGl0YXJpb18uU3RyaW5nVG9YbWwocnNwKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlN0cmluZ1RvWG1sXCIsIGRvY3VtZW50KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcIlJlbWFya0luZm9cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpc3RSZW1hcmtzICE9IG51bGwgJiYgbGlzdFJlbWFya3MubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBybWsgb2YgbGlzdFJlbWFya3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicm1rXCIsIHJtayk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVsZW1lbnRfdmFyID0gZWxlbWVudFswXS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiUmVtYXJrXCIpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRfdmFyLnNldEF0dHJpYnV0ZShcIlR5cGVcIiwgcm1rLlR5cGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJtay5Db2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudF92YXIuc2V0QXR0cmlidXRlKFwiQ29kZVwiLCBybWsuQ29kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocm1rLlNlZ051bSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRfdmFyLnNldEF0dHJpYnV0ZShcIlNlZ21lbnROdW1iZXJcIiwgcm1rLlNlZ051bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGV4dCA9IGVsZW1lbnRfdmFyLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ1RleHQnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LnRleHRDb250ZW50ID0gcm1rLlRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSB1dGlsaXRhcmlvXy5Eb2N1bWVudFRvU3RyaW5nKGRvY3VtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZSA9IHJldHVyblZhbHVlLnJlcGxhY2UoL3htbG5zPVwiXCIvZywgJycpXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXR1cm5WYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcImVycm9yIGJ1aWxkQ3JlYXRlUmVzZXJ2YXRpb25SUTpcIiwgZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYnVpbGRSZW1hcmtVcGRhdGVSUShsaXN0UmVtYXJrczogQXJyYXk8cmVtYXJrPiwgYWN0aW9uOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xyXG5cclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8c3RyaW5nPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCByZXR1cm5WYWx1ZTogc3RyaW5nID0gbnVsbDtcclxuICAgICAgICAgICAgbGV0IHV0aWxpdGFyaW9fID0gZ2V0U2VydmljZShVdGlsaXRhcmlvKTtcclxuICAgICAgICAgICAgdXRpbGl0YXJpb18uR2V0UGF5TG9hZChhY3Rpb24pXHJcbiAgICAgICAgICAgICAgICAudGhlbihyc3AgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkb2N1bWVudCA9IHV0aWxpdGFyaW9fLlN0cmluZ1RvWG1sKHJzcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcIlJlc2VydmF0aW9uVXBkYXRlSXRlbVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobGlzdFJlbWFya3MgIT0gbnVsbCAmJiBsaXN0UmVtYXJrcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHJtayBvZiBsaXN0UmVtYXJrcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVsZW1lbnRfdmFyID0gZWxlbWVudFswXS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiUmVtYXJrVXBkYXRlXCIpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRfdmFyLnNldEF0dHJpYnV0ZShcImlkXCIsIHJtay5JZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50X3Zhci5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiSU5WT0lDRVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRfdmFyLnNldEF0dHJpYnV0ZShcIm9wXCIsIFwiVVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZXh0ID0gZWxlbWVudF92YXIuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnUmVtYXJrVGV4dCcpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQudGV4dENvbnRlbnQgPSBybWsuVGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZSA9IHV0aWxpdGFyaW9fLkRvY3VtZW50VG9TdHJpbmcoZG9jdW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblZhbHVlID0gcmV0dXJuVmFsdWUucmVwbGFjZSgveG1sbnM9XCJcIi9nLCAnJylcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJldHVyblZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiZXJyb3IgYnVpbGRDcmVhdGVSZXNlcnZhdGlvblJROlwiLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBidWlsZFJlcXVlc3RTYWJyZUNvbW1hbmQoZm9ybWF0OiBzdHJpbmcsIGFjdGlvbjogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8c3RyaW5nPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCByZXR1cm5WYWx1ZTogc3RyaW5nID0gbnVsbDtcclxuICAgICAgICAgICAgbGV0IHV0aWxpdGFyaW9fID0gZ2V0U2VydmljZShVdGlsaXRhcmlvKTtcclxuICAgICAgICAgICAgdXRpbGl0YXJpb18uR2V0UGF5TG9hZChhY3Rpb24pXHJcbiAgICAgICAgICAgICAgICAudGhlbihyc3AgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmb3JtYXQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZG9jdW1lbnQgPSB1dGlsaXRhcmlvXy5TdHJpbmdUb1htbChyc3ApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiSG9zdENvbW1hbmRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRbMF0udGV4dENvbnRlbnQgPSBmb3JtYXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmVzb2x2ZXIgZGVzcHVlcyBjb252ZXJ0aXJcIiwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmlubmVySFRNTCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblZhbHVlID0gdXRpbGl0YXJpb18uRG9jdW1lbnRUb1N0cmluZyhkb2N1bWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmV0dXJuVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBidWlsZFJlcXVlc3RTZW5kQ29tbWFuZChmb3JtYXQ6IHN0cmluZyk6IHN0cmluZyB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1ldG9kbyAgICAvL2VzdHJ1Y3R1cmEgZGUgcmVxdWVzdCBkZWwgc2FicmUgY29tbWFuZCAgXHJcbiAgICAgICAgbGV0IHJlcXVlc3Q6IHN0cmluZyA9ICc8U2FicmVDb21tYW5kTExTUlEgeG1sbnM9XCJodHRwOi8vd2Vic2VydmljZXMuc2FicmUuY29tL3NhYnJlWE1MLzIwMDMvMDdcIiB4bWxuczp4cz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hXCIgeG1sbnM6eHNpPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2VcIiBUaW1lU3RhbXA9XCIyMDE0LTAzLTA0VDE0OjAwOjAwXCIgVmVyc2lvbj1cIjEuOC4xXCI+JyArXHJcbiAgICAgICAgICAgICc8UmVxdWVzdCBPdXRwdXQ9XCJTQ1JFRU5cIiBDREFUQT1cImZhbHNlXCI+PEhvc3RDb21tYW5kPicgKyBmb3JtYXQgKyAnPC9Ib3N0Q29tbWFuZD48L1JlcXVlc3Q+JyArXHJcbiAgICAgICAgICAgICc8L1NhYnJlQ29tbWFuZExMU1JRPic7XHJcbiAgICAgICAgcmV0dXJuIHJlcXVlc3Q7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBidWlsZEdldFJlc2VydmF0aW9uUlEocG5yOiBzdHJpbmcsIGFjdGlvbjogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8c3RyaW5nPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCByZXR1cm5WYWx1ZTogc3RyaW5nID0gbnVsbDtcclxuICAgICAgICAgICAgbGV0IHV0aWxpdGFyaW9fID0gZ2V0U2VydmljZShVdGlsaXRhcmlvKTtcclxuICAgICAgICAgICAgdXRpbGl0YXJpb18uR2V0UGF5TG9hZChhY3Rpb24pXHJcbiAgICAgICAgICAgICAgICAudGhlbihyc3AgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkb2N1bWVudCA9IHV0aWxpdGFyaW9fLlN0cmluZ1RvWG1sKHJzcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcIkxvY2F0b3JcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudFswXS50ZXh0Q29udGVudCA9IHBucjtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZSA9IHV0aWxpdGFyaW9fLkRvY3VtZW50VG9TdHJpbmcoZG9jdW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblZhbHVlID0gcmV0dXJuVmFsdWUucmVwbGFjZSgveG1sbnM9XCJcIi9nLCAnJylcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInJldHVyblZhbHVlXCIscmV0dXJuVmFsdWUpOyAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXR1cm5WYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcImVycm9yIGJ1aWxkQ3JlYXRlUmVzZXJ2YXRpb25SUTpcIiwgZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8vdG8gdmFsaWRhdGUgZXZlcnkgaW5wdXQgYW5kIGVycm9yIGlmIG5lZWRlZFxyXG4gICAgSW5wdXRWYWxpZGF0b3IoaWQ6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiaWQgcXVlIHZhIGEgdmFsb3JhciBzaSBlc3RhIGVtcHR5OiBcIixpZCk7XHJcblxyXG4gICAgICAgIGxldCB2YWx1ZSA9ICg8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkpLnZhbHVlO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwidmFsdWU6IFwiLCB2YWx1ZSk7ICAgICAgICBcclxuICAgICAgICBpZiAoIXZhbHVlKSB7XHJcbiAgICAgICAgICAgICg8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCArIFwiRGl2XCIpKS5jbGFzc0xpc3QuYWRkKFwiaGFzLWVycm9yXCIpO1xyXG4gICAgICAgICAgICAoPEhUTUxJbnB1dEVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQgKyBcIkVycm9yXCIpKS5pbm5lclRleHQgPSBcIkZpZWxkIGNhbm5vdCBiZSBlbXB0eSBvciBibGFua1wiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgKDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkICsgXCJEaXZcIikpLmNsYXNzTGlzdC5yZW1vdmUoXCJoYXMtZXJyb3JcIik7XHJcbiAgICAgICAgICAgICg8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCArIFwiRXJyb3JcIikpLmlubmVyVGV4dCA9IFwiXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsIlxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiBBdXRvLWdlbmVyYXRlZCBmaWxlLiAgICAgICAgICAgICAgKi9cbi8qIERvIG5vdCBtb2RpZnkgaXQuICAgICAgICAgICAgICAgICAqL1xuLyogWW91IG1heSByZW1vdmUgaXQuICAgICAgICAgICAgICAgICovXG4vKiBZb3UgbWF5IGNvbW1pdCBpdC4gICAgICAgICAgICAgICAgKi9cbi8qIFlvdSBtYXkgcHVzaCBpdC4gICAgICAgICAgICAgICAgICAqL1xuLyogUmVtb3ZlIGl0IGlmIG1vZHVsZSBuYW1lIGNoYW5nZWQuICovXG4vKiBlc2xpbnQ6ZGlzYWJsZSAgICAgICAgICAgICAgICAgICAgKi9cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5pbXBvcnQge01haW59IGZyb20gJy4vTWFpbic7XG5pbXBvcnQge0lNb2R1bGVNYW5pZmVzdH0gZnJvbSAnc2FicmUtbmd2LWNvcmUvbW9kdWxlcy9JTW9kdWxlTWFuaWZlc3QnO1xuaW1wb3J0IHtjb250ZXh0fSBmcm9tICcuL0NvbnRleHQnO1xuXG4vKipcbiAqICBBdXRvZ2VuZXJhdGVkIGNsYXNzIHJlcHJlc2VudGluZyBtb2R1bGUgaW4gcnVudGltZS5cbiAqKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vZHVsZV9jb21faW50ZXJub3ZhX2d0Y3BheW1lbnRfd2ViX21vZHVsZSBleHRlbmRzIE1haW4ge1xuICAgIGNvbnN0cnVjdG9yKG1hbmlmZXN0OiBJTW9kdWxlTWFuaWZlc3QpIHtcbiAgICAgICAgc3VwZXIobWFuaWZlc3QpO1xuICAgICAgICBjb250ZXh0LnNldE1vZHVsZSh0aGlzKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBNb2R1bGUgfSBmcm9tICdzYWJyZS1uZ3YtY29yZS9tb2R1bGVzL01vZHVsZSc7XG5pbXBvcnQgeyBSZWRBcHBTaWRlUGFuZWxDb25maWcgfSBmcm9tICdzYWJyZS1uZ3YteHAvY29uZmlncy9SZWRBcHBTaWRlUGFuZWxDb25maWcnO1xuaW1wb3J0IHsgRXh0ZW5zaW9uUG9pbnRTZXJ2aWNlIH0gZnJvbSAnc2FicmUtbmd2LXhwL3NlcnZpY2VzL0V4dGVuc2lvblBvaW50U2VydmljZSc7XG5pbXBvcnQgeyBnZXRTZXJ2aWNlLCByZWdpc3RlclNlcnZpY2UgfSBmcm9tIFwiLi9Db250ZXh0XCI7XG5pbXBvcnQgeyBSZWRBcHBTaWRlUGFuZWxCdXR0b24gfSBmcm9tICdzYWJyZS1uZ3YtcmVkQXBwU2lkZVBhbmVsL21vZGVscy9SZWRBcHBTaWRlUGFuZWxCdXR0b24nO1xuaW1wb3J0IHsgQ29tbWFuZE1lc3NhZ2VSZXNlcnZhdGlvblJzIH0gZnJvbSAnc2FicmUtbmd2LXBvcy1jZG0vcmVzZXJ2YXRpb24nO1xuaW1wb3J0IHsgSVJlc2VydmF0aW9uU2VydmljZSB9IGZyb20gJ3NhYnJlLW5ndi1yZXNlcnZhdGlvbi9zZXJ2aWNlcy9JUmVzZXJ2YXRpb25TZXJ2aWNlJztcbmltcG9ydCB7IExheWVyU2VydmljZSB9IGZyb20gXCJzYWJyZS1uZ3YtY29yZS9zZXJ2aWNlcy9MYXllclNlcnZpY2VcIjtcbmltcG9ydCB7IFJlc3RNb2RlbCB9IGZyb20gJy4vbW9kZWwvUmVzdE1vZGVsJztcbmltcG9ydCB7IEd0Y19QYXltZW50IH0gZnJvbSAnLi92aWV3cy9HdGNfUGF5bWVudCc7XG5pbXBvcnQgeyBTYWJyZUNvbnRyb2xsZXIgfSBmcm9tICcuL2NvbnRyb2xsZXJzL1NhYnJlQ29udHJvbGxlcic7XG5pbXBvcnQgeyBVdGlsaXRhcmlvIH0gZnJvbSAnLi9jb21tb24vVXRpbGl0YXJpbyc7XG5pbXBvcnQgeyBFeHRlcm5hbFNlcnZpY2UgfSBmcm9tICcuL3NlcnZpY2VzL0V4dGVybmFsU2VydmljZSc7XG5pbXBvcnQgeyBTYWJyZVNlcnZpY2UgfSBmcm9tICcuL3NlcnZpY2VzL1NhYnJlU2VydmljZSc7XG5cblxuZXhwb3J0IGNsYXNzIE1haW4gZXh0ZW5kcyBNb2R1bGUge1xuICAgIGluaXQoKTogdm9pZCB7XG4gICAgICAgIHN1cGVyLmluaXQoKTsgICAgXG4gICAgICAgIHJlZ2lzdGVyU2VydmljZShTYWJyZUNvbnRyb2xsZXIpO1xuICAgICAgICByZWdpc3RlclNlcnZpY2UoVXRpbGl0YXJpbyk7XG4gICAgICAgIHJlZ2lzdGVyU2VydmljZShFeHRlcm5hbFNlcnZpY2UpO1xuICAgICAgICByZWdpc3RlclNlcnZpY2UoU2FicmVTZXJ2aWNlKTtcbiAgICAgICAgY29uc3QgeHAgPSBnZXRTZXJ2aWNlKEV4dGVuc2lvblBvaW50U2VydmljZSk7XG5cbiAgICAgICAgY29uc3Qgc2lkZXBhbmVsQ29uZmlnID0gbmV3IFJlZEFwcFNpZGVQYW5lbENvbmZpZyhbXG4gICAgICAgICAgICBuZXcgUmVkQXBwU2lkZVBhbmVsQnV0dG9uKCdHVEMgVUsgUGF5bWVudCBQcm9jZXNzJywgJ2J0biBidG4tc2Vjb25kYXJ5IHNpZGUtcGFuZWwtYnV0dG9uIHJlZGFwcC13ZWItcmVzdCByZWRhcHAtd2ViLXJlc3QtaW50ZXJuYWwnLCAoKSA9PiB0aGlzLm9wZW5Nb2RhbFdpdGhSZXN0KCkpLFxuICAgICAgICBdKTtcblxuICAgICAgICB4cC5hZGRDb25maWcoJ3JlZEFwcFNpZGVQYW5lbCcsIHNpZGVwYW5lbENvbmZpZyk7XG4gICAgfVxuICAgIFxuICAgIHByaXZhdGUgYXN5bmMgb3Blbk1vZGFsV2l0aFJlc3QoKSB7XG4gICAgICAgIGNvbnN0IHJlc2VydmF0aW9uOiBDb21tYW5kTWVzc2FnZVJlc2VydmF0aW9uUnMgPSBhd2FpdCBnZXRTZXJ2aWNlKElSZXNlcnZhdGlvblNlcnZpY2UpLmdldFJlc2VydmF0aW9uKCk7XG5cbiAgICAgICAgY29uc3QgcmVzdE1vZGFsT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHRpdGxlOiAnR1RDIFVLIFBheW1lbnQgUHJvY2VzcycsXG4gICAgICAgICAgICBhY3Rpb25zOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdhcHAuY29tbW9uLnZpZXdzLkJ1dHRvbicsXG4gICAgICAgICAgICAgICAgICAgIGNhcHRpb246ICdDYW5jZWwnLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25OYW1lOiAnY2FuY2VsJyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3NlY29uZGFyeSdcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnYXBwLmNvbW1vbi52aWV3cy5CdXR0b24nLFxuICAgICAgICAgICAgICAgICAgICBjYXB0aW9uOiBcIkNvbnRpbnVlXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbk5hbWU6ICduZXh0JyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9O1xuXG4gICAgICAgIGdldFNlcnZpY2UoTGF5ZXJTZXJ2aWNlKS5zaG93SW5Nb2RhbChcbiAgICAgICAgICAgIG5ldyBHdGNfUGF5bWVudCh7IG1vZGVsOiBuZXcgUmVzdE1vZGVsKCkgfSwgcmVzZXJ2YXRpb24pLFxuICAgICAgICAgICAgcmVzdE1vZGFsT3B0aW9ucyxcbiAgICAgICAgICAgIHsgZGlzcGxheTogJ2FyZWFWaWV3JyB9KTtcbiAgICB9XG5cbn1cbiIsIi8qIE5vIGNvbnRlbnQsIHNvcnJ5ISAqLyIsImV4cG9ydCBjbGFzcyBjY0RhdGEge1xyXG4gICAgY2FyZE51bWJlcjpzdHJpbmc7XHJcbiAgICBjYXJkTWFza2VkOnN0cmluZztcclxuICAgIGxhc3Q0OnN0cmluZztcclxuICAgIGNvZGU6c3RyaW5nO1xyXG4gICAgeWVhcjogc3RyaW5nO1xyXG4gICAgbW9udGg6IHN0cmluZztcclxufVxyXG4iLCJleHBvcnQgY2xhc3MgcHFGYXJlIHtcclxuICAgIGl0ZW06c3RyaW5nO1xyXG4gICAgY3VycjpzdHJpbmc7XHJcbiAgICB0b3RhbDpudW1iZXI7XHJcbiAgICBzdWJ0b3RhbDpudW1iZXI7XHJcbiAgICB0YXhlczpudW1iZXI7XHJcbn0iLCJleHBvcnQgY2xhc3MgcmVtYXJrIHtcclxuICAgIFR5cGU6c3RyaW5nO1xyXG4gICAgVGV4dDpzdHJpbmc7XHJcbiAgICBDb2RlOnN0cmluZztcclxuICAgIElkOnN0cmluZztcclxuICAgIFNlZ051bTpzdHJpbmc7XHJcbn0iLCJpbXBvcnQge0Fic3RyYWN0TW9kZWx9IGZyb20gXCJzYWJyZS1uZ3YtYXBwL2FwcC9BYnN0cmFjdE1vZGVsXCI7XG5pbXBvcnQge0F1dGhUb2tlblR5cGV9IGZyb20gJ3NhYnJlLW5ndi1hcHAvYXBwL3NlcnZpY2VzL2ltcGwvQXV0aFRva2VuVHlwZSc7XG5pbXBvcnQge2dldFNlcnZpY2V9IGZyb20gXCIuLi9Db250ZXh0XCI7XG5pbXBvcnQge0h0dHBNZXRob2R9IGZyb20gJ3NhYnJlLW5ndi1hcHAvYXBwL3NlcnZpY2VzL2ltcGwvSHR0cE1ldGhvZCc7XG5pbXBvcnQge1Jlc3RBcGlTZXJ2aWNlfSBmcm9tIFwic2FicmUtbmd2LWNvbW11bmljYXRpb24vc2VydmljZXMvUmVzdEFwaVNlcnZpY2VcIjtcbmltcG9ydCB7UmVzdFJlc3BvbnNlfSBmcm9tIFwic2FicmUtbmd2LWNvbW11bmljYXRpb24vaW50ZXJmYWNlcy9SZXN0UmVzcG9uc2VcIjtcblxuZXhwb3J0IGNsYXNzIFJlc3RNb2RlbCBleHRlbmRzIEFic3RyYWN0TW9kZWwge1xuXG4gICAgc2VuZFJlc3RSZXF1ZXN0KHVybDogc3RyaW5nLCBodHRwTWV0aG9kOiBIdHRwTWV0aG9kLCBhdXRoVG9rZW5UeXBlOiBBdXRoVG9rZW5UeXBlLCBwYXlsb2FkOiBzdHJpbmcsIGhlYWRlcnM6IHN0cmluZyk6IFByb21pc2U8UmVzdFJlc3BvbnNlPiB7XG4gICAgICAgIHJldHVybiBnZXRTZXJ2aWNlKFJlc3RBcGlTZXJ2aWNlKS5zZW5kKFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGh0dHBNZXRob2Q6IGh0dHBNZXRob2QsXG4gICAgICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICAgICAgYXV0aFRva2VuVHlwZTogYXV0aFRva2VuVHlwZSxcbiAgICAgICAgICAgICAgICBwYXlsb2FkOiBwYXlsb2FkLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnNcbiAgICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgIH1cbn1cbiIsImltcG9ydCB7IElFeHRlcm5hbFNlcnZpY2UgfSBmcm9tIFwiLi9JRXh0ZXJuYWxTZXJ2aWNlXCI7XHJcblxyXG5pbXBvcnQgeyBBYnN0cmFjdFNlcnZpY2UgfSBmcm9tIFwic2FicmUtbmd2LWFwcC9hcHAvc2VydmljZXMvaW1wbC9BYnN0cmFjdFNlcnZpY2VcIjtcclxuZXhwb3J0IGNsYXNzIEV4dGVybmFsU2VydmljZSBleHRlbmRzIEFic3RyYWN0U2VydmljZSBpbXBsZW1lbnRzIElFeHRlcm5hbFNlcnZpY2Uge1xyXG4gICAgc3RhdGljIFNFUlZJQ0VfTkFNRSA6IHN0cmluZyA9IFwiY29tLWludGVybm92YS1ndGNwYXltZW50LXdlYi1tb2R1bGUtRXh0ZXJuYWxTZXJ2aWNlXCI7XHJcbiAgICBzZW5kUmVxdWVzdChtZXRob2QsIHVybCk6IFByb21pc2U8c3RyaW5nPiAge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxzdHJpbmc+KGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICAgIHhoci5vcGVuKG1ldGhvZCwgdXJsKTtcclxuICAgICAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXR1cyA+PSAyMDAgJiYgdGhpcy5zdGF0dXMgPCAzMDApIHtcclxuICAgICAgICAgICAgICByZXNvbHZlKHhoci5yZXNwb25zZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgcmVqZWN0KHtcclxuICAgICAgICAgICAgICAgIHN0YXR1czogdGhpcy5zdGF0dXMsXHJcbiAgICAgICAgICAgICAgICBzdGF0dXNUZXh0OiB4aHIuc3RhdHVzVGV4dFxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgeGhyLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJlamVjdCh7XHJcbiAgICAgICAgICAgICAgc3RhdHVzOiB0aGlzLnN0YXR1cyxcclxuICAgICAgICAgICAgICBzdGF0dXNUZXh0OiB4aHIuc3RhdHVzVGV4dFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICB4aHIuc2VuZCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbn0iLCJleHBvcnQgaW50ZXJmYWNlIElFeHRlcm5hbFNlcnZpY2Uge1xyXG4gICAgc2VuZFJlcXVlc3QobWV0aG9kLCB1cmwpOiBQcm9taXNlPHN0cmluZz47XHJcbn0iLCJpbXBvcnQgeyBBdXRoVG9rZW5UeXBlIH0gZnJvbSBcInNhYnJlLW5ndi1hcHAvYXBwL3NlcnZpY2VzL2ltcGwvQXV0aFRva2VuVHlwZVwiO1xyXG5pbXBvcnQgeyBSZXN0UmVzcG9uc2UgfSBmcm9tIFwic2FicmUtbmd2LWNvbW11bmljYXRpb24vaW50ZXJmYWNlcy9SZXN0UmVzcG9uc2VcIjtcclxuaW1wb3J0IHsgSHR0cE1ldGhvZCB9IGZyb20gXCJzYWJyZS1uZ3YtYXBwL2FwcC9zZXJ2aWNlcy9pbXBsL0h0dHBNZXRob2RcIjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSVNhYnJlU2VydmljZSB7XHJcbiAgICBjYWxsU29hcFNlcnZpY2VBc3luYyhyZXF1ZXN0OnN0cmluZywgYWN0aW9uQ29kZTpzdHJpbmcsIGF1dGhUb2tlblR5cGU6IEF1dGhUb2tlblR5cGUsIHRpbWVvdXQ6bnVtYmVyKSA6IFByb21pc2U8c3RyaW5nPjtcclxuXHJcbiAgICBjYWxsUmVzdFNlcnZpY2VBc3luYyh1cmw6c3RyaW5nLCBodHRwTWV0aG9kOkh0dHBNZXRob2QsIGF1dGhUb2tlblR5cGU6QXV0aFRva2VuVHlwZSwgcGF5bG9hZDpzdHJpbmcsIGhlYWRlcnM6c3RyaW5nICk6IFByb21pc2U8UmVzdFJlc3BvbnNlPjtcclxufSIsImltcG9ydCB7IElTYWJyZVNlcnZpY2UgfSBmcm9tIFwiLi9JU2FicmVTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IEFic3RyYWN0U2VydmljZSB9IGZyb20gXCJzYWJyZS1uZ3YtYXBwL2FwcC9zZXJ2aWNlcy9pbXBsL0Fic3RyYWN0U2VydmljZVwiO1xyXG5pbXBvcnQgeyBBdXRoVG9rZW5UeXBlIH0gZnJvbSBcInNhYnJlLW5ndi1hcHAvYXBwL3NlcnZpY2VzL2ltcGwvQXV0aFRva2VuVHlwZVwiO1xyXG5pbXBvcnQgeyBJU29hcEFwaVNlcnZpY2UgfSBmcm9tIFwic2FicmUtbmd2LWNvbW11bmljYXRpb24vaW50ZXJmYWNlcy9JU29hcEFwaVNlcnZpY2VcIjtcclxuaW1wb3J0IHsgZ2V0U2VydmljZSB9IGZyb20gXCIuLi9Db250ZXh0XCI7XHJcbmltcG9ydMKge8KgU3J3U3luY0FwacKgfcKgZnJvbcKgXCJzYWJyZS1uZ3YtYXBwL2FwcC9zZXJ2aWNlcy9pbXBsL1Nyd1N5bmNBcGlcIjtcclxuaW1wb3J0wqB7wqBTcndBc3luY0FwacKgfcKgZnJvbcKgXCJzYWJyZS1uZ3YtYXBwL2FwcC9zZXJ2aWNlcy9pbXBsL1Nyd0FzeW5jQXBpXCI7XHJcbmltcG9ydCB7IEh0dHBNZXRob2QgfSBmcm9tIFwic2FicmUtbmd2LWFwcC9hcHAvc2VydmljZXMvaW1wbC9IdHRwTWV0aG9kXCI7XHJcbmltcG9ydCB7IFJlc3RSZXNwb25zZSB9IGZyb20gXCJzYWJyZS1uZ3YtY29tbXVuaWNhdGlvbi9pbnRlcmZhY2VzL1Jlc3RSZXNwb25zZVwiO1xyXG5pbXBvcnQgeyBSZXN0QXBpU2VydmljZSB9IGZyb20gXCJzYWJyZS1uZ3YtY29tbXVuaWNhdGlvbi9zZXJ2aWNlcy9SZXN0QXBpU2VydmljZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNhYnJlU2VydmljZSBleHRlbmRzIEFic3RyYWN0U2VydmljZSBpbXBsZW1lbnRzIElTYWJyZVNlcnZpY2Uge1xyXG4gICAgc3RhdGljIFNFUlZJQ0VfTkFNRTogc3RyaW5nID0gXCJjb20taW50ZXJub3ZhLWd0Y3BheW1lbnQtd2ViLW1vZHVsZS1TYWJyZVNlcnZpY2VcIjtcclxuXHJcbiAgICBjYWxsU29hcFNlcnZpY2VBc3luYyhwYXlsb2FkOiBzdHJpbmcsIGFjdGlvbjogc3RyaW5nLCBhdXRoVG9rZW5UeXBlOiBBdXRoVG9rZW5UeXBlLCB0aW1lb3V0OiBudW1iZXIpOiBQcm9taXNlPHN0cmluZz4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxzdHJpbmc+KChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBuby11bnNhZmUtYW55XHJcbiAgICAgICAgICAgIGxldCBzb2FwU3ZjOiBJU29hcEFwaVNlcnZpY2UgPSBnZXRTZXJ2aWNlKElTb2FwQXBpU2VydmljZSk7XHJcbiAgICAgICAgICAgIGxldCBycV8gPSB7IGFjdGlvbiwgcGF5bG9hZCwgYXV0aFRva2VuVHlwZSwgdGltZW91dCB9O1xyXG5cclxuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBuby11bnNhZmUtYW55XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicnFfOlwiLHJxXyk7XHJcbiAgICAgICAgICAgIHNvYXBTdmMuY2FsbFN3cyhycV8pICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAudGhlbihhc3luYyAocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImFzeW5jOiByZXNwb25zZVwiLCByZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBuby11bnNhZmUtYW55XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXNwb25zZS52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImNhbGxTb2FwU2VydmljZUFzeW5jIGVycm9yOiBcIixlcnJvcik7ICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY2FsbFNvYXBTZXJ2aWNlU3luYyhzdmNSUTogc3RyaW5nLCBzdmNBY3Rpb25Db2RlOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIGxldCBzb2FwU3ZjID0gZ2V0U2VydmljZShTcndTeW5jQXBpKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcInNvYXBTdmM6XCIsc29hcFN2Yyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IHJlc3BvbnNlID0gXCJcIjtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXNwb25zZSA9IHNvYXBTdmMuc3dzKHN2Y1JRLCBzdmNBY3Rpb25Db2RlKTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJzb2FwU3ZjLXJlc3Bvc2U6IFwiLCByZXNwb25zZSk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGV4KSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGV4KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY2FsbFJlc3RTZXJ2aWNlQXN5bmModXJsOiBzdHJpbmcsIGh0dHBNZXRob2Q6IEh0dHBNZXRob2QsIGF1dGhUb2tlblR5cGU6IEF1dGhUb2tlblR5cGUsIHBheWxvYWQ6IHN0cmluZywgaGVhZGVyczogc3RyaW5nKTogUHJvbWlzZTxSZXN0UmVzcG9uc2U+IHtcclxuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG5vLXVuc2FmZS1hbnlcclxuICAgICAgICByZXR1cm4gZ2V0U2VydmljZShSZXN0QXBpU2VydmljZSkuc2VuZChcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaHR0cE1ldGhvZDogaHR0cE1ldGhvZCxcclxuICAgICAgICAgICAgICAgIHVybDogdXJsLFxyXG4gICAgICAgICAgICAgICAgYXV0aFRva2VuVHlwZTogYXV0aFRva2VuVHlwZSxcclxuICAgICAgICAgICAgICAgIHBheWxvYWQ6IHBheWxvYWQsXHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICB9XHJcblxyXG5cclxuXHJcblxyXG5cclxufSIsImltcG9ydCB7IEFic3RyYWN0VmlldyB9IGZyb20gXCJzYWJyZS1uZ3YtYXBwL2FwcC9BYnN0cmFjdFZpZXdcIjtcclxuaW1wb3J0IHsgTGF5ZXJTZXJ2aWNlIH0gZnJvbSBcInNhYnJlLW5ndi1jb3JlL3NlcnZpY2VzL0xheWVyU2VydmljZVwiO1xyXG5pbXBvcnQgeyBUZW1wbGF0ZSB9IGZyb20gXCJzYWJyZS1uZ3YtY29yZS9kZWNvcmF0b3JzL2NsYXNzZXMvdmlldy9UZW1wbGF0ZVwiO1xyXG5pbXBvcnQgeyBTYWJyZVNlcnZpY2UgfSBmcm9tIFwiLi4vc2VydmljZXMvU2FicmVTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IHBxRmFyZSB9IGZyb20gXCIuLi9tb2RlbC9wcUZhcmVcIjtcclxuaW1wb3J0IHsgY2NEYXRhIH0gZnJvbSBcIi4uL21vZGVsL2NjRGF0YVwiO1xyXG5pbXBvcnQgeyBJQXJlYVNlcnZpY2UgfSBmcm9tICdzYWJyZS1uZ3YtYXBwL2FwcC9zZXJ2aWNlcy9pbXBsL0lBcmVhU2VydmljZSc7XHJcbmltcG9ydCB7IFV0aWxpdGFyaW8gfSBmcm9tIFwiLi4vY29tbW9uL1V0aWxpdGFyaW9cIjtcclxuaW1wb3J0IHsgQWJzdHJhY3RBY3Rpb25PcHRpb25zIH0gZnJvbSBcInNhYnJlLW5ndi1hcHAvYXBwL2NvbW1vbi92aWV3cy9BYnN0cmFjdEFjdGlvbk9wdGlvbnNcIjtcclxuaW1wb3J0IHsgU2FicmVDb250cm9sbGVyIH0gZnJvbSBcIi4uL2NvbnRyb2xsZXJzL1NhYnJlQ29udHJvbGxlclwiO1xyXG5pbXBvcnQgeyBBYnN0cmFjdFZpZXdPcHRpb25zIH0gZnJvbSAnc2FicmUtbmd2LWFwcC9hcHAvQWJzdHJhY3RWaWV3T3B0aW9ucyc7XHJcbmltcG9ydCB7IENvbW1hbmRNZXNzYWdlUmVzZXJ2YXRpb25ScyB9IGZyb20gJ3NhYnJlLW5ndi1wb3MtY2RtL3Jlc2VydmF0aW9uJztcclxuaW1wb3J0IHsgUmVzdEFwaVNlcnZpY2UgfSBmcm9tIFwic2FicmUtbmd2LWNvbW11bmljYXRpb24vc2VydmljZXMvUmVzdEFwaVNlcnZpY2VcIjtcclxuaW1wb3J0IHsgQXV0aFRva2VuVHlwZSB9IGZyb20gXCJzYWJyZS1uZ3YtYXBwL2FwcC9zZXJ2aWNlcy9pbXBsL0F1dGhUb2tlblR5cGVcIjtcclxuaW1wb3J0IHsgSVNvYXBBcGlTZXJ2aWNlIH0gZnJvbSBcInNhYnJlLW5ndi1jb21tdW5pY2F0aW9uL2ludGVyZmFjZXMvSVNvYXBBcGlTZXJ2aWNlXCI7XHJcbmltcG9ydCB7IEh0dHBNZXRob2QgfSBmcm9tIFwic2FicmUtbmd2LWFwcC9hcHAvc2VydmljZXMvaW1wbC9IdHRwTWV0aG9kXCI7XHJcbmltcG9ydCB7IFJlc3RNb2RlbCB9IGZyb20gXCIuLi9tb2RlbC9SZXN0TW9kZWxcIjtcclxuaW1wb3J0IHsgZ2V0U2VydmljZSB9IGZyb20gXCIuLi9Db250ZXh0XCI7XHJcbmltcG9ydCAqIGFzIFhNTDJKUyBmcm9tIFwieG1sMmpzXCI7XHJcbmltcG9ydCB7IHJlbWFyayB9IGZyb20gXCIuLi9tb2RlbC9yZW1hcmtcIjtcclxuXHJcbkBUZW1wbGF0ZSgnY29tLWludGVybm92YS1ndGNwYXltZW50LXdlYi1tb2R1bGU6Q2hlY2tUb3RhbCcpXHJcbmV4cG9ydCBjbGFzcyBDaGVja1RvdGFsIGV4dGVuZHMgQWJzdHJhY3RWaWV3PFJlc3RNb2RlbD4ge1xyXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucz86IEFic3RyYWN0Vmlld09wdGlvbnMsIHBhY2s/OiB7fSkge1xyXG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xyXG4gICAgICAgIHRoaXMucHJvY2Vzc0RhdGEocGFjayk7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwicm1rc1wiLCB0aGlzLnJta3MpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiY3JlYXRlUm1rc1wiLCB0aGlzLmNyZWF0ZVJta3MpO1xyXG5cclxuICAgICAgICB0aGlzLmdldE1vZGVsKCkuc2V0KCd0b3RhbCcsIHBhY2tbJ3RvdGFsJ10pO1xyXG4gICAgICAgIHRoaXMucmVuZGVyKCk7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgcm1rczogcmVtYXJrW10gPSBbXTtcclxuICAgIHB1YmxpYyBjcmVhdGVSbWtzOiByZW1hcmtbXSA9IFtdO1xyXG5cclxuICAgIGluaXRpYWxpemUob3B0aW9uczogQWJzdHJhY3RBY3Rpb25PcHRpb25zKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIuaW5pdGlhbGl6ZShvcHRpb25zKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm9jZXNzRGF0YShwYWNrPzoge30pOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnJta3MgPSBwYWNrWydVcGRhdGVSbWsnXTtcclxuICAgICAgICBsZXQgb3B0ID0gcGFja1snb3B0aW9uJ107XHJcbiAgICAgICAgbGV0IHJta0NtID0gdGhpcy5ybWtzLmZpbHRlcih4ID0+IHguQ29kZSA9PSBcIkNNXCIpWzBdLlRleHQgPSBcIkNNLVwiICsgcGFja1snY2NDb2RlJ10gKyBwYWNrWydjYXJkNCddICsgXCIvXCIgKyBwYWNrWydleHBNb250aCddICsgcGFja1snZXhwWWVhciddICsgXCIvKlwiO1xyXG4gICAgICAgIGxldCBybWtQYXkgPSB0aGlzLnJta3MuZmlsdGVyKHggPT4geC5Db2RlID09IFwiUEFZXCIpWzBdLlRleHQgPSBcIlBBWU1FTlQvMTIzNDU2L1wiICsgcGFja1sncmVmSWQnXSArIFwiL1wiICsgcGFja1sndG90YWwnXTtcclxuICAgICAgICAvLyA1SC1QQVlNRU5UL0EtMTIzNDU2L09TVUlDSTIzMDIyNy8xNjcyLjgwL1ZJMTExMVxyXG4gICAgICAgIC8vIDVILU0xMTAwLjAwL1MxNjAuMDAvVDM2Mi44MC9BNTAuMDAvVFQxNjcyLjgwXHJcbiAgICAgICAgdGhpcy5nZW5lcmF0ZVJtayhcIlBBWU1FTlQvXCIrIG9wdCArIFwiMTIzNDU2L1wiICsgcGFja1sncmVmSWQnXSArIFwiL1wiICsgcGFja1sndG90YWwnXSArIFwiL1wiICsgcGFja1snY2NDb2RlJ10gKyBwYWNrWydjYXJkNCddKTtcclxuICAgICAgICBsZXQgdGV4dCA9IFwiXCI7XHJcbiAgICAgICAgaWYgKHBhY2tbJ21hcmtVcEZlZSddKSB7XHJcbiAgICAgICAgICAgIHRleHQgPSBcIk1cIiArIHBhY2tbJ21hcmtVcEZlZSddXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwYWNrWydmZWUnXSkge1xyXG4gICAgICAgICAgICB0ZXh0ID0gdGV4dCArIFwiL1NcIiArIHBhY2tbJ2ZlZSddXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwYWNrWydwcUFtdCddKSB7XHJcbiAgICAgICAgICAgIHRleHQgPSB0ZXh0ICsgXCIvVFwiICsgcGFja1sncHFBbXQnXVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocGFja1snYWRkaXRpb25hbCddKSB7XHJcbiAgICAgICAgICAgIHRleHQgPSB0ZXh0ICsgXCIvQVwiICsgcGFja1snYWRkaXRpb25hbCddXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwYWNrWyd0b3RhbCddKSB7XHJcbiAgICAgICAgICAgIHRleHQgPSB0ZXh0ICsgXCIvVFRcIiArIHBhY2tbJ3RvdGFsJ11cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5nZW5lcmF0ZVJtayh0ZXh0KTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBzZWxmTmV4dEFjdGlvbigpIHtcclxuXHJcbiAgICAgICAgY29uc3QgYXJlYVNlcnZpY2U6IElBcmVhU2VydmljZSA9IGdldFNlcnZpY2UoSUFyZWFTZXJ2aWNlKTtcclxuICAgICAgICBsZXQgZ2V0cmVzZXJ2YXRpb25wcm9taXNlID0gZ2V0U2VydmljZShTYWJyZUNvbnRyb2xsZXIpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiZ2V0cmVzZXJ2YXRpb25wcm9taXNlXCIsIGdldHJlc2VydmF0aW9ucHJvbWlzZSk7XHJcblxyXG4gICAgICAgIGdldHJlc2VydmF0aW9ucHJvbWlzZS5SZW1hcmtVcGRhdGUodGhpcy5ybWtzKVxyXG4gICAgICAgICAgICAudGhlbihyc3AgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJSbWtzIHRvIHVwZGF0ZVwiLCB0aGlzLnJta3MpO1xyXG4gICAgICAgICAgICAgICAgZ2V0cmVzZXJ2YXRpb25wcm9taXNlLlNlbmRDb21tYW5kTWVzc2FnZShcIiouXCIsIHRydWUsIHRydWUpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4ocnNwID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJyZW1hcmtzIGJlZW4gZGlzcGxheWVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRyZXNlcnZhdGlvbnByb21pc2UuYnVpbGRSZXF1ZXN0QWRkUmVtYXJrKHRoaXMuY3JlYXRlUm1rcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJzcCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJlYVNlcnZpY2Uuc2hvd0Jhbm5lcignU3VjY2VzcycsIFwiUmVtYXJrcyB3ZXJlIGFkZGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldHJlc2VydmF0aW9ucHJvbWlzZS5TZW5kQ29tbWFuZE1lc3NhZ2UoXCIqUDVIXCIsIHRydWUsIHRydWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJzcCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInJlbWFya3MgYmVlbiBkaXNwbGF5ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICBhcmVhU2VydmljZS5zaG93QmFubmVyKCdTdWNjZXNzJywgXCJSZW1hcmtzIHdlcmUgdXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICBnZXRTZXJ2aWNlKExheWVyU2VydmljZSkuY2xlYXJMYXllcigpO1xyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICAgICAgY29uc3QgYWN0aW9uOiBzdHJpbmcgPSB0aGlzLiQoJy5hY3Rpb24tZmllbGQnKS5maW5kKCcuYWN0aW9uJykudmFsKCk7XHJcbiAgICAgICAgY29uc3QgYXV0aFRva2VuVHlwZTogQXV0aFRva2VuVHlwZSA9IHRoaXMuJCgnLmF1dGhUb2tlblR5cGUtZmllbGQnKS5maW5kKCcuYXV0aFRva2VuVHlwZScpLnZhbCgpO1xyXG4gICAgICAgIGNvbnN0IHRpbWVvdXQ6IG51bWJlciA9IHRoaXMuJCgnLnRpbWVvdXQtZmllbGQnKS5maW5kKCcudGltZW91dCcpLnZhbCgpO1xyXG4gICAgICAgIGNvbnN0IHBheWxvYWQ6IHN0cmluZyA9IHRoaXMuJCgnLnBheWxvYWQtZmllbGQnKS5maW5kKCcucGF5bG9hZCcpLnZhbCgpO1xyXG5cclxuICAgICAgICB0aGlzLiQoJy5yZXNwb25zZScpLnZhbChcIlwiKTtcclxuXHJcbiAgICAgICAgY29uc3Qgc29hcEFwaTogSVNvYXBBcGlTZXJ2aWNlID0gZ2V0U2VydmljZShJU29hcEFwaVNlcnZpY2UpO1xyXG5cclxuICAgICAgICBzb2FwQXBpLmNhbGxTd3Moe1xyXG4gICAgICAgICAgICBhY3Rpb24sXHJcbiAgICAgICAgICAgIHBheWxvYWQsXHJcbiAgICAgICAgICAgIGF1dGhUb2tlblR5cGUsXHJcbiAgICAgICAgICAgIHRpbWVvdXRcclxuICAgICAgICB9KS50aGVuKGFzeW5jIChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZVZhbHVlID0gcmVzcG9uc2UuZXJyb3JDb2RlID8gcmVzcG9uc2UgOiBhd2FpdCB0aGlzLnBhcnNlWG1sMkpzKHJlc3BvbnNlLnZhbHVlKTtcclxuICAgICAgICAgICAgdGhpcy4kKCcucmVzcG9uc2UnKS52YWwoSlNPTi5zdHJpbmdpZnkocmVzcG9uc2VWYWx1ZSwgbnVsbCwgMikpO1xyXG4gICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLiQoJy5yZXNwb25zZScpLnZhbChlcnJvcik7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAvLyBsZXQgZ2V0cmVzZXJ2YXRpb25wcm9taXNlID0gZ2V0U2VydmljZShTYWJyZUNvbnRyb2xsZXIpO1xyXG4gICAgICAgIC8vIGdldHJlc2VydmF0aW9ucHJvbWlzZS5idWlsZFJlcXVlc3RBZGRSZW1hcmsodGhpcy5ybWtzKVxyXG4gICAgICAgIC8vICAgICAudGhlbihyc3AgPT4ge1xyXG4gICAgICAgIC8vICAgICAgICAgY29uc29sZS5sb2coXCJyc3A6XCIscnNwKTtcclxuXHJcbiAgICAgICAgLy8gICAgIH0pXHJcblxyXG5cclxuXHJcbiAgICAgICAgYXJlYVNlcnZpY2Uuc2hvd0Jhbm5lcignU3VjY2VzcycsICdSZW1hcmtzIHdlcmUgYWRkZWQhOiAnICsgdGhpcy5hZGZsZXhSZWYpO1xyXG4gICAgICAgIGdldFNlcnZpY2UoTGF5ZXJTZXJ2aWNlKS5jbGVhckxheWVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgcGFyc2VYbWwySnMocmVzcG9uc2VWYWx1ZTogc3RyaW5nKTogUHJvbWlzZTx1bmtub3duPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgWE1MMkpTLnBhcnNlU3RyaW5nKHJlc3BvbnNlVmFsdWUsIChlcnIsIHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVycikgcmVqZWN0KGVycik7XHJcbiAgICAgICAgICAgICAgICBlbHNlIHJlc29sdmUocmVzdWx0KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGdlbmVyYXRlUm1rKHRleHQ6IHN0cmluZykge1xyXG4gICAgICAgIGxldCBybWsgPSBuZXcgcmVtYXJrO1xyXG4gICAgICAgIHJtay5UeXBlID0gXCJIaXN0b3JpY2FsXCI7XHJcbiAgICAgICAgcm1rLlRleHQgPSB0ZXh0O1xyXG4gICAgICAgIHRoaXMuY3JlYXRlUm1rcy5wdXNoKHJtayk7XHJcbiAgICB9XHJcblxyXG59XHJcbiIsImltcG9ydCB7IEFic3RyYWN0VmlldyB9IGZyb20gXCJzYWJyZS1uZ3YtYXBwL2FwcC9BYnN0cmFjdFZpZXdcIjtcbmltcG9ydCB7IExheWVyU2VydmljZSB9IGZyb20gXCJzYWJyZS1uZ3YtY29yZS9zZXJ2aWNlcy9MYXllclNlcnZpY2VcIjtcbmltcG9ydCB7IFRlbXBsYXRlIH0gZnJvbSBcInNhYnJlLW5ndi1jb3JlL2RlY29yYXRvcnMvY2xhc3Nlcy92aWV3L1RlbXBsYXRlXCI7XG5pbXBvcnQgeyBwcUZhcmUgfSBmcm9tIFwiLi4vbW9kZWwvcHFGYXJlXCI7XG5pbXBvcnQgeyBjY0RhdGEgfSBmcm9tIFwiLi4vbW9kZWwvY2NEYXRhXCI7XG5pbXBvcnQgeyBJQXJlYVNlcnZpY2UgfSBmcm9tICdzYWJyZS1uZ3YtYXBwL2FwcC9zZXJ2aWNlcy9pbXBsL0lBcmVhU2VydmljZSc7XG5pbXBvcnQgeyBBYnN0cmFjdEFjdGlvbk9wdGlvbnMgfSBmcm9tIFwic2FicmUtbmd2LWFwcC9hcHAvY29tbW9uL3ZpZXdzL0Fic3RyYWN0QWN0aW9uT3B0aW9uc1wiO1xuaW1wb3J0IHsgQWJzdHJhY3RWaWV3T3B0aW9ucyB9IGZyb20gJ3NhYnJlLW5ndi1hcHAvYXBwL0Fic3RyYWN0Vmlld09wdGlvbnMnO1xuaW1wb3J0IHsgQ29tbWFuZE1lc3NhZ2VSZXNlcnZhdGlvblJzIH0gZnJvbSAnc2FicmUtbmd2LXBvcy1jZG0vcmVzZXJ2YXRpb24nO1xuaW1wb3J0IHsgUmVzdEFwaVNlcnZpY2UgfSBmcm9tIFwic2FicmUtbmd2LWNvbW11bmljYXRpb24vc2VydmljZXMvUmVzdEFwaVNlcnZpY2VcIjtcbmltcG9ydCB7IEF1dGhUb2tlblR5cGUgfSBmcm9tIFwic2FicmUtbmd2LWFwcC9hcHAvc2VydmljZXMvaW1wbC9BdXRoVG9rZW5UeXBlXCI7XG5pbXBvcnQgeyBIdHRwTWV0aG9kIH0gZnJvbSBcInNhYnJlLW5ndi1hcHAvYXBwL3NlcnZpY2VzL2ltcGwvSHR0cE1ldGhvZFwiO1xuaW1wb3J0IHsgUmVzdE1vZGVsIH0gZnJvbSBcIi4uL21vZGVsL1Jlc3RNb2RlbFwiO1xuaW1wb3J0IHsgZ2V0U2VydmljZSB9IGZyb20gXCIuLi9Db250ZXh0XCI7XG5pbXBvcnQgeyBDaGVja1RvdGFsIH0gZnJvbSBcIi4vQ2hlY2tUb3RhbFwiO1xuaW1wb3J0IHsgcmVtYXJrIH0gZnJvbSBcIi4uL21vZGVsL3JlbWFya1wiO1xuaW1wb3J0IHsgU2FicmVDb250cm9sbGVyIH0gZnJvbSBcIi4uL2NvbnRyb2xsZXJzL1NhYnJlQ29udHJvbGxlclwiO1xuXG5AVGVtcGxhdGUoJ2NvbS1pbnRlcm5vdmEtZ3RjcGF5bWVudC13ZWItbW9kdWxlOkd0Y19QYXltZW50JylcbmV4cG9ydCBjbGFzcyBHdGNfUGF5bWVudCBleHRlbmRzIEFic3RyYWN0VmlldzxSZXN0TW9kZWw+IHtcblxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM/OiBBYnN0cmFjdFZpZXdPcHRpb25zLCByZXNlcnZhdGlvbj86IENvbW1hbmRNZXNzYWdlUmVzZXJ2YXRpb25Scykge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcbiAgICAgICAgdGhpcy5nZXRSZXNlcnZhdGlvbihyZXNlcnZhdGlvbik7XG4gICAgfVxuICAgIHB1YmxpYyBzdGF0dXMgPSBbXTtcblxuICAgIHB1YmxpYyB2ZW5kb3JzID0gW3sgY29kZTogXCJBWFwiIH0sIHsgY29kZTogXCJWSVwiIH0sIHsgY29kZTogXCJDQVwiIH1dXG4gICAgcHVibGljIHRvdGFsUGF4OiBudW1iZXIgPSAwO1xuICAgIHB1YmxpYyB1cGRhdGVSbWtzOiByZW1hcmtbXSA9IFtdO1xuICAgIHB1YmxpYyBwcUZhcmVMaXN0OiBwcUZhcmVbXSA9IFtdO1xuICAgIHB1YmxpYyBjcmVkaXRDYXJkTGlzdDogY2NEYXRhW10gPSBbXTtcbiAgICBpbml0aWFsaXplKG9wdGlvbnM6IEFic3RyYWN0QWN0aW9uT3B0aW9ucyk6IHZvaWQge1xuICAgICAgICBzdXBlci5hZGREb21FdmVudHMoe1xuICAgICAgICAgICAgJ2NoYW5nZSAjc2VsZWN0UHEnOiAnbG9hZEFtb3VudCcsXG4gICAgICAgICAgICAnY2hhbmdlICNjcmVkaXRDYXJkcyc6ICdsb2FkRXhwaXJhdGlvbicsXG4gICAgICAgICAgICAnY2hhbmdlICNtYXJrVXBGZWUnOiAndXBkYXRlVG90YWwnLFxuICAgICAgICAgICAgJ2NoYW5nZSAjYW10JzogJ3VwZGF0ZVRvdGFsJyxcbiAgICAgICAgICAgICdjaGFuZ2UgI2FkZGl0aW9uYWwnOiAndXBkYXRlVG90YWwnLFxuICAgICAgICAgICAgJ2NoYW5nZSAjdGt0RmVlJzogJ3VwZGF0ZVRvdGFsJ1xuICAgICAgICB9KTtcbiAgICAgICAgc3VwZXIuaW5pdGlhbGl6ZShvcHRpb25zKTtcbiAgICB9XG5cbiAgICBnZXRSZXNlcnZhdGlvbihmdWxsUE5SPzogQ29tbWFuZE1lc3NhZ2VSZXNlcnZhdGlvblJzKTogdm9pZCB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiY2NOdW1cIiwgdGhpcy5jY051bSk7XG4gICAgICAgIGxldCBnZXRyZXNlcnZhdGlvbnByb21pc2UgPSBnZXRTZXJ2aWNlKFNhYnJlQ29udHJvbGxlcik7XG4gICAgICAgIGlmICghZnVsbFBOUikge1xuICAgICAgICAgICAgY29uc3QgYXJlYVNlcnZpY2U6IElBcmVhU2VydmljZSA9IGdldFNlcnZpY2UoSUFyZWFTZXJ2aWNlKTtcbiAgICAgICAgICAgIGFyZWFTZXJ2aWNlLnNob3dCYW5uZXIoJ0Vycm9yJywgJ1RoZXJlIGlzIG5vIGFjdGl2ZSBQTlIuLi4nKTtcbiAgICAgICAgICAgIGdldFNlcnZpY2UoTGF5ZXJTZXJ2aWNlKS5jbGVhckxheWVyKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgcG5yRGF0YSA9IGZ1bGxQTlIuRGF0YTtcbiAgICAgICAgICAgIGxldCBwbnJSZWNsb2MgPSBmdWxsUE5SPy5EYXRhPy5SZWNvcmRMb2NhdG9yc1swXVsnSWQnXTtcbiAgICAgICAgICAgIGxldCB0b3RhbFBheCA9IHBuckRhdGEuUGFzc2VuZ2Vycy5QYXNzZW5nZXIubGVuZ3RoO1xuICAgICAgICAgICAgdGhpcy50b3RhbFBheCA9IHRvdGFsUGF4O1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJwbnJSZWNsb2NcIixwbnJSZWNsb2MpOyAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIHRvZGF5ID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgIGxldCB5ZWFyID0gdG9kYXkuZ2V0RnVsbFllYXIoKS50b1N0cmluZygpO1xuICAgICAgICAgICAgbGV0IG1vbnRoID0gdG9kYXkuZ2V0TW9udGgoKSArIDE7XG4gICAgICAgICAgICBsZXQgZGF5ID0gdG9kYXkuZ2V0RGF0ZSgpO1xuICAgICAgICAgICAgbGV0IGRheTIgPSAoZGF5IDwgMTApID8gXCIwXCIgKyBkYXkudG9TdHJpbmcoKSA6IGRheS50b1N0cmluZygpO1xuICAgICAgICAgICAgbGV0IG1vbnRoMiA9IChtb250aCA8IDEwKSA/IFwiMFwiICsgbW9udGgudG9TdHJpbmcoKSA6IG1vbnRoLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBsZXQgYWRmbGV4UmVmID0gcG5yUmVjbG9jICsgeWVhclsyXSArIHllYXJbM10gKyBtb250aDIgKyBkYXkyO1xuICAgICAgICAgICAgbGV0IG1rdXAsIHRrdEZlZSwgZmVlID0gXCJcIjtcbiAgICAgICAgICAgIGxldCBta3VwVG90YWwgPSAwO1xuICAgICAgICAgICAgbGV0IGZlZVRvdGFsID0gMDtcbiAgICAgICAgICAgIGxldCBwYXhOYW1lID0gcG5yRGF0YS5QYXNzZW5nZXJzLlBhc3NlbmdlclswXS5HaXZlbk5hbWUgKyBcIiBcIiArIHBuckRhdGEuUGFzc2VuZ2Vycy5QYXNzZW5nZXJbMF0uU3VybmFtZTtcbiAgICAgICAgICAgIGlmIChwbnJEYXRhLlByaWNlUXVvdGVzPy5QcmljZVF1b3RlKSB7XG4gICAgICAgICAgICAgICAgbGV0IGFycmF5RmFyZXMgPSBwbnJEYXRhLlByaWNlUXVvdGVzLlByaWNlUXVvdGU7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJhcnJheUZhcmVzXCIsYXJyYXlGYXJlcyk7ICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChhcnJheUZhcmVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBhcnJheUZhcmVzLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcImVsZW1lbnRcIixlbGVtZW50LlRheGVzLlRvdGFsVGF4WydDdXJyZW5jeSddKTsgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LlRheGVzLlRvdGFsVGF4WydDdXJyZW5jeSddID09IFwiR0JQXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgb25lUFEgPSBuZXcgcHFGYXJlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9uZVBRLmN1cnIgPSBlbGVtZW50LkJhc2VGYXJlLkFtb3VudC5DdXJyZW5jeTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaXRlbSA9IGVsZW1lbnRbJ0lkJ10udG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmVQUS5pdGVtID0gaXRlbVtpdGVtLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZVBRLnRvdGFsID0gZWxlbWVudC5Ub3RhbC5BbW91bnRbJ0Ftb3VudCddO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZVBRLnRheGVzID0gZWxlbWVudC5UYXhlcy5Ub3RhbFRheFsnQW1vdW50J107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcHJpY2VTdHJpbmcgPSBlbGVtZW50LnRvdGFscy5zdWJ0b3RhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvbmVQUS5zdWJ0b3RhbCA9IHBhcnNlRmxvYXQocHJpY2VTdHJpbmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwib25lUFFcIixvbmVQUSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHFGYXJlTGlzdC5wdXNoKG9uZVBRKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocG5yRGF0YS5Gb3JtT2ZQYXltZW50cz8uRm9ybU9mUGF5bWVudCkge1xuICAgICAgICAgICAgICAgIGxldCBhcnJheUZhcmVzID0gcG5yRGF0YS5Gb3JtT2ZQYXltZW50cy5Gb3JtT2ZQYXltZW50O1xuICAgICAgICAgICAgICAgIGlmIChhcnJheUZhcmVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBhcnJheUZhcmVzLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgb25lQ0MgPSBuZXcgY2NEYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgb25lQ0MuY29kZSA9IGVsZW1lbnQuQ3JlZGl0Q2FyZFsnQ3JlZGl0Q2FyZENvZGUnXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uZUNDLmNhcmRNYXNrZWQgPSBvbmVDQy5jb2RlICsgZWxlbWVudC5DcmVkaXRDYXJkWydDcmVkaXRDYXJkTnVtYmVyJ107XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob25lQ0MuY2FyZE1hc2tlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBsYXN0NGRpZ2l0cyA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG9uZUNDLmNhcmRNYXNrZWQubGVuZ3RoIC0gNDsgaSA8IG9uZUNDLmNhcmRNYXNrZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdDRkaWdpdHMgPSBsYXN0NGRpZ2l0cyArIG9uZUNDLmNhcmRNYXNrZWRbaV0udG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lQ0MubGFzdDQgPSBsYXN0NGRpZ2l0cztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uZUNDLnllYXIgPSBlbGVtZW50LkNyZWRpdENhcmRbJ0V4cGlyYXRpb25ZZWFyJ11bMl0gKyBlbGVtZW50LkNyZWRpdENhcmRbJ0V4cGlyYXRpb25ZZWFyJ11bM107XG4gICAgICAgICAgICAgICAgICAgICAgICBvbmVDQy5tb250aCA9IGVsZW1lbnQuQ3JlZGl0Q2FyZFsnRXhwaXJhdGlvbk1vbnRoJ107XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIm9uZUNDIFwiLCBvbmVDQyk7ICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWRpdENhcmRMaXN0LnB1c2gob25lQ0MpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwbnJEYXRhLlJlbWFya3M/LlJlbWFyaykge1xuICAgICAgICAgICAgICAgIGxldCBpbnZvaWNlUm1rcyA9IHBuckRhdGEuUmVtYXJrcy5SZW1hcms7XG4gICAgICAgICAgICAgICAgaWYgKGludm9pY2VSbWtzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBpbnZvaWNlUm1rcy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRbJ1R5cGUnXSA9PSBcIkludm9pY2VcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwYXJ0TWt1cCA9IGVsZW1lbnRbJ1RleHQnXS5zcGxpdChcIk1LVVAvXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0TWt1cFsxXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2xhc2ggPSBwYXJ0TWt1cFsxXS5zcGxpdChcIi9cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1rdXAgPSBzbGFzaFsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWt1cFRvdGFsID0gbWt1cFRvdGFsICsgcGFyc2VGbG9hdChta3VwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBhcnRUa3QgPSBlbGVtZW50WydUZXh0J10uc3BsaXQoXCJUS1RGRUUvXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0VGt0WzFdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRrdEZlZSA9IHBhcnRUa3RbMV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0VGt0ID0gZWxlbWVudFsnVGV4dCddLnNwbGl0KFwiRkVFL1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnRUa3RbMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZlZSA9IHBhcnRUa3RbMV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY21SbWsgPSBlbGVtZW50WydUZXh0J10uc3BsaXQoXCJDTS1cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNtUm1rWzFdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBybWsgPSBuZXcgcmVtYXJrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBybWsuVHlwZSA9IFwiSXRpbmVyYXJ5XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJtay5JZCA9IGVsZW1lbnQuU291cmNlWydJZCddLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJtay5UZXh0ID0gZWxlbWVudFsnVGV4dCddO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBybWsuQ29kZSA9IFwiQ01cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVJta3MucHVzaChybWspO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGF5bWVudCA9IGVsZW1lbnRbJ1RleHQnXS5zcGxpdChcIlBBWU1FTlQvXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXltZW50WzFdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBybWsgPSBuZXcgcmVtYXJrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBybWsuVHlwZSA9IFwiSXRpbmVyYXJ5XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJtay5JZCA9IGVsZW1lbnQuU291cmNlWydJZCddLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJtay5UZXh0ID0gZWxlbWVudFsnVGV4dCddO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBybWsuQ29kZSA9IFwiUEFZXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVSbWtzLnB1c2gocm1rKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwidGhpcy51cGRhdGVSbWtzXCIsdGhpcy51cGRhdGVSbWtzKTsgICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICh0a3RGZWUpIHtcbiAgICAgICAgICAgICAgICBmZWVUb3RhbCA9IHRvdGFsUGF4ICogcGFyc2VGbG9hdCh0a3RGZWUpO1xuICAgICAgICAgICAgfSBpZiAoZmVlKSB7XG4gICAgICAgICAgICAgICAgZmVlVG90YWwgPSBwYXJzZUZsb2F0KGZlZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgdG90YWxBbXQgPSBta3VwVG90YWwgKyBmZWVUb3RhbDtcbiAgICAgICAgICAgIHRoaXMuZ2V0TW9kZWwoKS5zZXQoJ21hcmtVcEZlZScsIG1rdXBUb3RhbC50b0ZpeGVkKDIpKTtcbiAgICAgICAgICAgIHRoaXMuZ2V0TW9kZWwoKS5zZXQoJ3RrdEZlZScsIGZlZVRvdGFsLnRvRml4ZWQoMikpO1xuICAgICAgICAgICAgdGhpcy5nZXRNb2RlbCgpLnNldCgnc2VsZWN0UHEnLCB0aGlzLnBxRmFyZUxpc3QpO1xuICAgICAgICAgICAgdGhpcy5nZXRNb2RlbCgpLnNldCgnY3JlZGl0Q2FyZHMnLCB0aGlzLmNyZWRpdENhcmRMaXN0KTtcbiAgICAgICAgICAgIHRoaXMuZ2V0TW9kZWwoKS5zZXQoJ25hbWUnLCBwYXhOYW1lKTtcbiAgICAgICAgICAgIHRoaXMuZ2V0TW9kZWwoKS5zZXQoJ3JlZklkJywgYWRmbGV4UmVmKTtcbiAgICAgICAgICAgIHRoaXMuZ2V0TW9kZWwoKS5zZXQoJ3RvdGFsJywgdG90YWxBbXQudG9GaXhlZCgyKSArIFwiIEdCUFwiKTtcbiAgICAgICAgICAgIHRoaXMuZ2V0TW9kZWwoKS5zZXQoJ3ZlbmRvcnMnLCB0aGlzLnZlbmRvcnMpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgICAgIC8vIHRoaXMudXBkYXRlVG90YWwoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgbG9hZEFtb3VudChzZWxlY3RvcjogSlF1ZXJ5RXZlbnRPYmplY3QpOiB2b2lkIHtcbiAgICAgICAgbGV0IGl0ZW0gPSB0aGlzLiQoJyNzZWxlY3RQcScpLmNoaWxkcmVuKFwib3B0aW9uOnNlbGVjdGVkXCIpLnZhbCgpO1xuICAgICAgICBpZiAoc2VsZWN0b3IudGFyZ2V0KSB7XG4gICAgICAgICAgICB0aGlzLnBxRmFyZUxpc3QuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudFsnaXRlbSddID09IGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgKDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYW10XCIpKS52YWx1ZSA9IGVsZW1lbnRbJ3RvdGFsJ10udG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUb3RhbCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgJCgnI3NlbGVjdFBxJykudmFsKGl0ZW0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBsb2FkRXhwaXJhdGlvbihzZWxlY3RvcjogSlF1ZXJ5RXZlbnRPYmplY3QpOiB2b2lkIHtcbiAgICAgICAgbGV0IGNhcmQgPSB0aGlzLiQoJyNjcmVkaXRDYXJkcycpLmNoaWxkcmVuKFwib3B0aW9uOnNlbGVjdGVkXCIpLnZhbCgpO1xuICAgICAgICBpZiAoc2VsZWN0b3IudGFyZ2V0KSB7XG4gICAgICAgICAgICB0aGlzLmNyZWRpdENhcmRMaXN0LmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRbJ2NhcmRNYXNrZWQnXSA9PSBjYXJkKSB7XG4gICAgICAgICAgICAgICAgICAgICg8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhcmRJblVzZVwiKSkudmFsdWUgPSBjYXJkO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZXhwID0gZWxlbWVudFsnbW9udGgnXSArIFwiL1wiICsgZWxlbWVudFsneWVhciddO1xuICAgICAgICAgICAgICAgICAgICAoPEhUTUxJbnB1dEVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJleHBpcmF0aW9uXCIpKS52YWx1ZSA9IGV4cDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICQoJyNjcmVkaXRDYXJkcycpLnZhbChjYXJkKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgd3JpdGVDQyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FyZEluVXNlXCIpO1xuICAgICAgICBpZiAoY2FyZCA9PSBcImFkZENDXCIpIHtcbiAgICAgICAgICAgICg8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhcmRJblVzZVwiKSkudmFsdWUgPSBcIlwiO1xuICAgICAgICAgICAgKDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZXhwaXJhdGlvblwiKSkudmFsdWUgPSBcIlwiO1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2ZW5kb3JcIikucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XG4gICAgICAgICAgICB3cml0ZUNDLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgd3JpdGVDQy5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCBcIlwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlVG90YWwoc2VsZWN0b3I/OiBKUXVlcnlFdmVudE9iamVjdCk6IHZvaWQge1xuICAgICAgICBsZXQgbWFya1VwRmVlID0gMDtcbiAgICAgICAgbGV0IGFtdCA9IDA7XG4gICAgICAgIGxldCBhZGRpdGlvbmFsID0gMDtcbiAgICAgICAgbGV0IHRrdEZlZSA9IDA7XG4gICAgICAgIGlmICgoPEhUTUxJbnB1dEVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYXJrVXBGZWVcIikpLnZhbHVlKSB7XG4gICAgICAgICAgICBtYXJrVXBGZWUgPSBwYXJzZUZsb2F0KCg8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hcmtVcEZlZVwiKSkudmFsdWUpO1xuICAgICAgICAgICAgKDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWFya1VwRmVlXCIpKS52YWx1ZSA9IG1hcmtVcEZlZS50b0ZpeGVkKDIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoPEhUTUxJbnB1dEVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhbXRcIikpLnZhbHVlKSB7XG4gICAgICAgICAgICBhbXQgPSBwYXJzZUZsb2F0KCg8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFtdFwiKSkudmFsdWUpO1xuICAgICAgICAgICAgKDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYW10XCIpKS52YWx1ZSA9IGFtdC50b0ZpeGVkKDIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoPEhUTUxJbnB1dEVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZGRpdGlvbmFsXCIpKS52YWx1ZSkge1xuICAgICAgICAgICAgYWRkaXRpb25hbCA9IHBhcnNlRmxvYXQoKDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWRkaXRpb25hbFwiKSkudmFsdWUpO1xuICAgICAgICAgICAgKDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWRkaXRpb25hbFwiKSkudmFsdWUgPSBhZGRpdGlvbmFsLnRvRml4ZWQoMik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCg8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRrdEZlZVwiKSkudmFsdWUpIHtcbiAgICAgICAgICAgIHRrdEZlZSA9IHBhcnNlRmxvYXQoKDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGt0RmVlXCIpKS52YWx1ZSk7XG4gICAgICAgICAgICAoPEhUTUxJbnB1dEVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0a3RGZWVcIikpLnZhbHVlID0gdGt0RmVlLnRvRml4ZWQoMik7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHRvdGFsID0gbWFya1VwRmVlICsgYW10ICsgYWRkaXRpb25hbCArIHRrdEZlZTtcbiAgICAgICAgKDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG90YWxcIikpLnZhbHVlID0gdG90YWwudG9GaXhlZCgyKSArIFwiIEdCUFwiO1xuICAgIH1cblxuICAgIGFzeW5jIHNlbGZOZXh0QWN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5JbnB1dFZhbGlkYXRvcigpKSB7XG4gICAgICAgICAgICB0aGlzLmV4ZWN1dGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZXhlY3V0ZSgpIHtcbiAgICAgICAgbGV0IG1hcmtVcEZlZSA9ICg8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFya1VwRmVlJykpLnZhbHVlO1xuICAgICAgICBsZXQgY2NOYW1lID0gKDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduYW1lJykpLnZhbHVlO1xuICAgICAgICBsZXQgZmVlID0gKDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0a3RGZWUnKSkudmFsdWU7XG4gICAgICAgIGxldCBwcUFtdCA9ICg8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYW10JykpLnZhbHVlO1xuICAgICAgICBsZXQgYWRkaXRpb25hbCA9ICg8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkaXRpb25hbCcpKS52YWx1ZTtcbiAgICAgICAgbGV0IHRvdGFsID0gKDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b3RhbCcpKS52YWx1ZTtcbiAgICAgICAgbGV0IGZ1bGxDYXJkID0gdGhpcy4kKCcjY3JlZGl0Q2FyZHMnKS5jaGlsZHJlbihcIm9wdGlvbjpzZWxlY3RlZFwiKS52YWwoKTtcbiAgICAgICAgbGV0IG9wdGlvbiA9IHRoaXMuJCgnI3Rlc3QnKS5jaGlsZHJlbihcIm9wdGlvbjpzZWxlY3RlZFwiKS52YWwoKTtcbiAgICAgICAgbGV0IGxhc3Q0ID0gXCJcIjtcbiAgICAgICAgbGV0IGNvZGU7XG4gICAgICAgIGlmIChmdWxsQ2FyZCA9PSBcImFkZENDXCIpIHtcbiAgICAgICAgICAgIGNvZGUgPSB0aGlzLiQoJyN2ZW5kb3InKS5jaGlsZHJlbihcIm9wdGlvbjpzZWxlY3RlZFwiKS52YWwoKTtcbiAgICAgICAgICAgIGZ1bGxDYXJkID0gKDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FyZEluVXNlXCIpKS52YWx1ZTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBmdWxsQ2FyZC5sZW5ndGggLSA0OyBpIDwgZnVsbENhcmQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsYXN0NCA9IGxhc3Q0ICsgZnVsbENhcmRbaV0udG9TdHJpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiYWRkQ0Mgc2VsZWN0ZWRcIiwgZnVsbENhcmQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IGNhcmRTZWxlY3RlZCA9IHRoaXMuY3JlZGl0Q2FyZExpc3QuZmlsdGVyKHggPT4geFsnY2FyZE1hc2tlZCddID09IGZ1bGxDYXJkKTtcbiAgICAgICAgICAgIGxhc3Q0ID0gY2FyZFNlbGVjdGVkWzBdWydsYXN0NCddO1xuICAgICAgICAgICAgY29kZSA9IGNhcmRTZWxlY3RlZFswXVsnY29kZSddO1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJjYXJkTWFza2VkIHNlbGVjdGVkXCIsIGNhcmRTZWxlY3RlZCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJlZklkID0gKDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWZJZCcpKS52YWx1ZTtcbiAgICAgICAgbGV0IGV4cCA9ICg8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhwaXJhdGlvbicpKS52YWx1ZTtcbiAgICAgICAgbGV0IGV4cE1vbnRoID0gZXhwLnNwbGl0KFwiL1wiKVswXTtcbiAgICAgICAgbGV0IGV4cFllYXIgPSBleHAuc3BsaXQoXCIvXCIpWzFdO1xuICAgICAgICAvLyBsZXQgeHh4eHh4eHh4eCAgPSAoPEhUTUxJbnB1dEVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3h4eHh4eHh4eHh4eCcpKS52YWx1ZTtcbiAgICAgICAgLy8gbGV0IHh4eHh4eHh4eHggID0gKDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd4eHh4eHh4eHh4eHgnKSkudmFsdWU7XG5cbiAgICAgICAgbGV0IHBhY2s6IHt9ID0ge1xuICAgICAgICAgICAgXCJtYXJrVXBGZWVcIjogbWFya1VwRmVlLFxuICAgICAgICAgICAgXCJmZWVcIjogZmVlLFxuICAgICAgICAgICAgXCJuYW1lXCI6IGNjTmFtZSxcbiAgICAgICAgICAgIFwicHFBbXRcIjogcHFBbXQsXG4gICAgICAgICAgICBcImFkZGl0aW9uYWxcIjogYWRkaXRpb25hbCxcbiAgICAgICAgICAgIFwidG90YWxcIjogdG90YWwsXG4gICAgICAgICAgICBcImZ1bGxDYXJkXCI6IGZ1bGxDYXJkLFxuICAgICAgICAgICAgXCJleHBNb250aFwiOiBleHBNb250aCxcbiAgICAgICAgICAgIFwiZXhwWWVhclwiOiBleHBZZWFyLFxuICAgICAgICAgICAgXCJjYXJkNFwiOiBsYXN0NCxcbiAgICAgICAgICAgIFwib3B0aW9uXCI6IG9wdGlvbixcbiAgICAgICAgICAgIFwiY2NDb2RlXCI6IGNvZGUsXG4gICAgICAgICAgICBcInJlZklkXCI6IHJlZklkLFxuICAgICAgICAgICAgXCJVcGRhdGVSbWtcIjogdGhpcy51cGRhdGVSbWtzXG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2coXCJwYWNrXCIsIHBhY2spO1xuICAgICAgICBjb25zdCByZXN0TW9kYWxPcHRpb25zID0ge1xuICAgICAgICAgICAgdGl0bGU6ICdDb25maXJtYXRpb24nLFxuICAgICAgICAgICAgYWN0aW9uczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnYXBwLmNvbW1vbi52aWV3cy5CdXR0b24nLFxuICAgICAgICAgICAgICAgICAgICBjYXB0aW9uOiAnQ2FuY2VsJyxcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uTmFtZTogJ2NhbmNlbCcsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzZWNvbmRhcnknXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ2FwcC5jb21tb24udmlld3MuQnV0dG9uJyxcbiAgICAgICAgICAgICAgICAgICAgY2FwdGlvbjogJ0JhY2snLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25OYW1lOiAnYmFjaycsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzZWNvbmRhcnknXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ2FwcC5jb21tb24udmlld3MuQnV0dG9uJyxcbiAgICAgICAgICAgICAgICAgICAgY2FwdGlvbjogXCJBZGQgUmVtYXJrc1wiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25OYW1lOiAnbmV4dCcsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfTtcblxuICAgICAgICBnZXRTZXJ2aWNlKExheWVyU2VydmljZSkuc2hvd0luTW9kYWwoXG4gICAgICAgICAgICBuZXcgQ2hlY2tUb3RhbCh7IG1vZGVsOiBuZXcgUmVzdE1vZGVsKCkgfSwgcGFjayksXG4gICAgICAgICAgICByZXN0TW9kYWxPcHRpb25zLFxuICAgICAgICAgICAgeyBkaXNwbGF5OiAnYXJlYVZpZXcnIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgSW5wdXRWYWxpZGF0b3IoKTogYm9vbGVhbiB7XG4gICAgICAgIGxldCBhbGxPayA9IHRydWU7XG4gICAgICAgIGxldCB0b3RhbCA9ICg8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvdGFsXCIpKS52YWx1ZTtcbiAgICAgICAgaWYgKHBhcnNlRmxvYXQodG90YWwuc3BsaXQoXCJHQlBcIilbMF0pID4gMCkge1xuICAgICAgICAgICAgdGhpcy5maWVsZE9rKFwidG90YWxcIik7XG4gICAgICAgICAgICBsZXQgcmVxdWlyZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbcmVxdWlyZWRdJylcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVxdWlyZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgaWQgPSByZXF1aXJlZFtpXS5pZDtcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIklucHV0VmFsaWRhdG9yOlwiICsgaWQpO1xuICAgICAgICAgICAgICAgIGxldCB2YWx1ZVJlYWQgPSAoPEhUTUxTZWxlY3RFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKSkudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKGlkID09IFwiY3JlZGl0Q2FyZHNcIiAmJiB2YWx1ZVJlYWQgPT0gXCJjY05vU2VsZWN0ZWRcIikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9yT25GaWVsZChpZCwgXCJGaWVsZCBjYW5ub3QgYmUgZW1wdHkgb3IgYmxhbmtcIik7XG4gICAgICAgICAgICAgICAgICAgIGFsbE9rID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaWQgPT0gXCJjcmVkaXRDYXJkc1wiICYmIHZhbHVlUmVhZCA9PSBcImFkZENDXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdHVzW1wiY3JlZGl0Q2FyZHNcIl0gPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5maWVsZE9rKFwiY3JlZGl0Q2FyZHNcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCg8SFRNTFNlbGVjdEVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2ZW5kb3JcIikpLnZhbHVlID09IFwibm9WZW5kb3JcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0dXNbJ3ZlbmRvciddID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JPbkZpZWxkKFwidmVuZG9yXCIsIFwiU2VsZWN0IG9uZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbE9rID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmllbGRPayhcInZlbmRvclwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsZXQgdHlwZWRDYXJkID0gKDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FyZEluVXNlXCIpKS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVkQ2FyZC5sZW5ndGggPT0gMTYgJiYgdGhpcy5zdGF0dXNbJ2NhcmRJblVzZSddID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmllbGRPaygnY2FyZEluVXNlJyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZWRDYXJkLmxlbmd0aCA+IDE2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9yT25GaWVsZChcImNhcmRJblVzZVwiLCBcIk1heGltdW0gMTYgbnVtYmVyc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbE9rID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlZENhcmQubGVuZ3RoIDw9IDE1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXR1c1snY2FyZEluVXNlJ10gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvck9uRmllbGQoXCJjYXJkSW5Vc2VcIiwgXCJNaW5pbXVtIDE2IG51bWJlcnNcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxPayA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlkID09IFwibmFtZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBuYW1lID0gKDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmFtZVwiKSkudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGlmICghbmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJlbnRybyFcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JPbkZpZWxkKFwibmFtZVwiLCBcIk5hbWUgaXMgbWFuZGF0b3J5XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxsT2sgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG5hbWUgJiYgdGhpcy5zdGF0dXNbXCJuYW1lXCJdID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmllbGRPayhcImNyZWRpdENhcmRzXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpZCA9PSBcIm5hbWVcIikge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbmFtZSA9ICg8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5hbWVcIikpLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JPbkZpZWxkKFwibmFtZVwiLCBcIk5hbWUgaXMgbWFuZGF0b3J5XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxsT2sgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG5hbWUgJiYgdGhpcy5zdGF0dXNbXCJuYW1lXCJdID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmllbGRPayhcImNyZWRpdENhcmRzXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpZCA9PSBcImV4cGlyYXRpb25cIikge1xuICAgICAgICAgICAgICAgICAgICBsZXQgZXhwaXJhdGlvbiA9ICg8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImV4cGlyYXRpb25cIikpLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWV4cGlyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JPbkZpZWxkKFwiZXhwaXJhdGlvblwiLCBcIkV4cGlyYXRpb24gaXMgbWFuZGF0b3J5XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxsT2sgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgKHRoaXMuc3RhdHVzW1wiZXhwaXJhdGlvblwiXSA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgdGhpcy5maWVsZE9rKFwiZXhwaXJhdGlvblwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIH0gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB5ZWFyNCA9IGRhdGUuZ2V0RnVsbFllYXIoKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRoaXNNb250aCA9IGRhdGUuZ2V0TW9udGgoKSArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgeWVhcjIgPSBwYXJzZUZsb2F0KHllYXI0WzJdICsgeWVhcjRbM10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGV4cCA9ICg8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImV4cGlyYXRpb25cIikpLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGV4cE1vbnRoID0gcGFyc2VGbG9hdChleHAuc3BsaXQoXCIvXCIpWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBleHBZZWFyID0gcGFyc2VGbG9hdChleHAuc3BsaXQoXCIvXCIpWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiZXhwTW9udGhcIiwgZXhwTW9udGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJ0aGlzTW9udGhcIiwgdGhpc01vbnRoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKGV4cE1vbnRoKSB8fCBpc05hTihleHBZZWFyKSB8fCBleHBNb250aCA+IDEyIHx8IGV4cE1vbnRoIDwgMSB8fCBleHBZZWFyIDwgeWVhcjIgfHwgKGV4cFllYXIgPT0geWVhcjIgJiYgZXhwTW9udGggPCB0aGlzTW9udGgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvck9uRmllbGQoXCJleHBpcmF0aW9uXCIsIFwiTU0vWVkgbGlrZTogMDUvMjdcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxPayA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZpZWxkT2soXCJleHBpcmF0aW9uXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5lcnJvck9uRmllbGQoXCJ0b3RhbFwiLCBcIk11c3QgYmUgZ3JlYXRlciB0aGFuIDBcIilcbiAgICAgICAgICAgIGFsbE9rID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiAodGhpcy5zdGF0dXNbXCJhZGRDQ1wiXSA9PSB0cnVlKSB7XG4gICAgICAgIC8vICAgICAoPEhUTUxEaXZFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY3JlZGl0Q2FyZHNEaXZcIikpLmNsYXNzTGlzdC5yZW1vdmUoXCJoYXMtZXJyb3JcIik7IFxuICAgICAgICAvLyAgICAgKDxIVE1MRGl2RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNyZWRpdENhcmRzRXJyb3JcIikpLmlubmVyVGV4dCA9IFwiXCI7XG4gICAgICAgIC8vICAgICB0aGlzLnN0YXR1c1tcImFkZENDXCJdID0gZmFsc2U7XG4gICAgICAgIC8vICAgICBpZCA9IFwiY2FyZEluVXNlXCI7XG4gICAgICAgIC8vICAgICBpZiAoISg8SFRNTFNlbGVjdEVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpKS52YWx1ZSkge1xuICAgICAgICAvLyAgICAgICAgIHRoaXMuZXJyb3JPbkZpZWxkKGlkLCBcIlR5cGUgY3JlZGl0IGNhcmQgbnVtYmVyXCIpO1xuICAgICAgICAvLyAgICAgICAgIGFsbE9rID0gZmFsc2U7XG4gICAgICAgIC8vICAgICAgICAgYnJlYWs7XG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vIH0gZWxzZSB7XG4gICAgICAgIC8vICAgICB0aGlzLmVycm9yT25GaWVsZChpZCwgXCJGaWVsZCBjYW5ub3QgYmUgZW1wdHkgb3IgYmxhbmtcIik7XG4gICAgICAgIC8vICAgICBhbGxPayA9IGZhbHNlO1xuICAgICAgICAvLyAgICAgYnJlYWs7XG4gICAgICAgIC8vIH1cblxuICAgICAgICAvLyBlbHNlIHtcbiAgICAgICAgLy8gICAgIHRoaXMuZmllbGRPayhpZCk7XG4gICAgICAgIC8vIH1cbiAgICAgICAgcmV0dXJuIGFsbE9rO1xuICAgIH1cblxuICAgIHByaXZhdGUgZXJyb3JPbkZpZWxkKGlkOiBzdHJpbmcsIG1lc3NhZ2U6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICAoPEhUTUxEaXZFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkICsgXCJFcnJvclwiKSkuaW5uZXJUZXh0ID0gbWVzc2FnZTtcbiAgICAgICAgKDxIVE1MRGl2RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCArIFwiRGl2XCIpKS5jbGFzc0xpc3QuYWRkKFwiaGFzLWVycm9yXCIpO1xuICAgICAgICAoPEhUTUxJbnB1dEVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpKS5mb2N1cygpO1xuICAgICAgICB0aGlzLnN0YXR1c1tpZF0gPSB0cnVlO1xuICAgIH1cblxuICAgIHByaXZhdGUgZmllbGRPayhpZDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLnN0YXR1c1tpZF0gPT0gdHJ1ZSkge1xuICAgICAgICAgICAgKDxIVE1MRGl2RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCArIFwiRGl2XCIpKS5jbGFzc0xpc3QucmVtb3ZlKFwiaGFzLWVycm9yXCIpO1xuICAgICAgICAgICAgKDxIVE1MRGl2RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCArIFwiRXJyb3JcIikpLmlubmVyVGV4dCA9IFwiXCI7XG4gICAgICAgICAgICB0aGlzLnN0YXR1c1tpZF0gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= 